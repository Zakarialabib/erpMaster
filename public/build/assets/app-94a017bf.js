function vo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qa={exports:{}},Tu=function(e,t){return function(){for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];return e.apply(t,o)}},vf=Tu,el=Object.prototype.toString,tl=function(n){return function(e){var t=el.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function Or(n){return n=n.toLowerCase(),function(t){return tl(t)===n}}function nl(n){return Array.isArray(n)}function Ji(n){return typeof n>"u"}function bf(n){return n!==null&&!Ji(n)&&n.constructor!==null&&!Ji(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var Ou=Or("ArrayBuffer");function yf(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ou(n.buffer),e}function wf(n){return typeof n=="string"}function kf(n){return typeof n=="number"}function Bu(n){return n!==null&&typeof n=="object"}function $i(n){if(tl(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var xf=Or("Date"),Ef=Or("File"),Sf=Or("Blob"),_f=Or("FileList");function rl(n){return el.call(n)==="[object Function]"}function Cf(n){return Bu(n)&&rl(n.pipe)}function Tf(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||el.call(n)===e||rl(n.toString)&&n.toString()===e)}var Of=Or("URLSearchParams");function Bf(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function Af(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ol(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),nl(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.call(null,n[o],o,n)}function Oa(){var n={};function e(o,i){$i(n[i])&&$i(o)?n[i]=Oa(n[i],o):$i(o)?n[i]=Oa({},o):nl(o)?n[i]=o.slice():n[i]=o}for(var t=0,r=arguments.length;t<r;t++)ol(arguments[t],e);return n}function Lf(n,e,t){return ol(e,function(o,i){t&&typeof o=="function"?n[i]=vf(o,t):n[i]=o}),n}function Mf(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function If(n,e,t,r){n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function Rf(n,e,t){var r,o,i,s={};e=e||{};do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)i=r[o],s[i]||(e[i]=n[i],s[i]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function Nf(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}function Pf(n){if(!n)return null;var e=n.length;if(Ji(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var Df=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Vt={isArray:nl,isArrayBuffer:Ou,isBuffer:bf,isFormData:Tf,isArrayBufferView:yf,isString:wf,isNumber:kf,isObject:Bu,isPlainObject:$i,isUndefined:Ji,isDate:xf,isFile:Ef,isBlob:Sf,isFunction:rl,isStream:Cf,isURLSearchParams:Of,isStandardBrowserEnv:Af,forEach:ol,merge:Oa,extend:Lf,trim:Bf,stripBOM:Mf,inherits:If,toFlatObject:Rf,kindOf:tl,kindOfTest:Or,endsWith:Nf,toArray:Pf,isTypedArray:Df,isFileList:_f},qr=Vt;function rc(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Au=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(qr.isURLSearchParams(t))o=t.toString();else{var i=[];qr.forEach(t,function(c,u){c===null||typeof c>"u"||(qr.isArray(c)?u=u+"[]":c=[c],qr.forEach(c,function(h){qr.isDate(h)?h=h.toISOString():qr.isObject(h)&&(h=JSON.stringify(h)),i.push(rc(u)+"="+rc(h))}))}),o=i.join("&")}if(o){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e},jf=Vt;function is(){this.handlers=[]}is.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};is.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};is.prototype.forEach=function(e){jf.forEach(this.handlers,function(r){r!==null&&e(r)})};var Ff=is,Hf=Vt,Uf=function(e,t){Hf.forEach(e,function(o,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[i])})},Lu=Vt;function uo(n,e,t,r,o){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o)}Lu.inherits(uo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Mu=uo.prototype,Iu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){Iu[n]={value:n}});Object.defineProperties(uo,Iu);Object.defineProperty(Mu,"isAxiosError",{value:!0});uo.from=function(n,e,t,r,o,i){var s=Object.create(Mu);return Lu.toFlatObject(n,s,function(c){return c!==Error.prototype}),uo.call(s,n.message,e,t,r,o),s.name=n.name,i&&Object.assign(s,i),s};var bo=uo,Ru={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kn=Vt;function $f(n,e){e=e||new FormData;var t=[];function r(i){return i===null?"":kn.isDate(i)?i.toISOString():kn.isArrayBuffer(i)||kn.isTypedArray(i)?typeof Blob=="function"?new Blob([i]):Buffer.from(i):i}function o(i,s){if(kn.isPlainObject(i)||kn.isArray(i)){if(t.indexOf(i)!==-1)throw Error("Circular reference detected in "+s);t.push(i),kn.forEach(i,function(c,u){if(!kn.isUndefined(c)){var f=s?s+"."+u:u,h;if(c&&!s&&typeof c=="object"){if(kn.endsWith(u,"{}"))c=JSON.stringify(c);else if(kn.endsWith(u,"[]")&&(h=kn.toArray(c))){h.forEach(function(p){!kn.isUndefined(p)&&e.append(f,r(p))});return}}o(c,f)}}),t.pop()}else e.append(s,r(i))}return o(n),e}var Nu=$f,Gs,oc;function Wf(){if(oc)return Gs;oc=1;var n=bo;return Gs=function(t,r,o){var i=o.config.validateStatus;!o.status||!i||i(o.status)?t(o):r(new n("Request failed with status code "+o.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},Gs}var Js,ic;function qf(){if(ic)return Js;ic=1;var n=Vt;return Js=n.isStandardBrowserEnv()?function(){return{write:function(r,o,i,s,l,c){var u=[];u.push(r+"="+encodeURIComponent(o)),n.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),n.isString(s)&&u.push("path="+s),n.isString(l)&&u.push("domain="+l),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Js}var zf=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Yf=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Xf=zf,Kf=Yf,Pu=function(e,t){return e&&!Xf(t)?Kf(e,t):t},Zs,sc;function Vf(){if(sc)return Zs;sc=1;var n=Vt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Zs=function(r){var o={},i,s,l;return r&&n.forEach(r.split(`
`),function(u){if(l=u.indexOf(":"),i=n.trim(u.substr(0,l)).toLowerCase(),s=n.trim(u.substr(l+1)),i){if(o[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?o[i]=(o[i]?o[i]:[]).concat([s]):o[i]=o[i]?o[i]+", "+s:s}}),o},Zs}var Qs,ac;function Gf(){if(ac)return Qs;ac=1;var n=Vt;return Qs=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),o;function i(s){var l=s;return t&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=i(window.location.href),function(l){var c=n.isString(l)?i(l):l;return c.protocol===o.protocol&&c.host===o.host}}():function(){return function(){return!0}}(),Qs}var ea,lc;function ss(){if(lc)return ea;lc=1;var n=bo,e=Vt;function t(r){n.call(this,r??"canceled",n.ERR_CANCELED),this.name="CanceledError"}return e.inherits(t,n,{__CANCEL__:!0}),ea=t,ea}var ta,cc;function Jf(){return cc||(cc=1,ta=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),ta}var na,uc;function dc(){if(uc)return na;uc=1;var n=Vt,e=Wf(),t=qf(),r=Au,o=Pu,i=Vf(),s=Gf(),l=Ru,c=bo,u=ss(),f=Jf();return na=function(p){return new Promise(function(g,y){var C=p.data,L=p.headers,S=p.responseType,m;function k(){p.cancelToken&&p.cancelToken.unsubscribe(m),p.signal&&p.signal.removeEventListener("abort",m)}n.isFormData(C)&&n.isStandardBrowserEnv()&&delete L["Content-Type"];var x=new XMLHttpRequest;if(p.auth){var A=p.auth.username||"",O=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";L.Authorization="Basic "+btoa(A+":"+O)}var b=o(p.baseURL,p.url);x.open(p.method.toUpperCase(),r(b,p.params,p.paramsSerializer),!0),x.timeout=p.timeout;function v(){if(x){var R="getAllResponseHeaders"in x?i(x.getAllResponseHeaders()):null,D=!S||S==="text"||S==="json"?x.responseText:x.response,z={data:D,status:x.status,statusText:x.statusText,headers:R,config:p,request:x};e(function(U){g(U),k()},function(U){y(U),k()},z),x=null}}if("onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(y(new c("Request aborted",c.ECONNABORTED,p,x)),x=null)},x.onerror=function(){y(new c("Network Error",c.ERR_NETWORK,p,x,x)),x=null},x.ontimeout=function(){var D=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",z=p.transitional||l;p.timeoutErrorMessage&&(D=p.timeoutErrorMessage),y(new c(D,z.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,p,x)),x=null},n.isStandardBrowserEnv()){var B=(p.withCredentials||s(b))&&p.xsrfCookieName?t.read(p.xsrfCookieName):void 0;B&&(L[p.xsrfHeaderName]=B)}"setRequestHeader"in x&&n.forEach(L,function(D,z){typeof C>"u"&&z.toLowerCase()==="content-type"?delete L[z]:x.setRequestHeader(z,D)}),n.isUndefined(p.withCredentials)||(x.withCredentials=!!p.withCredentials),S&&S!=="json"&&(x.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&x.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(m=function(R){x&&(y(!R||R&&R.type?new u:R),x.abort(),x=null)},p.cancelToken&&p.cancelToken.subscribe(m),p.signal&&(p.signal.aborted?m():p.signal.addEventListener("abort",m))),C||(C=null);var _=f(b);if(_&&["http","https","file"].indexOf(_)===-1){y(new c("Unsupported protocol "+_+":",c.ERR_BAD_REQUEST,p));return}x.send(C)})},na}var ra,hc;function Zf(){return hc||(hc=1,ra=null),ra}var Ft=Vt,fc=Uf,pc=bo,Qf=Ru,ep=Nu,tp={"Content-Type":"application/x-www-form-urlencoded"};function gc(n,e){!Ft.isUndefined(n)&&Ft.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function np(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=dc()),n}function rp(n,e,t){if(Ft.isString(n))try{return(e||JSON.parse)(n),Ft.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var as={transitional:Qf,adapter:np(),transformRequest:[function(e,t){if(fc(t,"Accept"),fc(t,"Content-Type"),Ft.isFormData(e)||Ft.isArrayBuffer(e)||Ft.isBuffer(e)||Ft.isStream(e)||Ft.isFile(e)||Ft.isBlob(e))return e;if(Ft.isArrayBufferView(e))return e.buffer;if(Ft.isURLSearchParams(e))return gc(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Ft.isObject(e),o=t&&t["Content-Type"],i;if((i=Ft.isFileList(e))||r&&o==="multipart/form-data"){var s=this.env&&this.env.FormData;return ep(i?{"files[]":e}:e,s&&new s)}else if(r||o==="application/json")return gc(t,"application/json"),rp(e);return e}],transformResponse:[function(e){var t=this.transitional||as.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||o&&Ft.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(i)throw s.name==="SyntaxError"?pc.from(s,pc.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zf()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ft.forEach(["delete","get","head"],function(e){as.headers[e]={}});Ft.forEach(["post","put","patch"],function(e){as.headers[e]=Ft.merge(tp)});var il=as,op=Vt,ip=il,sp=function(e,t,r){var o=this||ip;return op.forEach(r,function(s){e=s.call(o,e,t)}),e},oa,mc;function Du(){return mc||(mc=1,oa=function(e){return!!(e&&e.__CANCEL__)}),oa}var vc=Vt,ia=sp,ap=Du(),lp=il,cp=ss();function sa(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new cp}var up=function(e){sa(e),e.headers=e.headers||{},e.data=ia.call(e,e.data,e.headers,e.transformRequest),e.headers=vc.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),vc.forEach(["delete","get","head","post","put","patch","common"],function(o){delete e.headers[o]});var t=e.adapter||lp.adapter;return t(e).then(function(o){return sa(e),o.data=ia.call(e,o.data,o.headers,e.transformResponse),o},function(o){return ap(o)||(sa(e),o&&o.response&&(o.response.data=ia.call(e,o.response.data,o.response.headers,e.transformResponse))),Promise.reject(o)})},dn=Vt,ju=function(e,t){t=t||{};var r={};function o(f,h){return dn.isPlainObject(f)&&dn.isPlainObject(h)?dn.merge(f,h):dn.isPlainObject(h)?dn.merge({},h):dn.isArray(h)?h.slice():h}function i(f){if(dn.isUndefined(t[f])){if(!dn.isUndefined(e[f]))return o(void 0,e[f])}else return o(e[f],t[f])}function s(f){if(!dn.isUndefined(t[f]))return o(void 0,t[f])}function l(f){if(dn.isUndefined(t[f])){if(!dn.isUndefined(e[f]))return o(void 0,e[f])}else return o(void 0,t[f])}function c(f){if(f in t)return o(e[f],t[f]);if(f in e)return o(void 0,e[f])}var u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c};return dn.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var p=u[h]||i,E=p(h);dn.isUndefined(E)&&p!==c||(r[h]=E)}),r},aa,bc;function Fu(){return bc||(bc=1,aa={version:"0.27.2"}),aa}var dp=Fu().version,er=bo,sl={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){sl[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var yc={};sl.transitional=function(e,t,r){function o(i,s){return"[Axios v"+dp+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return function(i,s,l){if(e===!1)throw new er(o(s," has been removed"+(t?" in "+t:"")),er.ERR_DEPRECATED);return t&&!yc[s]&&(yc[s]=!0,console.warn(o(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,l):!0}};function hp(n,e,t){if(typeof n!="object")throw new er("options must be an object",er.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(n),o=r.length;o-- >0;){var i=r[o],s=e[i];if(s){var l=n[i],c=l===void 0||s(l,i,n);if(c!==!0)throw new er("option "+i+" must be "+c,er.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new er("Unknown option "+i,er.ERR_BAD_OPTION)}}var fp={assertOptions:hp,validators:sl},Hu=Vt,pp=Au,wc=Ff,kc=up,ls=ju,gp=Pu,Uu=fp,zr=Uu.validators;function ho(n){this.defaults=n,this.interceptors={request:new wc,response:new wc}}ho.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ls(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&Uu.assertOptions(r,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1);var o=[],i=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(i=i&&E.synchronous,o.unshift(E.fulfilled,E.rejected))});var s=[];this.interceptors.response.forEach(function(E){s.push(E.fulfilled,E.rejected)});var l;if(!i){var c=[kc,void 0];for(Array.prototype.unshift.apply(c,o),c=c.concat(s),l=Promise.resolve(t);c.length;)l=l.then(c.shift(),c.shift());return l}for(var u=t;o.length;){var f=o.shift(),h=o.shift();try{u=f(u)}catch(p){h(p);break}}try{l=kc(u)}catch(p){return Promise.reject(p)}for(;s.length;)l=l.then(s.shift(),s.shift());return l};ho.prototype.getUri=function(e){e=ls(this.defaults,e);var t=gp(e.baseURL,e.url);return pp(t,e.params,e.paramsSerializer)};Hu.forEach(["delete","get","head","options"],function(e){ho.prototype[e]=function(t,r){return this.request(ls(r||{},{method:e,url:t,data:(r||{}).data}))}});Hu.forEach(["post","put","patch"],function(e){function t(r){return function(i,s,l){return this.request(ls(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}ho.prototype[e]=t(),ho.prototype[e+"Form"]=t(!0)});var mp=ho,la,xc;function vp(){if(xc)return la;xc=1;var n=ss();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(s){r=s});var o=this;this.promise.then(function(i){if(o._listeners){var s,l=o._listeners.length;for(s=0;s<l;s++)o._listeners[s](i);o._listeners=null}}),this.promise.then=function(i){var s,l=new Promise(function(c){o.subscribe(c),s=c}).then(i);return l.cancel=function(){o.unsubscribe(s)},l},t(function(s){o.reason||(o.reason=new n(s),r(o.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}},e.source=function(){var r,o=new e(function(s){r=s});return{token:o,cancel:r}},la=e,la}var ca,Ec;function bp(){return Ec||(Ec=1,ca=function(e){return function(r){return e.apply(null,r)}}),ca}var ua,Sc;function yp(){if(Sc)return ua;Sc=1;var n=Vt;return ua=function(t){return n.isObject(t)&&t.isAxiosError===!0},ua}var _c=Vt,wp=Tu,Wi=mp,kp=ju,xp=il;function $u(n){var e=new Wi(n),t=wp(Wi.prototype.request,e);return _c.extend(t,Wi.prototype,e),_c.extend(t,e),t.create=function(o){return $u(kp(n,o))},t}var an=$u(xp);an.Axios=Wi;an.CanceledError=ss();an.CancelToken=vp();an.isCancel=Du();an.VERSION=Fu().version;an.toFormData=Nu;an.AxiosError=bo;an.Cancel=an.CanceledError;an.all=function(e){return Promise.all(e)};an.spread=bp();an.isAxiosError=yp();Qa.exports=an;Qa.exports.default=an;var Ep=Qa.exports,Sp=Ep;const _p=vo(Sp);window.axios=_p;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Cp=Object.create,Wu=Object.defineProperty,Tp=Object.getOwnPropertyDescriptor,qu=Object.getOwnPropertyNames,Op=Object.getPrototypeOf,Bp=Object.prototype.hasOwnProperty,Xn=(n,e)=>function(){return e||(0,n[qu(n)[0]])((e={exports:{}}).exports,e),e.exports},Ap=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of qu(e))!Bp.call(n,o)&&o!==t&&Wu(n,o,{get:()=>e[o],enumerable:!(r=Tp(e,o))||r.enumerable});return n},dt=(n,e,t)=>(t=n!=null?Cp(Op(n)):{},Ap(e||!n||!n.__esModule?Wu(t,"default",{value:n,enumerable:!0}):t,n)),It=Xn({"../alpine/packages/alpinejs/dist/module.cjs.js"(n,e){var t=Object.create,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(a,d)=>function(){return d||(0,a[i(a)[0]])((d={exports:{}}).exports,d),d.exports},u=(a,d)=>{for(var w in d)r(a,w,{get:d[w],enumerable:!0})},f=(a,d,w,M)=>{if(d&&typeof d=="object"||typeof d=="function")for(let j of i(d))!l.call(a,j)&&j!==w&&r(a,j,{get:()=>d[j],enumerable:!(M=o(d,j))||M.enumerable});return a},h=(a,d,w)=>(w=a!=null?t(s(a)):{},f(d||!a||!a.__esModule?r(w,"default",{value:a,enumerable:!0}):w,a)),p=a=>f(r({},"__esModule",{value:!0}),a),E=c({"node_modules/@vue/shared/dist/shared.cjs.js"(a){Object.defineProperty(a,"__esModule",{value:!0});function d($,de){const ye=Object.create(null),Ce=$.split(",");for(let st=0;st<Ce.length;st++)ye[Ce[st]]=!0;return de?st=>!!ye[st.toLowerCase()]:st=>!!ye[st]}var w={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},M={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},j="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",P=d(j),H=2;function q($,de=0,ye=$.length){let Ce=$.split(/(\r?\n)/);const st=Ce.filter((Wt,At)=>At%2===1);Ce=Ce.filter((Wt,At)=>At%2===0);let mt=0;const $t=[];for(let Wt=0;Wt<Ce.length;Wt++)if(mt+=Ce[Wt].length+(st[Wt]&&st[Wt].length||0),mt>=de){for(let At=Wt-H;At<=Wt+H||ye>mt;At++){if(At<0||At>=Ce.length)continue;const Ho=At+1;$t.push(`${Ho}${" ".repeat(Math.max(3-String(Ho).length,0))}|  ${Ce[At]}`);const $r=Ce[At].length,Ii=st[At]&&st[At].length||0;if(At===Wt){const Wr=de-(mt-($r+Ii)),Ks=Math.max(1,ye>mt?$r-Wr:ye-de);$t.push("   |  "+" ".repeat(Wr)+"^".repeat(Ks))}else if(At>Wt){if(ye>mt){const Wr=Math.max(Math.min(ye-mt,$r),1);$t.push("   |  "+"^".repeat(Wr))}mt+=$r+Ii}}break}return $t.join(`
`)}var te="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",be=d(te),Qe=d(te+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),ft=/[>/="'\u0009\u000a\u000c\u0020]/,tt={};function ht($){if(tt.hasOwnProperty($))return tt[$];const de=ft.test($);return de&&console.error(`unsafe attribute name: ${$}`),tt[$]=!de}var nn={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Bn=d("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Pe=d("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function it($){if(bn($)){const de={};for(let ye=0;ye<$.length;ye++){const Ce=$[ye],st=it(gr(Ce)?Ut(Ce):Ce);if(st)for(const mt in st)de[mt]=st[mt]}return de}else if(Ln($))return $}var Je=/;(?![^(]*\))/g,at=/:(.+)/;function Ut($){const de={};return $.split(Je).forEach(ye=>{if(ye){const Ce=ye.split(at);Ce.length>1&&(de[Ce[0].trim()]=Ce[1].trim())}}),de}function vn($){let de="";if(!$)return de;for(const ye in $){const Ce=$[ye],st=ye.startsWith("--")?ye:Li(ye);(gr(Ce)||typeof Ce=="number"&&Bn(st))&&(de+=`${st}:${Ce};`)}return de}function An($){let de="";if(gr($))de=$;else if(bn($))for(let ye=0;ye<$.length;ye++){const Ce=An($[ye]);Ce&&(de+=Ce+" ")}else if(Ln($))for(const ye in $)$[ye]&&(de+=ye+" ");return de.trim()}var Ar="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Mo="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Io="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Lr=d(Ar),Ps=d(Mo),Mr=d(Io),Ds=/["'&<>]/;function js($){const de=""+$,ye=Ds.exec(de);if(!ye)return de;let Ce="",st,mt,$t=0;for(mt=ye.index;mt<de.length;mt++){switch(de.charCodeAt(mt)){case 34:st="&quot;";break;case 38:st="&amp;";break;case 39:st="&#39;";break;case 60:st="&lt;";break;case 62:st="&gt;";break;default:continue}$t!==mt&&(Ce+=de.substring($t,mt)),$t=mt+1,Ce+=st}return $t!==mt?Ce+de.substring($t,mt):Ce}var bi=/^-?>|<!--|-->|--!>|<!-$/g;function Fs($){return $.replace(bi,"")}function Hs($,de){if($.length!==de.length)return!1;let ye=!0;for(let Ce=0;ye&&Ce<$.length;Ce++)ye=Ir($[Ce],de[Ce]);return ye}function Ir($,de){if($===de)return!0;let ye=Do($),Ce=Do(de);if(ye||Ce)return ye&&Ce?$.getTime()===de.getTime():!1;if(ye=bn($),Ce=bn(de),ye||Ce)return ye&&Ce?Hs($,de):!1;if(ye=Ln($),Ce=Ln(de),ye||Ce){if(!ye||!Ce)return!1;const st=Object.keys($).length,mt=Object.keys(de).length;if(st!==mt)return!1;for(const $t in $){const Wt=$.hasOwnProperty($t),At=de.hasOwnProperty($t);if(Wt&&!At||!Wt&&At||!Ir($[$t],de[$t]))return!1}}return String($)===String(de)}function yi($,de){return $.findIndex(ye=>Ir(ye,de))}var wi=$=>$==null?"":Ln($)?JSON.stringify($,Us,2):String($),Us=($,de)=>pr(de)?{[`Map(${de.size})`]:[...de.entries()].reduce((ye,[Ce,st])=>(ye[`${Ce} =>`]=st,ye),{})}:yn(de)?{[`Set(${de.size})`]:[...de.values()]}:Ln(de)&&!bn(de)&&!Ci(de)?String(de):de,$s=["bigInt","optionalChaining","nullishCoalescingOperator"],Ro=Object.freeze({}),No=Object.freeze([]),Po=()=>{},Rr=()=>!1,Nr=/^on[^a-z]/,Pr=$=>Nr.test($),Dr=$=>$.startsWith("onUpdate:"),ki=Object.assign,xi=($,de)=>{const ye=$.indexOf(de);ye>-1&&$.splice(ye,1)},Ei=Object.prototype.hasOwnProperty,Si=($,de)=>Ei.call($,de),bn=Array.isArray,pr=$=>mr($)==="[object Map]",yn=$=>mr($)==="[object Set]",Do=$=>$ instanceof Date,jo=$=>typeof $=="function",gr=$=>typeof $=="string",Ws=$=>typeof $=="symbol",Ln=$=>$!==null&&typeof $=="object",jr=$=>Ln($)&&jo($.then)&&jo($.catch),_i=Object.prototype.toString,mr=$=>_i.call($),qs=$=>mr($).slice(8,-1),Ci=$=>mr($)==="[object Object]",Ti=$=>gr($)&&$!=="NaN"&&$[0]!=="-"&&""+parseInt($,10)===$,Oi=d(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vr=$=>{const de=Object.create(null);return ye=>de[ye]||(de[ye]=$(ye))},Bi=/-(\w)/g,Ai=vr($=>$.replace(Bi,(de,ye)=>ye?ye.toUpperCase():"")),zs=/\B([A-Z])/g,Li=vr($=>$.replace(zs,"-$1").toLowerCase()),br=vr($=>$.charAt(0).toUpperCase()+$.slice(1)),Ys=vr($=>$?`on${br($)}`:""),Fo=($,de)=>$!==de&&($===$||de===de),Xs=($,de)=>{for(let ye=0;ye<$.length;ye++)$[ye](de)},Fr=($,de,ye)=>{Object.defineProperty($,de,{configurable:!0,enumerable:!1,value:ye})},Hr=$=>{const de=parseFloat($);return isNaN(de)?$:de},Ur,Mi=()=>Ur||(Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});a.EMPTY_ARR=No,a.EMPTY_OBJ=Ro,a.NO=Rr,a.NOOP=Po,a.PatchFlagNames=w,a.babelParserDefaultPlugins=$s,a.camelize=Ai,a.capitalize=br,a.def=Fr,a.escapeHtml=js,a.escapeHtmlComment=Fs,a.extend=ki,a.generateCodeFrame=q,a.getGlobalThis=Mi,a.hasChanged=Fo,a.hasOwn=Si,a.hyphenate=Li,a.invokeArrayFns=Xs,a.isArray=bn,a.isBooleanAttr=Qe,a.isDate=Do,a.isFunction=jo,a.isGloballyWhitelisted=P,a.isHTMLTag=Lr,a.isIntegerKey=Ti,a.isKnownAttr=Pe,a.isMap=pr,a.isModelListener=Dr,a.isNoUnitNumericStyleProp=Bn,a.isObject=Ln,a.isOn=Pr,a.isPlainObject=Ci,a.isPromise=jr,a.isReservedProp=Oi,a.isSSRSafeAttrName=ht,a.isSVGTag=Ps,a.isSet=yn,a.isSpecialBooleanAttr=be,a.isString=gr,a.isSymbol=Ws,a.isVoidTag=Mr,a.looseEqual=Ir,a.looseIndexOf=yi,a.makeMap=d,a.normalizeClass=An,a.normalizeStyle=it,a.objectToString=_i,a.parseStringStyle=Ut,a.propsToAttrMap=nn,a.remove=xi,a.slotFlagsText=M,a.stringifyStyle=vn,a.toDisplayString=wi,a.toHandlerKey=Ys,a.toNumber=Hr,a.toRawType=qs,a.toTypeString=mr}}),g=c({"node_modules/@vue/shared/index.js"(a,d){d.exports=E()}}),y=c({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(a){Object.defineProperty(a,"__esModule",{value:!0});var d=g(),w=new WeakMap,M=[],j,P=Symbol("iterate"),H=Symbol("Map key iterate");function q(T){return T&&T._isEffect===!0}function te(T,K=d.EMPTY_OBJ){q(T)&&(T=T.raw);const Z=ft(T,K);return K.lazy||Z(),Z}function be(T){T.active&&(tt(T),T.options.onStop&&T.options.onStop(),T.active=!1)}var Qe=0;function ft(T,K){const Z=function(){if(!Z.active)return T();if(!M.includes(Z)){tt(Z);try{return Pe(),M.push(Z),j=Z,T()}finally{M.pop(),it(),j=M[M.length-1]}}};return Z.id=Qe++,Z.allowRecurse=!!K.allowRecurse,Z._isEffect=!0,Z.active=!0,Z.raw=T,Z.deps=[],Z.options=K,Z}function tt(T){const{deps:K}=T;if(K.length){for(let Z=0;Z<K.length;Z++)K[Z].delete(T);K.length=0}}var ht=!0,nn=[];function Bn(){nn.push(ht),ht=!1}function Pe(){nn.push(ht),ht=!0}function it(){const T=nn.pop();ht=T===void 0?!0:T}function Je(T,K,Z){if(!ht||j===void 0)return;let Ee=w.get(T);Ee||w.set(T,Ee=new Map);let pe=Ee.get(Z);pe||Ee.set(Z,pe=new Set),pe.has(j)||(pe.add(j),j.deps.push(pe),j.options.onTrack&&j.options.onTrack({effect:j,target:T,type:K,key:Z}))}function at(T,K,Z,Ee,pe,Ie){const Ge=w.get(T);if(!Ge)return;const kt=new Set,qt=jt=>{jt&&jt.forEach(wn=>{(wn!==j||wn.allowRecurse)&&kt.add(wn)})};if(K==="clear")Ge.forEach(qt);else if(Z==="length"&&d.isArray(T))Ge.forEach((jt,wn)=>{(wn==="length"||wn>=Ee)&&qt(jt)});else switch(Z!==void 0&&qt(Ge.get(Z)),K){case"add":d.isArray(T)?d.isIntegerKey(Z)&&qt(Ge.get("length")):(qt(Ge.get(P)),d.isMap(T)&&qt(Ge.get(H)));break;case"delete":d.isArray(T)||(qt(Ge.get(P)),d.isMap(T)&&qt(Ge.get(H)));break;case"set":d.isMap(T)&&qt(Ge.get(P));break}const Uo=jt=>{jt.options.onTrigger&&jt.options.onTrigger({effect:jt,target:T,key:Z,type:K,newValue:Ee,oldValue:pe,oldTarget:Ie}),jt.options.scheduler?jt.options.scheduler(jt):jt()};kt.forEach(Uo)}var Ut=d.makeMap("__proto__,__v_isRef,__isVue"),vn=new Set(Object.getOwnPropertyNames(Symbol).map(T=>Symbol[T]).filter(d.isSymbol)),An=Mr(),Ar=Mr(!1,!0),Mo=Mr(!0),Io=Mr(!0,!0),Lr=Ps();function Ps(){const T={};return["includes","indexOf","lastIndexOf"].forEach(K=>{T[K]=function(...Z){const Ee=$(this);for(let Ie=0,Ge=this.length;Ie<Ge;Ie++)Je(Ee,"get",Ie+"");const pe=Ee[K](...Z);return pe===-1||pe===!1?Ee[K](...Z.map($)):pe}}),["push","pop","shift","unshift","splice"].forEach(K=>{T[K]=function(...Z){Bn();const Ee=$(this)[K].apply(this,Z);return it(),Ee}}),T}function Mr(T=!1,K=!1){return function(Ee,pe,Ie){if(pe==="__v_isReactive")return!T;if(pe==="__v_isReadonly")return T;if(pe==="__v_raw"&&Ie===(T?K?Ai:Bi:K?vr:Oi).get(Ee))return Ee;const Ge=d.isArray(Ee);if(!T&&Ge&&d.hasOwn(Lr,pe))return Reflect.get(Lr,pe,Ie);const kt=Reflect.get(Ee,pe,Ie);return(d.isSymbol(pe)?vn.has(pe):Ut(pe))||(T||Je(Ee,"get",pe),K)?kt:Ce(kt)?!Ge||!d.isIntegerKey(pe)?kt.value:kt:d.isObject(kt)?T?Fo(kt):br(kt):kt}}var Ds=bi(),js=bi(!0);function bi(T=!1){return function(Z,Ee,pe,Ie){let Ge=Z[Ee];if(!T&&(pe=$(pe),Ge=$(Ge),!d.isArray(Z)&&Ce(Ge)&&!Ce(pe)))return Ge.value=pe,!0;const kt=d.isArray(Z)&&d.isIntegerKey(Ee)?Number(Ee)<Z.length:d.hasOwn(Z,Ee),qt=Reflect.set(Z,Ee,pe,Ie);return Z===$(Ie)&&(kt?d.hasChanged(pe,Ge)&&at(Z,"set",Ee,pe,Ge):at(Z,"add",Ee,pe)),qt}}function Fs(T,K){const Z=d.hasOwn(T,K),Ee=T[K],pe=Reflect.deleteProperty(T,K);return pe&&Z&&at(T,"delete",K,void 0,Ee),pe}function Hs(T,K){const Z=Reflect.has(T,K);return(!d.isSymbol(K)||!vn.has(K))&&Je(T,"has",K),Z}function Ir(T){return Je(T,"iterate",d.isArray(T)?"length":P),Reflect.ownKeys(T)}var yi={get:An,set:Ds,deleteProperty:Fs,has:Hs,ownKeys:Ir},wi={get:Mo,set(T,K){return console.warn(`Set operation on key "${String(K)}" failed: target is readonly.`,T),!0},deleteProperty(T,K){return console.warn(`Delete operation on key "${String(K)}" failed: target is readonly.`,T),!0}},Us=d.extend({},yi,{get:Ar,set:js}),$s=d.extend({},wi,{get:Io}),Ro=T=>d.isObject(T)?br(T):T,No=T=>d.isObject(T)?Fo(T):T,Po=T=>T,Rr=T=>Reflect.getPrototypeOf(T);function Nr(T,K,Z=!1,Ee=!1){T=T.__v_raw;const pe=$(T),Ie=$(K);K!==Ie&&!Z&&Je(pe,"get",K),!Z&&Je(pe,"get",Ie);const{has:Ge}=Rr(pe),kt=Ee?Po:Z?No:Ro;if(Ge.call(pe,K))return kt(T.get(K));if(Ge.call(pe,Ie))return kt(T.get(Ie));T!==pe&&T.get(K)}function Pr(T,K=!1){const Z=this.__v_raw,Ee=$(Z),pe=$(T);return T!==pe&&!K&&Je(Ee,"has",T),!K&&Je(Ee,"has",pe),T===pe?Z.has(T):Z.has(T)||Z.has(pe)}function Dr(T,K=!1){return T=T.__v_raw,!K&&Je($(T),"iterate",P),Reflect.get(T,"size",T)}function ki(T){T=$(T);const K=$(this);return Rr(K).has.call(K,T)||(K.add(T),at(K,"add",T,T)),this}function xi(T,K){K=$(K);const Z=$(this),{has:Ee,get:pe}=Rr(Z);let Ie=Ee.call(Z,T);Ie?Ti(Z,Ee,T):(T=$(T),Ie=Ee.call(Z,T));const Ge=pe.call(Z,T);return Z.set(T,K),Ie?d.hasChanged(K,Ge)&&at(Z,"set",T,K,Ge):at(Z,"add",T,K),this}function Ei(T){const K=$(this),{has:Z,get:Ee}=Rr(K);let pe=Z.call(K,T);pe?Ti(K,Z,T):(T=$(T),pe=Z.call(K,T));const Ie=Ee?Ee.call(K,T):void 0,Ge=K.delete(T);return pe&&at(K,"delete",T,void 0,Ie),Ge}function Si(){const T=$(this),K=T.size!==0,Z=d.isMap(T)?new Map(T):new Set(T),Ee=T.clear();return K&&at(T,"clear",void 0,void 0,Z),Ee}function bn(T,K){return function(Ee,pe){const Ie=this,Ge=Ie.__v_raw,kt=$(Ge),qt=K?Po:T?No:Ro;return!T&&Je(kt,"iterate",P),Ge.forEach((Uo,jt)=>Ee.call(pe,qt(Uo),qt(jt),Ie))}}function pr(T,K,Z){return function(...Ee){const pe=this.__v_raw,Ie=$(pe),Ge=d.isMap(Ie),kt=T==="entries"||T===Symbol.iterator&&Ge,qt=T==="keys"&&Ge,Uo=pe[T](...Ee),jt=Z?Po:K?No:Ro;return!K&&Je(Ie,"iterate",qt?H:P),{next(){const{value:wn,done:Vs}=Uo.next();return Vs?{value:wn,done:Vs}:{value:kt?[jt(wn[0]),jt(wn[1])]:jt(wn),done:Vs}},[Symbol.iterator](){return this}}}}function yn(T){return function(...K){{const Z=K[0]?`on key "${K[0]}" `:"";console.warn(`${d.capitalize(T)} operation ${Z}failed: target is readonly.`,$(this))}return T==="delete"?!1:this}}function Do(){const T={get(Ie){return Nr(this,Ie)},get size(){return Dr(this)},has:Pr,add:ki,set:xi,delete:Ei,clear:Si,forEach:bn(!1,!1)},K={get(Ie){return Nr(this,Ie,!1,!0)},get size(){return Dr(this)},has:Pr,add:ki,set:xi,delete:Ei,clear:Si,forEach:bn(!1,!0)},Z={get(Ie){return Nr(this,Ie,!0)},get size(){return Dr(this,!0)},has(Ie){return Pr.call(this,Ie,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:bn(!0,!1)},Ee={get(Ie){return Nr(this,Ie,!0,!0)},get size(){return Dr(this,!0)},has(Ie){return Pr.call(this,Ie,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:bn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ie=>{T[Ie]=pr(Ie,!1,!1),Z[Ie]=pr(Ie,!0,!1),K[Ie]=pr(Ie,!1,!0),Ee[Ie]=pr(Ie,!0,!0)}),[T,Z,K,Ee]}var[jo,gr,Ws,Ln]=Do();function jr(T,K){const Z=K?T?Ln:Ws:T?gr:jo;return(Ee,pe,Ie)=>pe==="__v_isReactive"?!T:pe==="__v_isReadonly"?T:pe==="__v_raw"?Ee:Reflect.get(d.hasOwn(Z,pe)&&pe in Ee?Z:Ee,pe,Ie)}var _i={get:jr(!1,!1)},mr={get:jr(!1,!0)},qs={get:jr(!0,!1)},Ci={get:jr(!0,!0)};function Ti(T,K,Z){const Ee=$(Z);if(Ee!==Z&&K.call(T,Ee)){const pe=d.toRawType(T);console.warn(`Reactive ${pe} contains both the raw and reactive versions of the same object${pe==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Oi=new WeakMap,vr=new WeakMap,Bi=new WeakMap,Ai=new WeakMap;function zs(T){switch(T){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Li(T){return T.__v_skip||!Object.isExtensible(T)?0:zs(d.toRawType(T))}function br(T){return T&&T.__v_isReadonly?T:Fr(T,!1,yi,_i,Oi)}function Ys(T){return Fr(T,!1,Us,mr,vr)}function Fo(T){return Fr(T,!0,wi,qs,Bi)}function Xs(T){return Fr(T,!0,$s,Ci,Ai)}function Fr(T,K,Z,Ee,pe){if(!d.isObject(T))return console.warn(`value cannot be made reactive: ${String(T)}`),T;if(T.__v_raw&&!(K&&T.__v_isReactive))return T;const Ie=pe.get(T);if(Ie)return Ie;const Ge=Li(T);if(Ge===0)return T;const kt=new Proxy(T,Ge===2?Ee:Z);return pe.set(T,kt),kt}function Hr(T){return Ur(T)?Hr(T.__v_raw):!!(T&&T.__v_isReactive)}function Ur(T){return!!(T&&T.__v_isReadonly)}function Mi(T){return Hr(T)||Ur(T)}function $(T){return T&&$(T.__v_raw)||T}function de(T){return d.def(T,"__v_skip",!0),T}var ye=T=>d.isObject(T)?br(T):T;function Ce(T){return!!(T&&T.__v_isRef===!0)}function st(T){return Wt(T)}function mt(T){return Wt(T,!0)}var $t=class{constructor(T,K=!1){this._shallow=K,this.__v_isRef=!0,this._rawValue=K?T:$(T),this._value=K?T:ye(T)}get value(){return Je($(this),"get","value"),this._value}set value(T){T=this._shallow?T:$(T),d.hasChanged(T,this._rawValue)&&(this._rawValue=T,this._value=this._shallow?T:ye(T),at($(this),"set","value",T))}};function Wt(T,K=!1){return Ce(T)?T:new $t(T,K)}function At(T){at($(T),"set","value",T.value)}function Ho(T){return Ce(T)?T.value:T}var $r={get:(T,K,Z)=>Ho(Reflect.get(T,K,Z)),set:(T,K,Z,Ee)=>{const pe=T[K];return Ce(pe)&&!Ce(Z)?(pe.value=Z,!0):Reflect.set(T,K,Z,Ee)}};function Ii(T){return Hr(T)?T:new Proxy(T,$r)}var Wr=class{constructor(T){this.__v_isRef=!0;const{get:K,set:Z}=T(()=>Je(this,"get","value"),()=>at(this,"set","value"));this._get=K,this._set=Z}get value(){return this._get()}set value(T){this._set(T)}};function Ks(T){return new Wr(T)}function ff(T){Mi(T)||console.warn("toRefs() expects a reactive object but received a plain one.");const K=d.isArray(T)?new Array(T.length):{};for(const Z in T)K[Z]=nc(T,Z);return K}var pf=class{constructor(T,K){this._object=T,this._key=K,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(T){this._object[this._key]=T}};function nc(T,K){return Ce(T[K])?T[K]:new pf(T,K)}var gf=class{constructor(T,K,Z){this._setter=K,this._dirty=!0,this.__v_isRef=!0,this.effect=te(T,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,at($(this),"set","value"))}}),this.__v_isReadonly=Z}get value(){const T=$(this);return T._dirty&&(T._value=this.effect(),T._dirty=!1),Je(T,"get","value"),T._value}set value(T){this._setter(T)}};function mf(T){let K,Z;return d.isFunction(T)?(K=T,Z=()=>{console.warn("Write operation failed: computed value is readonly")}):(K=T.get,Z=T.set),new gf(K,Z,d.isFunction(T)||!T.set)}a.ITERATE_KEY=P,a.computed=mf,a.customRef=Ks,a.effect=te,a.enableTracking=Pe,a.isProxy=Mi,a.isReactive=Hr,a.isReadonly=Ur,a.isRef=Ce,a.markRaw=de,a.pauseTracking=Bn,a.proxyRefs=Ii,a.reactive=br,a.readonly=Fo,a.ref=st,a.resetTracking=it,a.shallowReactive=Ys,a.shallowReadonly=Xs,a.shallowRef=mt,a.stop=be,a.toRaw=$,a.toRef=nc,a.toRefs=ff,a.track=Je,a.trigger=at,a.triggerRef=At,a.unref=Ho}}),C=c({"node_modules/@vue/reactivity/index.js"(a,d){d.exports=y()}}),L={};u(L,{default:()=>hf}),e.exports=p(L);var S=!1,m=!1,k=[],x=-1;function A(a){O(a)}function O(a){k.includes(a)||k.push(a),v()}function b(a){let d=k.indexOf(a);d!==-1&&d>x&&k.splice(d,1)}function v(){!m&&!S&&(S=!0,queueMicrotask(B))}function B(){S=!1,m=!0;for(let a=0;a<k.length;a++)k[a](),x=a;k.length=0,x=-1,m=!1}var _,R,D,z,N=!0;function U(a){N=!1,a(),N=!0}function ee(a){_=a.reactive,D=a.release,R=d=>a.effect(d,{scheduler:w=>{N?A(w):w()}}),z=a.raw}function J(a){R=a}function le(a){let d=()=>{};return[M=>{let j=R(M);return a._x_effects||(a._x_effects=new Set,a._x_runEffects=()=>{a._x_effects.forEach(P=>P())}),a._x_effects.add(j),d=()=>{j!==void 0&&(a._x_effects.delete(j),D(j))},j},()=>{d()}]}function Ue(a,d,w={}){a.dispatchEvent(new CustomEvent(d,{detail:w,bubbles:!0,composed:!0,cancelable:!0}))}function me(a,d){if(typeof ShadowRoot=="function"&&a instanceof ShadowRoot){Array.from(a.children).forEach(j=>me(j,d));return}let w=!1;if(d(a,()=>w=!0),w)return;let M=a.firstElementChild;for(;M;)me(M,d),M=M.nextElementSibling}function he(a,...d){console.warn(`Alpine Warning: ${a}`,...d)}var Ne=!1;function ue(){Ne&&he("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ne=!0,document.body||he("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ue(document,"alpine:init"),Ue(document,"alpine:initializing"),yt(),ut(d=>Be(d,me)),Oe(d=>G(d)),oe((d,w)=>{Ct(d,w).forEach(M=>M())});let a=d=>!$e(d.parentElement,!0);Array.from(document.querySelectorAll(ie().join(","))).filter(a).forEach(d=>{Be(d)}),Ue(document,"alpine:initialized")}var we=[],fe=[];function Ve(){return we.map(a=>a())}function ie(){return we.concat(fe).map(a=>a())}function ge(a){we.push(a)}function ke(a){fe.push(a)}function $e(a,d=!1){return Le(a,w=>{if((d?ie():Ve()).some(j=>w.matches(j)))return!0})}function Le(a,d){if(a){if(d(a))return a;if(a._x_teleportBack&&(a=a._x_teleportBack),!!a.parentElement)return Le(a.parentElement,d)}}function _e(a){return Ve().some(d=>a.matches(d))}var Dt=[];function pt(a){Dt.push(a)}function Be(a,d=me,w=()=>{}){dr(()=>{d(a,(M,j)=>{w(M,j),Dt.forEach(P=>P(M,j)),Ct(M,M.attributes).forEach(P=>P()),M._x_ignore&&j()})})}function G(a){me(a,d=>{Me(d),nt(d)})}var ne=[],Ae=[],se=[];function ut(a){se.push(a)}function Oe(a,d){typeof d=="function"?(a._x_cleanups||(a._x_cleanups=[]),a._x_cleanups.push(d)):(d=a,Ae.push(d))}function oe(a){ne.push(a)}function ce(a,d,w){a._x_attributeCleanups||(a._x_attributeCleanups={}),a._x_attributeCleanups[d]||(a._x_attributeCleanups[d]=[]),a._x_attributeCleanups[d].push(w)}function Me(a,d){a._x_attributeCleanups&&Object.entries(a._x_attributeCleanups).forEach(([w,M])=>{(d===void 0||d.includes(w))&&(M.forEach(j=>j()),delete a._x_attributeCleanups[w])})}function nt(a){if(a._x_cleanups)for(;a._x_cleanups.length;)a._x_cleanups.pop()()}var He=new MutationObserver(xo),Et=!1;function yt(){He.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Et=!0}function ln(){ko(),He.disconnect(),Et=!1}var cn=[],Vn=!1;function ko(){cn=cn.concat(He.takeRecords()),cn.length&&!Vn&&(Vn=!0,queueMicrotask(()=>{ar(),Vn=!1}))}function ar(){xo(cn),cn.length=0}function gt(a){if(!Et)return a();ln();let d=a();return yt(),d}var Br=!1,lr=[];function vs(){Br=!0}function bs(){Br=!1,xo(lr),lr=[]}function xo(a){if(Br){lr=lr.concat(a);return}let d=[],w=[],M=new Map,j=new Map;for(let P=0;P<a.length;P++)if(!a[P].target._x_ignoreMutationObserver&&(a[P].type==="childList"&&(a[P].addedNodes.forEach(H=>H.nodeType===1&&d.push(H)),a[P].removedNodes.forEach(H=>H.nodeType===1&&w.push(H))),a[P].type==="attributes")){let H=a[P].target,q=a[P].attributeName,te=a[P].oldValue,be=()=>{M.has(H)||M.set(H,[]),M.get(H).push({name:q,value:H.getAttribute(q)})},Qe=()=>{j.has(H)||j.set(H,[]),j.get(H).push(q)};H.hasAttribute(q)&&te===null?be():H.hasAttribute(q)?(Qe(),be()):Qe()}j.forEach((P,H)=>{Me(H,P)}),M.forEach((P,H)=>{ne.forEach(q=>q(H,P))});for(let P of w)d.includes(P)||(Ae.forEach(H=>H(P)),G(P));d.forEach(P=>{P._x_ignoreSelf=!0,P._x_ignore=!0});for(let P of d)w.includes(P)||P.isConnected&&(delete P._x_ignoreSelf,delete P._x_ignore,se.forEach(H=>H(P)),P._x_ignore=!0,P._x_ignoreSelf=!0);d.forEach(P=>{delete P._x_ignoreSelf,delete P._x_ignore}),d=null,w=null,M=null,j=null}function ci(a){return cr(Dn(a))}function Gn(a,d,w){return a._x_dataStack=[d,...Dn(w||a)],()=>{a._x_dataStack=a._x_dataStack.filter(M=>M!==d)}}function Dn(a){return a._x_dataStack?a._x_dataStack:typeof ShadowRoot=="function"&&a instanceof ShadowRoot?Dn(a.host):a.parentNode?Dn(a.parentNode):[]}function cr(a){return new Proxy({objects:a},ys)}var ys={ownKeys({objects:a}){return Array.from(new Set(a.flatMap(d=>Object.keys(d))))},has({objects:a},d){return d==Symbol.unscopables?!1:a.some(w=>Object.prototype.hasOwnProperty.call(w,d))},get({objects:a},d,w){return d=="toJSON"?ws:Reflect.get(a.find(M=>Object.prototype.hasOwnProperty.call(M,d))||{},d,w)},set({objects:a},d,w,M){const j=a.find(H=>Object.prototype.hasOwnProperty.call(H,d))||a[a.length-1],P=Object.getOwnPropertyDescriptor(j,d);return P!=null&&P.set&&(P!=null&&P.get)?Reflect.set(j,d,w,M):Reflect.set(j,d,w)}};function ws(){return Reflect.ownKeys(this).reduce((d,w)=>(d[w]=Reflect.get(this,w),d),{})}function ui(a){let d=M=>typeof M=="object"&&!Array.isArray(M)&&M!==null,w=(M,j="")=>{Object.entries(Object.getOwnPropertyDescriptors(M)).forEach(([P,{value:H,enumerable:q}])=>{if(q===!1||H===void 0)return;let te=j===""?P:`${j}.${P}`;typeof H=="object"&&H!==null&&H._x_interceptor?M[P]=H.initialize(a,te,P):d(H)&&H!==M&&!(H instanceof Element)&&w(H,te)})};return w(a)}function di(a,d=()=>{}){let w={initialValue:void 0,_x_interceptor:!0,initialize(M,j,P){return a(this.initialValue,()=>ks(M,j),H=>Eo(M,j,H),j,P)}};return d(w),M=>{if(typeof M=="object"&&M!==null&&M._x_interceptor){let j=w.initialize.bind(w);w.initialize=(P,H,q)=>{let te=M.initialize(P,H,q);return w.initialValue=te,j(P,H,q)}}else w.initialValue=M;return w}}function ks(a,d){return d.split(".").reduce((w,M)=>w[M],a)}function Eo(a,d,w){if(typeof d=="string"&&(d=d.split(".")),d.length===1)a[d[0]]=w;else{if(d.length===0)throw error;return a[d[0]]||(a[d[0]]={}),Eo(a[d[0]],d.slice(1),w)}}var So={};function tn(a,d){So[a]=d}function _o(a,d){return Object.entries(So).forEach(([w,M])=>{let j=null;function P(){if(j)return j;{let[H,q]=Co(d);return j={interceptor:di,...H},Oe(d,q),j}}Object.defineProperty(a,`$${w}`,{get(){return M(d,P())},enumerable:!1})}),a}function I(a,d,w,...M){try{return w(...M)}catch(j){F(j,a,d)}}function F(a,d,w=void 0){Object.assign(a,{el:d,expression:w}),console.warn(`Alpine Expression Error: ${a.message}

${w?'Expression: "'+w+`"

`:""}`,d),setTimeout(()=>{throw a},0)}var W=!0;function Y(a){let d=W;W=!1;let w=a();return W=d,w}function V(a,d,w={}){let M;return Q(a,d)(j=>M=j,w),M}function Q(...a){return re(...a)}var re=xe;function ve(a){re=a}function xe(a,d){let w={};_o(w,a);let M=[w,...Dn(a)],j=typeof d=="function"?Se(M,d):rt(M,d,a);return I.bind(null,a,d,j)}function Se(a,d){return(w=()=>{},{scope:M={},params:j=[]}={})=>{let P=d.apply(cr([M,...a]),j);Re(w,P)}}var Xe={};function qe(a,d){if(Xe[a])return Xe[a];let w=Object.getPrototypeOf(async function(){}).constructor,M=/^[\n\s]*if.*\(.*\)/.test(a.trim())||/^(let|const)\s/.test(a.trim())?`(async()=>{ ${a} })()`:a,P=(()=>{try{let H=new w(["__self","scope"],`with (scope) { __self.result = ${M} }; __self.finished = true; return __self.result;`);return Object.defineProperty(H,"name",{value:`[Alpine] ${a}`}),H}catch(H){return F(H,d,a),Promise.resolve()}})();return Xe[a]=P,P}function rt(a,d,w){let M=qe(d,w);return(j=()=>{},{scope:P={},params:H=[]}={})=>{M.result=void 0,M.finished=!1;let q=cr([P,...a]);if(typeof M=="function"){let te=M(M,q).catch(be=>F(be,w,d));M.finished?(Re(j,M.result,q,H,w),M.result=void 0):te.then(be=>{Re(j,be,q,H,w)}).catch(be=>F(be,w,d)).finally(()=>M.result=void 0)}}}function Re(a,d,w,M,j){if(W&&typeof d=="function"){let P=d.apply(w,M);P instanceof Promise?P.then(H=>Re(a,H,w,M)).catch(H=>F(H,j,d)):a(P)}else typeof d=="object"&&d instanceof Promise?d.then(P=>a(P)):a(d)}var We="x-";function Ke(a=""){return We+a}function wt(a){We=a}var Ze={};function ze(a,d){return Ze[a]=d,{before(w){if(!Ze[w]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const M=hr.indexOf(w);hr.splice(M>=0?M:hr.indexOf("DEFAULT"),0,a)}}}function Ct(a,d,w){if(d=Array.from(d),a._x_virtualDirectives){let P=Object.entries(a._x_virtualDirectives).map(([q,te])=>({name:q,value:te})),H=Zt(P);P=P.map(q=>H.find(te=>te.name===q.name)?{name:`x-bind:${q.name}`,value:`"${q.value}"`}:q),d=d.concat(P)}let M={};return d.map(Oo((P,H)=>M[P]=H)).filter(jn).map(xs(M,w)).sort(gh).map(P=>hi(a,P))}function Zt(a){return Array.from(a).map(Oo()).filter(d=>!jn(d))}var Ot=!1,un=new Map,ur=Symbol();function dr(a){Ot=!0;let d=Symbol();ur=d,un.set(d,[]);let w=()=>{for(;un.get(d).length;)un.get(d).shift()();un.delete(d)},M=()=>{Ot=!1,w()};a(w),M()}function Co(a){let d=[],w=q=>d.push(q),[M,j]=le(a);return d.push(j),[{Alpine:Lo,effect:M,cleanup:w,evaluateLater:Q.bind(Q,a),evaluate:V.bind(V,a)},()=>d.forEach(q=>q())]}function hi(a,d){let w=()=>{},M=Ze[d.type]||w,[j,P]=Co(a);ce(a,d.original,P);let H=()=>{a._x_ignore||a._x_ignoreSelf||(M.inline&&M.inline(a,d,j),M=M.bind(M,a,d,j),Ot?un.get(ur).push(M):M())};return H.runCleanups=P,H}var To=(a,d)=>({name:w,value:M})=>(w.startsWith(a)&&(w=w.replace(a,d)),{name:w,value:M}),Tn=a=>a;function Oo(a=()=>{}){return({name:d,value:w})=>{let{name:M,value:j}=Jn.reduce((P,H)=>H(P),{name:d,value:w});return M!==d&&a(M,d),{name:M,value:j}}}var Jn=[];function On(a){Jn.push(a)}function jn({name:a}){return Zn().test(a)}var Zn=()=>new RegExp(`^${We}([^:^.]+)\\b`);function xs(a,d){return({name:w,value:M})=>{let j=w.match(Zn()),P=w.match(/:([a-zA-Z0-9\-_:]+)/),H=w.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],q=d||a[w]||w;return{type:j?j[1]:null,value:P?P[1]:null,modifiers:H.map(te=>te.replace(".","")),expression:M,original:q}}}var Es="DEFAULT",hr=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Es,"teleport"];function gh(a,d){let w=hr.indexOf(a.type)===-1?Es:a.type,M=hr.indexOf(d.type)===-1?Es:d.type;return hr.indexOf(w)-hr.indexOf(M)}var Ss=[],_s=!1;function Cs(a=()=>{}){return queueMicrotask(()=>{_s||setTimeout(()=>{Ts()})}),new Promise(d=>{Ss.push(()=>{a(),d()})})}function Ts(){for(_s=!1;Ss.length;)Ss.shift()()}function mh(){_s=!0}function Os(a,d){return Array.isArray(d)?Bl(a,d.join(" ")):typeof d=="object"&&d!==null?vh(a,d):typeof d=="function"?Os(a,d()):Bl(a,d)}function Bl(a,d){let w=j=>j.split(" ").filter(P=>!a.classList.contains(P)).filter(Boolean),M=j=>(a.classList.add(...j),()=>{a.classList.remove(...j)});return d=d===!0?d="":d||"",M(w(d))}function vh(a,d){let w=q=>q.split(" ").filter(Boolean),M=Object.entries(d).flatMap(([q,te])=>te?w(q):!1).filter(Boolean),j=Object.entries(d).flatMap(([q,te])=>te?!1:w(q)).filter(Boolean),P=[],H=[];return j.forEach(q=>{a.classList.contains(q)&&(a.classList.remove(q),H.push(q))}),M.forEach(q=>{a.classList.contains(q)||(a.classList.add(q),P.push(q))}),()=>{H.forEach(q=>a.classList.add(q)),P.forEach(q=>a.classList.remove(q))}}function fi(a,d){return typeof d=="object"&&d!==null?bh(a,d):yh(a,d)}function bh(a,d){let w={};return Object.entries(d).forEach(([M,j])=>{w[M]=a.style[M],M.startsWith("--")||(M=wh(M)),a.style.setProperty(M,j)}),setTimeout(()=>{a.style.length===0&&a.removeAttribute("style")}),()=>{fi(a,w)}}function yh(a,d){let w=a.getAttribute("style",d);return a.setAttribute("style",d),()=>{a.setAttribute("style",w||"")}}function wh(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bs(a,d=()=>{}){let w=!1;return function(){w?d.apply(this,arguments):(w=!0,a.apply(this,arguments))}}ze("transition",(a,{value:d,modifiers:w,expression:M},{evaluate:j})=>{typeof M=="function"&&(M=j(M)),M!==!1&&(!M||typeof M=="boolean"?xh(a,w,d):kh(a,M,d))});function kh(a,d,w){Al(a,Os,""),{enter:j=>{a._x_transition.enter.during=j},"enter-start":j=>{a._x_transition.enter.start=j},"enter-end":j=>{a._x_transition.enter.end=j},leave:j=>{a._x_transition.leave.during=j},"leave-start":j=>{a._x_transition.leave.start=j},"leave-end":j=>{a._x_transition.leave.end=j}}[w](d)}function xh(a,d,w){Al(a,fi);let M=!d.includes("in")&&!d.includes("out")&&!w,j=M||d.includes("in")||["enter"].includes(w),P=M||d.includes("out")||["leave"].includes(w);d.includes("in")&&!M&&(d=d.filter((it,Je)=>Je<d.indexOf("out"))),d.includes("out")&&!M&&(d=d.filter((it,Je)=>Je>d.indexOf("out")));let H=!d.includes("opacity")&&!d.includes("scale"),q=H||d.includes("opacity"),te=H||d.includes("scale"),be=q?0:1,Qe=te?Bo(d,"scale",95)/100:1,ft=Bo(d,"delay",0)/1e3,tt=Bo(d,"origin","center"),ht="opacity, transform",nn=Bo(d,"duration",150)/1e3,Bn=Bo(d,"duration",75)/1e3,Pe="cubic-bezier(0.4, 0.0, 0.2, 1)";j&&(a._x_transition.enter.during={transformOrigin:tt,transitionDelay:`${ft}s`,transitionProperty:ht,transitionDuration:`${nn}s`,transitionTimingFunction:Pe},a._x_transition.enter.start={opacity:be,transform:`scale(${Qe})`},a._x_transition.enter.end={opacity:1,transform:"scale(1)"}),P&&(a._x_transition.leave.during={transformOrigin:tt,transitionDelay:`${ft}s`,transitionProperty:ht,transitionDuration:`${Bn}s`,transitionTimingFunction:Pe},a._x_transition.leave.start={opacity:1,transform:"scale(1)"},a._x_transition.leave.end={opacity:be,transform:`scale(${Qe})`})}function Al(a,d,w={}){a._x_transition||(a._x_transition={enter:{during:w,start:w,end:w},leave:{during:w,start:w,end:w},in(M=()=>{},j=()=>{}){As(a,d,{during:this.enter.during,start:this.enter.start,end:this.enter.end},M,j)},out(M=()=>{},j=()=>{}){As(a,d,{during:this.leave.during,start:this.leave.start,end:this.leave.end},M,j)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(a,d,w,M){const j=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let P=()=>j(w);if(d){a._x_transition&&(a._x_transition.enter||a._x_transition.leave)?a._x_transition.enter&&(Object.entries(a._x_transition.enter.during).length||Object.entries(a._x_transition.enter.start).length||Object.entries(a._x_transition.enter.end).length)?a._x_transition.in(w):P():a._x_transition?a._x_transition.in(w):P();return}a._x_hidePromise=a._x_transition?new Promise((H,q)=>{a._x_transition.out(()=>{},()=>H(M)),a._x_transitioning&&a._x_transitioning.beforeCancel(()=>q({isFromCancelledTransition:!0}))}):Promise.resolve(M),queueMicrotask(()=>{let H=Ll(a);H?(H._x_hideChildren||(H._x_hideChildren=[]),H._x_hideChildren.push(a)):j(()=>{let q=te=>{let be=Promise.all([te._x_hidePromise,...(te._x_hideChildren||[]).map(q)]).then(([Qe])=>Qe());return delete te._x_hidePromise,delete te._x_hideChildren,be};q(a).catch(te=>{if(!te.isFromCancelledTransition)throw te})})})};function Ll(a){let d=a.parentNode;if(d)return d._x_hidePromise?d:Ll(d)}function As(a,d,{during:w,start:M,end:j}={},P=()=>{},H=()=>{}){if(a._x_transitioning&&a._x_transitioning.cancel(),Object.keys(w).length===0&&Object.keys(M).length===0&&Object.keys(j).length===0){P(),H();return}let q,te,be;Eh(a,{start(){q=d(a,M)},during(){te=d(a,w)},before:P,end(){q(),be=d(a,j)},after:H,cleanup(){te(),be()}})}function Eh(a,d){let w,M,j,P=Bs(()=>{gt(()=>{w=!0,M||d.before(),j||(d.end(),Ts()),d.after(),a.isConnected&&d.cleanup(),delete a._x_transitioning})});a._x_transitioning={beforeCancels:[],beforeCancel(H){this.beforeCancels.push(H)},cancel:Bs(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();P()}),finish:P},gt(()=>{d.start(),d.during()}),mh(),requestAnimationFrame(()=>{if(w)return;let H=Number(getComputedStyle(a).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,q=Number(getComputedStyle(a).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;H===0&&(H=Number(getComputedStyle(a).animationDuration.replace("s",""))*1e3),gt(()=>{d.before()}),M=!0,requestAnimationFrame(()=>{w||(gt(()=>{d.end()}),Ts(),setTimeout(a._x_transitioning.finish,H+q),j=!0)})})}function Bo(a,d,w){if(a.indexOf(d)===-1)return w;const M=a[a.indexOf(d)+1];if(!M||d==="scale"&&isNaN(M))return w;if(d==="duration"||d==="delay"){let j=M.match(/([0-9]+)ms/);if(j)return j[1]}return d==="origin"&&["top","right","left","center","bottom"].includes(a[a.indexOf(d)+2])?[M,a[a.indexOf(d)+2]].join(" "):M}var Qn=!1;function Ao(a,d=()=>{}){return(...w)=>Qn?d(...w):a(...w)}function Sh(a){return(...d)=>Qn&&a(...d)}var Ml=[];function Il(a){Ml.push(a)}function _h(a,d){Ml.forEach(w=>w(a,d)),Qn=!0,Rl(()=>{Be(d,(w,M)=>{M(w,()=>{})})}),Qn=!1}var Ls=!1;function Ch(a,d){d._x_dataStack||(d._x_dataStack=a._x_dataStack),Qn=!0,Ls=!0,Rl(()=>{Th(d)}),Qn=!1,Ls=!1}function Th(a){let d=!1;Be(a,(M,j)=>{me(M,(P,H)=>{if(d&&_e(P))return H();d=!0,j(P,H)})})}function Rl(a){let d=R;J((w,M)=>{let j=d(w);return D(j),()=>{}}),a(),J(d)}function Nl(a,d,w,M=[]){switch(a._x_bindings||(a._x_bindings=_({})),a._x_bindings[d]=w,d=M.includes("camel")?Nh(d):d,d){case"value":Oh(a,w);break;case"style":Ah(a,w);break;case"class":Bh(a,w);break;case"selected":case"checked":Lh(a,d,w);break;default:Pl(a,d,w);break}}function Oh(a,d){if(a.type==="radio")a.attributes.value===void 0&&(a.value=d),window.fromModel&&(typeof d=="boolean"?a.checked=pi(a.value)===d:a.checked=Dl(a.value,d));else if(a.type==="checkbox")Number.isInteger(d)?a.value=d:!Array.isArray(d)&&typeof d!="boolean"&&![null,void 0].includes(d)?a.value=String(d):Array.isArray(d)?a.checked=d.some(w=>Dl(w,a.value)):a.checked=!!d;else if(a.tagName==="SELECT")Rh(a,d);else{if(a.value===d)return;a.value=d===void 0?"":d}}function Bh(a,d){a._x_undoAddedClasses&&a._x_undoAddedClasses(),a._x_undoAddedClasses=Os(a,d)}function Ah(a,d){a._x_undoAddedStyles&&a._x_undoAddedStyles(),a._x_undoAddedStyles=fi(a,d)}function Lh(a,d,w){Pl(a,d,w),Ih(a,d,w)}function Pl(a,d,w){[null,void 0,!1].includes(w)&&Ph(d)?a.removeAttribute(d):(jl(d)&&(w=d),Mh(a,d,w))}function Mh(a,d,w){a.getAttribute(d)!=w&&a.setAttribute(d,w)}function Ih(a,d,w){a[d]!==w&&(a[d]=w)}function Rh(a,d){const w=[].concat(d).map(M=>M+"");Array.from(a.options).forEach(M=>{M.selected=w.includes(M.value)})}function Nh(a){return a.toLowerCase().replace(/-(\w)/g,(d,w)=>w.toUpperCase())}function Dl(a,d){return a==d}function pi(a){return[1,"1","true","on","yes",!0].includes(a)?!0:[0,"0","false","off","no",!1].includes(a)?!1:a?!!a:null}function jl(a){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(a)}function Ph(a){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(a)}function Dh(a,d,w){return a._x_bindings&&a._x_bindings[d]!==void 0?a._x_bindings[d]:Fl(a,d,w)}function jh(a,d,w,M=!0){if(a._x_bindings&&a._x_bindings[d]!==void 0)return a._x_bindings[d];if(a._x_inlineBindings&&a._x_inlineBindings[d]!==void 0){let j=a._x_inlineBindings[d];return j.extract=M,Y(()=>V(a,j.expression))}return Fl(a,d,w)}function Fl(a,d,w){let M=a.getAttribute(d);return M===null?typeof w=="function"?w():w:M===""?!0:jl(d)?!![d,"true"].includes(M):M}function Hl(a,d){var w;return function(){var M=this,j=arguments,P=function(){w=null,a.apply(M,j)};clearTimeout(w),w=setTimeout(P,d)}}function Ul(a,d){let w;return function(){let M=this,j=arguments;w||(a.apply(M,j),w=!0,setTimeout(()=>w=!1,d))}}function $l({get:a,set:d},{get:w,set:M}){let j=!0,P,H=R(()=>{const q=a(),te=w();if(j)M(Ms(q)),j=!1,P=JSON.stringify(q);else{const be=JSON.stringify(q);be!==P?(M(Ms(q)),P=be):(d(Ms(te)),P=JSON.stringify(te))}JSON.stringify(w()),JSON.stringify(a())});return()=>{D(H)}}function Ms(a){return typeof a=="object"?JSON.parse(JSON.stringify(a)):a}function Fh(a){(Array.isArray(a)?a:[a]).forEach(w=>w(Lo))}var fr={},Wl=!1;function Hh(a,d){if(Wl||(fr=_(fr),Wl=!0),d===void 0)return fr[a];fr[a]=d,typeof d=="object"&&d!==null&&d.hasOwnProperty("init")&&typeof d.init=="function"&&fr[a].init(),ui(fr[a])}function Uh(){return fr}var ql={};function $h(a,d){let w=typeof d!="function"?()=>d:d;return a instanceof Element?zl(a,w()):(ql[a]=w,()=>{})}function Wh(a){return Object.entries(ql).forEach(([d,w])=>{Object.defineProperty(a,d,{get(){return(...M)=>w(...M)}})}),a}function zl(a,d,w){let M=[];for(;M.length;)M.pop()();let j=Object.entries(d).map(([H,q])=>({name:H,value:q})),P=Zt(j);return j=j.map(H=>P.find(q=>q.name===H.name)?{name:`x-bind:${H.name}`,value:`"${H.value}"`}:H),Ct(a,j,w).map(H=>{M.push(H.runCleanups),H()}),()=>{for(;M.length;)M.pop()()}}var Yl={};function qh(a,d){Yl[a]=d}function zh(a,d){return Object.entries(Yl).forEach(([w,M])=>{Object.defineProperty(a,w,{get(){return(...j)=>M.bind(d)(...j)},enumerable:!1})}),a}var Yh={get reactive(){return _},get release(){return D},get effect(){return R},get raw(){return z},version:"3.13.3",flushAndStopDeferringMutations:bs,dontAutoEvaluateFunctions:Y,disableEffectScheduling:U,startObservingMutations:yt,stopObservingMutations:ln,setReactivityEngine:ee,onAttributeRemoved:ce,onAttributesAdded:oe,closestDataStack:Dn,skipDuringClone:Ao,onlyDuringClone:Sh,addRootSelector:ge,addInitSelector:ke,interceptClone:Il,addScopeToNode:Gn,deferMutations:vs,mapAttributes:On,evaluateLater:Q,interceptInit:pt,setEvaluator:ve,mergeProxies:cr,extractProp:jh,findClosest:Le,onElRemoved:Oe,closestRoot:$e,destroyTree:G,interceptor:di,transition:As,setStyles:fi,mutateDom:gt,directive:ze,entangle:$l,throttle:Ul,debounce:Hl,evaluate:V,initTree:Be,nextTick:Cs,prefixed:Ke,prefix:wt,plugin:Fh,magic:tn,store:Hh,start:ue,clone:Ch,cloneNode:_h,bound:Dh,$data:ci,walk:me,data:qh,bind:$h},Lo=Yh,gi=h(C());tn("nextTick",()=>Cs),tn("dispatch",a=>Ue.bind(Ue,a)),tn("watch",(a,{evaluateLater:d,effect:w})=>(M,j)=>{let P=d(M),H=!0,q,te=w(()=>P(be=>{JSON.stringify(be),H?q=be:queueMicrotask(()=>{j(be,q),q=be}),H=!1}));a._x_effects.delete(te)}),tn("store",Uh),tn("data",a=>ci(a)),tn("root",a=>$e(a)),tn("refs",a=>(a._x_refs_proxy||(a._x_refs_proxy=cr(Xh(a))),a._x_refs_proxy));function Xh(a){let d=[],w=a;for(;w;)w._x_refs&&d.push(w._x_refs),w=w.parentNode;return d}var Is={};function Xl(a){return Is[a]||(Is[a]=0),++Is[a]}function Kh(a,d){return Le(a,w=>{if(w._x_ids&&w._x_ids[d])return!0})}function Vh(a,d){a._x_ids||(a._x_ids={}),a._x_ids[d]||(a._x_ids[d]=Xl(d))}tn("id",a=>(d,w=null)=>{let M=Kh(a,d),j=M?M._x_ids[d]:Xl(d);return w?`${d}-${j}-${w}`:`${d}-${j}`}),tn("el",a=>a),Kl("Focus","focus","focus"),Kl("Persist","persist","persist");function Kl(a,d,w){tn(d,M=>he(`You can't use [$${d}] without first installing the "${a}" plugin here: https://alpinejs.dev/plugins/${w}`,M))}ze("modelable",(a,{expression:d},{effect:w,evaluateLater:M,cleanup:j})=>{let P=M(d),H=()=>{let Qe;return P(ft=>Qe=ft),Qe},q=M(`${d} = __placeholder`),te=Qe=>q(()=>{},{scope:{__placeholder:Qe}}),be=H();te(be),queueMicrotask(()=>{if(!a._x_model)return;a._x_removeModelListeners.default();let Qe=a._x_model.get,ft=a._x_model.set,tt=$l({get(){return Qe()},set(ht){ft(ht)}},{get(){return H()},set(ht){te(ht)}});j(tt)})}),ze("teleport",(a,{modifiers:d,expression:w},{cleanup:M})=>{a.tagName.toLowerCase()!=="template"&&he("x-teleport can only be used on a <template> tag",a);let j=Vl(w),P=a.content.cloneNode(!0).firstElementChild;a._x_teleport=P,P._x_teleportBack=a,a.setAttribute("data-teleport-template",!0),P.setAttribute("data-teleport-target",!0),a._x_forwardEvents&&a._x_forwardEvents.forEach(q=>{P.addEventListener(q,te=>{te.stopPropagation(),a.dispatchEvent(new te.constructor(te.type,te))})}),Gn(P,{},a);let H=(q,te,be)=>{be.includes("prepend")?te.parentNode.insertBefore(q,te):be.includes("append")?te.parentNode.insertBefore(q,te.nextSibling):te.appendChild(q)};gt(()=>{H(P,j,d),Be(P),P._x_ignore=!0}),a._x_teleportPutBack=()=>{let q=Vl(w);gt(()=>{H(a._x_teleport,q,d)})},M(()=>P.remove())});var Gh=document.createElement("div");function Vl(a){let d=Ao(()=>document.querySelector(a),()=>Gh)();return d||he(`Cannot find x-teleport element for selector: "${a}"`),d}var Gl=()=>{};Gl.inline=(a,{modifiers:d},{cleanup:w})=>{d.includes("self")?a._x_ignoreSelf=!0:a._x_ignore=!0,w(()=>{d.includes("self")?delete a._x_ignoreSelf:delete a._x_ignore})},ze("ignore",Gl),ze("effect",Ao((a,{expression:d},{effect:w})=>{w(Q(a,d))}));function Rs(a,d,w,M){let j=a,P=te=>M(te),H={},q=(te,be)=>Qe=>be(te,Qe);if(w.includes("dot")&&(d=Jh(d)),w.includes("camel")&&(d=Zh(d)),w.includes("passive")&&(H.passive=!0),w.includes("capture")&&(H.capture=!0),w.includes("window")&&(j=window),w.includes("document")&&(j=document),w.includes("debounce")){let te=w[w.indexOf("debounce")+1]||"invalid-wait",be=mi(te.split("ms")[0])?Number(te.split("ms")[0]):250;P=Hl(P,be)}if(w.includes("throttle")){let te=w[w.indexOf("throttle")+1]||"invalid-wait",be=mi(te.split("ms")[0])?Number(te.split("ms")[0]):250;P=Ul(P,be)}return w.includes("prevent")&&(P=q(P,(te,be)=>{be.preventDefault(),te(be)})),w.includes("stop")&&(P=q(P,(te,be)=>{be.stopPropagation(),te(be)})),w.includes("self")&&(P=q(P,(te,be)=>{be.target===a&&te(be)})),(w.includes("away")||w.includes("outside"))&&(j=document,P=q(P,(te,be)=>{a.contains(be.target)||be.target.isConnected!==!1&&(a.offsetWidth<1&&a.offsetHeight<1||a._x_isShown!==!1&&te(be))})),w.includes("once")&&(P=q(P,(te,be)=>{te(be),j.removeEventListener(d,P,H)})),P=q(P,(te,be)=>{ef(d)&&tf(be,w)||te(be)}),j.addEventListener(d,P,H),()=>{j.removeEventListener(d,P,H)}}function Jh(a){return a.replace(/-/g,".")}function Zh(a){return a.toLowerCase().replace(/-(\w)/g,(d,w)=>w.toUpperCase())}function mi(a){return!Array.isArray(a)&&!isNaN(a)}function Qh(a){return[" ","_"].includes(a)?a:a.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function ef(a){return["keydown","keyup"].includes(a)}function tf(a,d){let w=d.filter(P=>!["window","document","prevent","stop","once","capture"].includes(P));if(w.includes("debounce")){let P=w.indexOf("debounce");w.splice(P,mi((w[P+1]||"invalid-wait").split("ms")[0])?2:1)}if(w.includes("throttle")){let P=w.indexOf("throttle");w.splice(P,mi((w[P+1]||"invalid-wait").split("ms")[0])?2:1)}if(w.length===0||w.length===1&&Jl(a.key).includes(w[0]))return!1;const j=["ctrl","shift","alt","meta","cmd","super"].filter(P=>w.includes(P));return w=w.filter(P=>!j.includes(P)),!(j.length>0&&j.filter(H=>((H==="cmd"||H==="super")&&(H="meta"),a[`${H}Key`])).length===j.length&&Jl(a.key).includes(w[0]))}function Jl(a){if(!a)return[];a=Qh(a);let d={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return d[a]=a,Object.keys(d).map(w=>{if(d[w]===a)return w}).filter(w=>w)}ze("model",(a,{modifiers:d,expression:w},{effect:M,cleanup:j})=>{let P=a;d.includes("parent")&&(P=a.parentNode);let H=Q(P,w),q;typeof w=="string"?q=Q(P,`${w} = __placeholder`):typeof w=="function"&&typeof w()=="string"?q=Q(P,`${w()} = __placeholder`):q=()=>{};let te=()=>{let tt;return H(ht=>tt=ht),Zl(tt)?tt.get():tt},be=tt=>{let ht;H(nn=>ht=nn),Zl(ht)?ht.set(tt):q(()=>{},{scope:{__placeholder:tt}})};typeof w=="string"&&a.type==="radio"&&gt(()=>{a.hasAttribute("name")||a.setAttribute("name",w)});var Qe=a.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(a.type)||d.includes("lazy")?"change":"input";let ft=Qn?()=>{}:Rs(a,Qe,d,tt=>{be(nf(a,d,tt,te()))});if(d.includes("fill")&&([null,""].includes(te())||a.type==="checkbox"&&Array.isArray(te()))&&a.dispatchEvent(new Event(Qe,{})),a._x_removeModelListeners||(a._x_removeModelListeners={}),a._x_removeModelListeners.default=ft,j(()=>a._x_removeModelListeners.default()),a.form){let tt=Rs(a.form,"reset",[],ht=>{Cs(()=>a._x_model&&a._x_model.set(a.value))});j(()=>tt())}a._x_model={get(){return te()},set(tt){be(tt)}},a._x_forceModelUpdate=tt=>{tt===void 0&&typeof w=="string"&&w.match(/\./)&&(tt=""),window.fromModel=!0,gt(()=>Nl(a,"value",tt)),delete window.fromModel},M(()=>{let tt=te();d.includes("unintrusive")&&document.activeElement.isSameNode(a)||a._x_forceModelUpdate(tt)})});function nf(a,d,w,M){return gt(()=>{if(w instanceof CustomEvent&&w.detail!==void 0)return w.detail!==null&&w.detail!==void 0?w.detail:w.target.value;if(a.type==="checkbox")if(Array.isArray(M)){let j=null;return d.includes("number")?j=Ns(w.target.value):d.includes("boolean")?j=pi(w.target.value):j=w.target.value,w.target.checked?M.concat([j]):M.filter(P=>!rf(P,j))}else return w.target.checked;else return a.tagName.toLowerCase()==="select"&&a.multiple?d.includes("number")?Array.from(w.target.selectedOptions).map(j=>{let P=j.value||j.text;return Ns(P)}):d.includes("boolean")?Array.from(w.target.selectedOptions).map(j=>{let P=j.value||j.text;return pi(P)}):Array.from(w.target.selectedOptions).map(j=>j.value||j.text):d.includes("number")?Ns(w.target.value):d.includes("boolean")?pi(w.target.value):d.includes("trim")?w.target.value.trim():w.target.value})}function Ns(a){let d=a?parseFloat(a):null;return of(d)?d:a}function rf(a,d){return a==d}function of(a){return!Array.isArray(a)&&!isNaN(a)}function Zl(a){return a!==null&&typeof a=="object"&&typeof a.get=="function"&&typeof a.set=="function"}ze("cloak",a=>queueMicrotask(()=>gt(()=>a.removeAttribute(Ke("cloak"))))),ke(()=>`[${Ke("init")}]`),ze("init",Ao((a,{expression:d},{evaluate:w})=>typeof d=="string"?!!d.trim()&&w(d,{},!1):w(d,{},!1))),ze("text",(a,{expression:d},{effect:w,evaluateLater:M})=>{let j=M(d);w(()=>{j(P=>{gt(()=>{a.textContent=P})})})}),ze("html",(a,{expression:d},{effect:w,evaluateLater:M})=>{let j=M(d);w(()=>{j(P=>{gt(()=>{a.innerHTML=P,a._x_ignoreSelf=!0,Be(a),delete a._x_ignoreSelf})})})}),On(To(":",Tn(Ke("bind:"))));var Ql=(a,{value:d,modifiers:w,expression:M,original:j},{effect:P})=>{if(!d){let q={};Wh(q),Q(a,M)(be=>{zl(a,be,j)},{scope:q});return}if(d==="key")return sf(a,M);if(a._x_inlineBindings&&a._x_inlineBindings[d]&&a._x_inlineBindings[d].extract)return;let H=Q(a,M);P(()=>H(q=>{q===void 0&&typeof M=="string"&&M.match(/\./)&&(q=""),gt(()=>Nl(a,d,q,w))}))};Ql.inline=(a,{value:d,modifiers:w,expression:M})=>{d&&(a._x_inlineBindings||(a._x_inlineBindings={}),a._x_inlineBindings[d]={expression:M,extract:!1})},ze("bind",Ql);function sf(a,d){a._x_keyExpression=d}ge(()=>`[${Ke("data")}]`),ze("data",(a,{expression:d},{cleanup:w})=>{if(af(a))return;d=d===""?"{}":d;let M={};_o(M,a);let j={};zh(j,M);let P=V(a,d,{scope:j});(P===void 0||P===!0)&&(P={}),_o(P,a);let H=_(P);ui(H);let q=Gn(a,H);H.init&&V(a,H.init),w(()=>{H.destroy&&V(a,H.destroy),q()})}),Il((a,d)=>{a._x_dataStack&&(d._x_dataStack=a._x_dataStack,d.setAttribute("data-has-alpine-state",!0))});function af(a){return Qn?Ls?!0:a.hasAttribute("data-has-alpine-state"):!1}ze("show",(a,{modifiers:d,expression:w},{effect:M})=>{let j=Q(a,w);a._x_doHide||(a._x_doHide=()=>{gt(()=>{a.style.setProperty("display","none",d.includes("important")?"important":void 0)})}),a._x_doShow||(a._x_doShow=()=>{gt(()=>{a.style.length===1&&a.style.display==="none"?a.removeAttribute("style"):a.style.removeProperty("display")})});let P=()=>{a._x_doHide(),a._x_isShown=!1},H=()=>{a._x_doShow(),a._x_isShown=!0},q=()=>setTimeout(H),te=Bs(ft=>ft?H():P(),ft=>{typeof a._x_toggleAndCascadeWithTransitions=="function"?a._x_toggleAndCascadeWithTransitions(a,ft,H,P):ft?q():P()}),be,Qe=!0;M(()=>j(ft=>{!Qe&&ft===be||(d.includes("immediate")&&(ft?q():P()),te(ft),be=ft,Qe=!1)}))}),ze("for",(a,{expression:d},{effect:w,cleanup:M})=>{let j=cf(d),P=Q(a,j.items),H=Q(a,a._x_keyExpression||"index");a._x_prevKeys=[],a._x_lookup={},w(()=>lf(a,j,P,H)),M(()=>{Object.values(a._x_lookup).forEach(q=>q.remove()),delete a._x_prevKeys,delete a._x_lookup})});function lf(a,d,w,M){let j=H=>typeof H=="object"&&!Array.isArray(H),P=a;w(H=>{uf(H)&&H>=0&&(H=Array.from(Array(H).keys(),Pe=>Pe+1)),H===void 0&&(H=[]);let q=a._x_lookup,te=a._x_prevKeys,be=[],Qe=[];if(j(H))H=Object.entries(H).map(([Pe,it])=>{let Je=ec(d,it,Pe,H);M(at=>Qe.push(at),{scope:{index:Pe,...Je}}),be.push(Je)});else for(let Pe=0;Pe<H.length;Pe++){let it=ec(d,H[Pe],Pe,H);M(Je=>Qe.push(Je),{scope:{index:Pe,...it}}),be.push(it)}let ft=[],tt=[],ht=[],nn=[];for(let Pe=0;Pe<te.length;Pe++){let it=te[Pe];Qe.indexOf(it)===-1&&ht.push(it)}te=te.filter(Pe=>!ht.includes(Pe));let Bn="template";for(let Pe=0;Pe<Qe.length;Pe++){let it=Qe[Pe],Je=te.indexOf(it);if(Je===-1)te.splice(Pe,0,it),ft.push([Bn,Pe]);else if(Je!==Pe){let at=te.splice(Pe,1)[0],Ut=te.splice(Je-1,1)[0];te.splice(Pe,0,Ut),te.splice(Je,0,at),tt.push([at,Ut])}else nn.push(it);Bn=it}for(let Pe=0;Pe<ht.length;Pe++){let it=ht[Pe];q[it]._x_effects&&q[it]._x_effects.forEach(b),q[it].remove(),q[it]=null,delete q[it]}for(let Pe=0;Pe<tt.length;Pe++){let[it,Je]=tt[Pe],at=q[it],Ut=q[Je],vn=document.createElement("div");gt(()=>{Ut||he('x-for ":key" is undefined or invalid',P),Ut.after(vn),at.after(Ut),Ut._x_currentIfEl&&Ut.after(Ut._x_currentIfEl),vn.before(at),at._x_currentIfEl&&at.after(at._x_currentIfEl),vn.remove()}),Ut._x_refreshXForScope(be[Qe.indexOf(Je)])}for(let Pe=0;Pe<ft.length;Pe++){let[it,Je]=ft[Pe],at=it==="template"?P:q[it];at._x_currentIfEl&&(at=at._x_currentIfEl);let Ut=be[Je],vn=Qe[Je],An=document.importNode(P.content,!0).firstElementChild,Ar=_(Ut);Gn(An,Ar,P),An._x_refreshXForScope=Mo=>{Object.entries(Mo).forEach(([Io,Lr])=>{Ar[Io]=Lr})},gt(()=>{at.after(An),Be(An)}),typeof vn=="object"&&he("x-for key cannot be an object, it must be a string or an integer",P),q[vn]=An}for(let Pe=0;Pe<nn.length;Pe++)q[nn[Pe]]._x_refreshXForScope(be[Qe.indexOf(nn[Pe])]);P._x_prevKeys=Qe})}function cf(a){let d=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,w=/^\s*\(|\)\s*$/g,M=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,j=a.match(M);if(!j)return;let P={};P.items=j[2].trim();let H=j[1].replace(w,"").trim(),q=H.match(d);return q?(P.item=H.replace(d,"").trim(),P.index=q[1].trim(),q[2]&&(P.collection=q[2].trim())):P.item=H,P}function ec(a,d,w,M){let j={};return/^\[.*\]$/.test(a.item)&&Array.isArray(d)?a.item.replace("[","").replace("]","").split(",").map(H=>H.trim()).forEach((H,q)=>{j[H]=d[q]}):/^\{.*\}$/.test(a.item)&&!Array.isArray(d)&&typeof d=="object"?a.item.replace("{","").replace("}","").split(",").map(H=>H.trim()).forEach(H=>{j[H]=d[H]}):j[a.item]=d,a.index&&(j[a.index]=w),a.collection&&(j[a.collection]=M),j}function uf(a){return!Array.isArray(a)&&!isNaN(a)}function tc(){}tc.inline=(a,{expression:d},{cleanup:w})=>{let M=$e(a);M._x_refs||(M._x_refs={}),M._x_refs[d]=a,w(()=>delete M._x_refs[d])},ze("ref",tc),ze("if",(a,{expression:d},{effect:w,cleanup:M})=>{a.tagName.toLowerCase()!=="template"&&he("x-if can only be used on a <template> tag",a);let j=Q(a,d),P=()=>{if(a._x_currentIfEl)return a._x_currentIfEl;let q=a.content.cloneNode(!0).firstElementChild;return Gn(q,{},a),gt(()=>{a.after(q),Be(q)}),a._x_currentIfEl=q,a._x_undoIf=()=>{me(q,te=>{te._x_effects&&te._x_effects.forEach(b)}),q.remove(),delete a._x_currentIfEl},q},H=()=>{a._x_undoIf&&(a._x_undoIf(),delete a._x_undoIf)};w(()=>j(q=>{q?P():H()})),M(()=>a._x_undoIf&&a._x_undoIf())}),ze("id",(a,{expression:d},{evaluate:w})=>{w(d).forEach(j=>Vh(a,j))}),On(To("@",Tn(Ke("on:")))),ze("on",Ao((a,{value:d,modifiers:w,expression:M},{cleanup:j})=>{let P=M?Q(a,M):()=>{};a.tagName.toLowerCase()==="template"&&(a._x_forwardEvents||(a._x_forwardEvents=[]),a._x_forwardEvents.includes(d)||a._x_forwardEvents.push(d));let H=Rs(a,d,w,q=>{P(()=>{},{scope:{$event:q},params:[q]})});j(()=>H())})),vi("Collapse","collapse","collapse"),vi("Intersect","intersect","intersect"),vi("Focus","trap","focus"),vi("Mask","mask","mask");function vi(a,d,w){ze(d,M=>he(`You can't use [x-${d}] without first installing the "${a}" plugin here: https://alpinejs.dev/plugins/${w}`,M))}Lo.setEvaluator(xe),Lo.setReactivityEngine({reactive:gi.reactive,effect:gi.effect,release:gi.stop,raw:gi.toRaw});var df=Lo,hf=df}}),Lp=Xn({"../alpine/packages/collapse/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(E,g)=>{for(var y in g)t(E,y,{get:g[y],enumerable:!0})},l=(E,g,y,C)=>{if(g&&typeof g=="object"||typeof g=="function")for(let L of o(g))!i.call(E,L)&&L!==y&&t(E,L,{get:()=>g[L],enumerable:!(C=r(g,L))||C.enumerable});return E},c=E=>l(t({},"__esModule",{value:!0}),E),u={};s(u,{default:()=>p}),e.exports=c(u);function f(E){E.directive("collapse",g),g.inline=(y,{modifiers:C})=>{C.includes("min")&&(y._x_doShow=()=>{},y._x_doHide=()=>{})};function g(y,{modifiers:C}){let L=h(C,"duration",250)/1e3,S=h(C,"min",0),m=!C.includes("min");y._x_isShown||(y.style.height=`${S}px`),!y._x_isShown&&m&&(y.hidden=!0),y._x_isShown||(y.style.overflow="hidden");let k=(A,O)=>{let b=E.setStyles(A,O);return O.height?()=>{}:b},x={transitionProperty:"height",transitionDuration:`${L}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};y._x_transition={in(A=()=>{},O=()=>{}){m&&(y.hidden=!1),m&&(y.style.display=null);let b=y.getBoundingClientRect().height;y.style.height="auto";let v=y.getBoundingClientRect().height;b===v&&(b=S),E.transition(y,E.setStyles,{during:x,start:{height:b+"px"},end:{height:v+"px"}},()=>y._x_isShown=!0,()=>{y.getBoundingClientRect().height==v&&(y.style.overflow=null)})},out(A=()=>{},O=()=>{}){let b=y.getBoundingClientRect().height;E.transition(y,k,{during:x,start:{height:b+"px"},end:{height:S+"px"}},()=>y.style.overflow="hidden",()=>{y._x_isShown=!1,y.style.height==`${S}px`&&m&&(y.style.display="none",y.hidden=!0)})}}}}function h(E,g,y){if(E.indexOf(g)===-1)return y;const C=E[E.indexOf(g)+1];if(!C)return y;if(g==="duration"){let L=C.match(/([0-9]+)ms/);if(L)return L[1]}if(g==="min"){let L=C.match(/([0-9]+)px/);if(L)return L[1]}return C}var p=f}}),Mp=Xn({"../alpine/packages/focus/dist/module.cjs.js"(n,e){var t=Object.create,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,c=(O,b)=>function(){return b||(0,O[i(O)[0]])((b={exports:{}}).exports,b),b.exports},u=(O,b)=>{for(var v in b)r(O,v,{get:b[v],enumerable:!0})},f=(O,b,v,B)=>{if(b&&typeof b=="object"||typeof b=="function")for(let _ of i(b))!l.call(O,_)&&_!==v&&r(O,_,{get:()=>b[_],enumerable:!(B=o(b,_))||B.enumerable});return O},h=(O,b,v)=>(v=O!=null?t(s(O)):{},f(b||!O||!O.__esModule?r(v,"default",{value:O,enumerable:!0}):v,O)),p=O=>f(r({},"__esModule",{value:!0}),O),E=c({"node_modules/tabbable/dist/index.js"(O){Object.defineProperty(O,"__esModule",{value:!0});var b=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],v=b.join(","),B=typeof Element>"u",_=B?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,R=!B&&Element.prototype.getRootNode?function(Be){return Be.getRootNode()}:function(Be){return Be.ownerDocument},D=function(G,ne,Ae){var se=Array.prototype.slice.apply(G.querySelectorAll(v));return ne&&_.call(G,v)&&se.unshift(G),se=se.filter(Ae),se},z=function Be(G,ne,Ae){for(var se=[],ut=Array.from(G);ut.length;){var Oe=ut.shift();if(Oe.tagName==="SLOT"){var oe=Oe.assignedElements(),ce=oe.length?oe:Oe.children,Me=Be(ce,!0,Ae);Ae.flatten?se.push.apply(se,Me):se.push({scope:Oe,candidates:Me})}else{var nt=_.call(Oe,v);nt&&Ae.filter(Oe)&&(ne||!G.includes(Oe))&&se.push(Oe);var He=Oe.shadowRoot||typeof Ae.getShadowRoot=="function"&&Ae.getShadowRoot(Oe),Et=!Ae.shadowRootFilter||Ae.shadowRootFilter(Oe);if(He&&Et){var yt=Be(He===!0?Oe.children:He.children,!0,Ae);Ae.flatten?se.push.apply(se,yt):se.push({scope:Oe,candidates:yt})}else ut.unshift.apply(ut,Oe.children)}}return se},N=function(G,ne){return G.tabIndex<0&&(ne||/^(AUDIO|VIDEO|DETAILS)$/.test(G.tagName)||G.isContentEditable)&&isNaN(parseInt(G.getAttribute("tabindex"),10))?0:G.tabIndex},U=function(G,ne){return G.tabIndex===ne.tabIndex?G.documentOrder-ne.documentOrder:G.tabIndex-ne.tabIndex},ee=function(G){return G.tagName==="INPUT"},J=function(G){return ee(G)&&G.type==="hidden"},le=function(G){var ne=G.tagName==="DETAILS"&&Array.prototype.slice.apply(G.children).some(function(Ae){return Ae.tagName==="SUMMARY"});return ne},Ue=function(G,ne){for(var Ae=0;Ae<G.length;Ae++)if(G[Ae].checked&&G[Ae].form===ne)return G[Ae]},me=function(G){if(!G.name)return!0;var ne=G.form||R(G),Ae=function(oe){return ne.querySelectorAll('input[type="radio"][name="'+oe+'"]')},se;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")se=Ae(window.CSS.escape(G.name));else try{se=Ae(G.name)}catch(Oe){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",Oe.message),!1}var ut=Ue(se,G.form);return!ut||ut===G},he=function(G){return ee(G)&&G.type==="radio"},Ne=function(G){return he(G)&&!me(G)},ue=function(G){var ne=G.getBoundingClientRect(),Ae=ne.width,se=ne.height;return Ae===0&&se===0},we=function(G,ne){var Ae=ne.displayCheck,se=ne.getShadowRoot;if(getComputedStyle(G).visibility==="hidden")return!0;var ut=_.call(G,"details>summary:first-of-type"),Oe=ut?G.parentElement:G;if(_.call(Oe,"details:not([open]) *"))return!0;var oe=R(G).host,ce=(oe==null?void 0:oe.ownerDocument.contains(oe))||G.ownerDocument.contains(G);if(!Ae||Ae==="full"){if(typeof se=="function"){for(var Me=G;G;){var nt=G.parentElement,He=R(G);if(nt&&!nt.shadowRoot&&se(nt)===!0)return ue(G);G.assignedSlot?G=G.assignedSlot:!nt&&He!==G.ownerDocument?G=He.host:G=nt}G=Me}if(ce)return!G.getClientRects().length}else if(Ae==="non-zero-area")return ue(G);return!1},fe=function(G){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(G.tagName))for(var ne=G.parentElement;ne;){if(ne.tagName==="FIELDSET"&&ne.disabled){for(var Ae=0;Ae<ne.children.length;Ae++){var se=ne.children.item(Ae);if(se.tagName==="LEGEND")return _.call(ne,"fieldset[disabled] *")?!0:!se.contains(G)}return!0}ne=ne.parentElement}return!1},Ve=function(G,ne){return!(ne.disabled||J(ne)||we(ne,G)||le(ne)||fe(ne))},ie=function(G,ne){return!(Ne(ne)||N(ne)<0||!Ve(G,ne))},ge=function(G){var ne=parseInt(G.getAttribute("tabindex"),10);return!!(isNaN(ne)||ne>=0)},ke=function Be(G){var ne=[],Ae=[];return G.forEach(function(se,ut){var Oe=!!se.scope,oe=Oe?se.scope:se,ce=N(oe,Oe),Me=Oe?Be(se.candidates):oe;ce===0?Oe?ne.push.apply(ne,Me):ne.push(oe):Ae.push({documentOrder:ut,tabIndex:ce,item:se,isScope:Oe,content:Me})}),Ae.sort(U).reduce(function(se,ut){return ut.isScope?se.push.apply(se,ut.content):se.push(ut.content),se},[]).concat(ne)},$e=function(G,ne){ne=ne||{};var Ae;return ne.getShadowRoot?Ae=z([G],ne.includeContainer,{filter:ie.bind(null,ne),flatten:!1,getShadowRoot:ne.getShadowRoot,shadowRootFilter:ge}):Ae=D(G,ne.includeContainer,ie.bind(null,ne)),ke(Ae)},Le=function(G,ne){ne=ne||{};var Ae;return ne.getShadowRoot?Ae=z([G],ne.includeContainer,{filter:Ve.bind(null,ne),flatten:!0,getShadowRoot:ne.getShadowRoot}):Ae=D(G,ne.includeContainer,Ve.bind(null,ne)),Ae},_e=function(G,ne){if(ne=ne||{},!G)throw new Error("No node provided");return _.call(G,v)===!1?!1:ie(ne,G)},Dt=b.concat("iframe").join(","),pt=function(G,ne){if(ne=ne||{},!G)throw new Error("No node provided");return _.call(G,Dt)===!1?!1:Ve(ne,G)};O.focusable=Le,O.isFocusable=pt,O.isTabbable=_e,O.tabbable=$e}}),g=c({"node_modules/focus-trap/dist/focus-trap.js"(O){Object.defineProperty(O,"__esModule",{value:!0});var b=E();function v(me,he){var Ne=Object.keys(me);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(me);he&&(ue=ue.filter(function(we){return Object.getOwnPropertyDescriptor(me,we).enumerable})),Ne.push.apply(Ne,ue)}return Ne}function B(me){for(var he=1;he<arguments.length;he++){var Ne=arguments[he]!=null?arguments[he]:{};he%2?v(Object(Ne),!0).forEach(function(ue){_(me,ue,Ne[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ne)):v(Object(Ne)).forEach(function(ue){Object.defineProperty(me,ue,Object.getOwnPropertyDescriptor(Ne,ue))})}return me}function _(me,he,Ne){return he in me?Object.defineProperty(me,he,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):me[he]=Ne,me}var R=function(){var me=[];return{activateTrap:function(Ne){if(me.length>0){var ue=me[me.length-1];ue!==Ne&&ue.pause()}var we=me.indexOf(Ne);we===-1||me.splice(we,1),me.push(Ne)},deactivateTrap:function(Ne){var ue=me.indexOf(Ne);ue!==-1&&me.splice(ue,1),me.length>0&&me[me.length-1].unpause()}}}(),D=function(he){return he.tagName&&he.tagName.toLowerCase()==="input"&&typeof he.select=="function"},z=function(he){return he.key==="Escape"||he.key==="Esc"||he.keyCode===27},N=function(he){return he.key==="Tab"||he.keyCode===9},U=function(he){return setTimeout(he,0)},ee=function(he,Ne){var ue=-1;return he.every(function(we,fe){return Ne(we)?(ue=fe,!1):!0}),ue},J=function(he){for(var Ne=arguments.length,ue=new Array(Ne>1?Ne-1:0),we=1;we<Ne;we++)ue[we-1]=arguments[we];return typeof he=="function"?he.apply(void 0,ue):he},le=function(he){return he.target.shadowRoot&&typeof he.composedPath=="function"?he.composedPath()[0]:he.target},Ue=function(he,Ne){var ue=(Ne==null?void 0:Ne.document)||document,we=B({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},Ne),fe={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},Ve,ie=function(oe,ce,Me){return oe&&oe[ce]!==void 0?oe[ce]:we[Me||ce]},ge=function(oe){return fe.containerGroups.findIndex(function(ce){var Me=ce.container,nt=ce.tabbableNodes;return Me.contains(oe)||nt.find(function(He){return He===oe})})},ke=function(oe){var ce=we[oe];if(typeof ce=="function"){for(var Me=arguments.length,nt=new Array(Me>1?Me-1:0),He=1;He<Me;He++)nt[He-1]=arguments[He];ce=ce.apply(void 0,nt)}if(ce===!0&&(ce=void 0),!ce){if(ce===void 0||ce===!1)return ce;throw new Error("`".concat(oe,"` was specified but was not a node, or did not return a node"))}var Et=ce;if(typeof ce=="string"&&(Et=ue.querySelector(ce),!Et))throw new Error("`".concat(oe,"` as selector refers to no known node"));return Et},$e=function(){var oe=ke("initialFocus");if(oe===!1)return!1;if(oe===void 0)if(ge(ue.activeElement)>=0)oe=ue.activeElement;else{var ce=fe.tabbableGroups[0],Me=ce&&ce.firstTabbableNode;oe=Me||ke("fallbackFocus")}if(!oe)throw new Error("Your focus-trap needs to have at least one focusable element");return oe},Le=function(){if(fe.containerGroups=fe.containers.map(function(oe){var ce=b.tabbable(oe,we.tabbableOptions),Me=b.focusable(oe,we.tabbableOptions);return{container:oe,tabbableNodes:ce,focusableNodes:Me,firstTabbableNode:ce.length>0?ce[0]:null,lastTabbableNode:ce.length>0?ce[ce.length-1]:null,nextTabbableNode:function(He){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,yt=Me.findIndex(function(ln){return ln===He});if(!(yt<0))return Et?Me.slice(yt+1).find(function(ln){return b.isTabbable(ln,we.tabbableOptions)}):Me.slice(0,yt).reverse().find(function(ln){return b.isTabbable(ln,we.tabbableOptions)})}}}),fe.tabbableGroups=fe.containerGroups.filter(function(oe){return oe.tabbableNodes.length>0}),fe.tabbableGroups.length<=0&&!ke("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},_e=function Oe(oe){if(oe!==!1&&oe!==ue.activeElement){if(!oe||!oe.focus){Oe($e());return}oe.focus({preventScroll:!!we.preventScroll}),fe.mostRecentlyFocusedNode=oe,D(oe)&&oe.select()}},Dt=function(oe){var ce=ke("setReturnFocus",oe);return ce||(ce===!1?!1:oe)},pt=function(oe){var ce=le(oe);if(!(ge(ce)>=0)){if(J(we.clickOutsideDeactivates,oe)){Ve.deactivate({returnFocus:we.returnFocusOnDeactivate&&!b.isFocusable(ce,we.tabbableOptions)});return}J(we.allowOutsideClick,oe)||oe.preventDefault()}},Be=function(oe){var ce=le(oe),Me=ge(ce)>=0;Me||ce instanceof Document?Me&&(fe.mostRecentlyFocusedNode=ce):(oe.stopImmediatePropagation(),_e(fe.mostRecentlyFocusedNode||$e()))},G=function(oe){var ce=le(oe);Le();var Me=null;if(fe.tabbableGroups.length>0){var nt=ge(ce),He=nt>=0?fe.containerGroups[nt]:void 0;if(nt<0)oe.shiftKey?Me=fe.tabbableGroups[fe.tabbableGroups.length-1].lastTabbableNode:Me=fe.tabbableGroups[0].firstTabbableNode;else if(oe.shiftKey){var Et=ee(fe.tabbableGroups,function(ar){var gt=ar.firstTabbableNode;return ce===gt});if(Et<0&&(He.container===ce||b.isFocusable(ce,we.tabbableOptions)&&!b.isTabbable(ce,we.tabbableOptions)&&!He.nextTabbableNode(ce,!1))&&(Et=nt),Et>=0){var yt=Et===0?fe.tabbableGroups.length-1:Et-1,ln=fe.tabbableGroups[yt];Me=ln.lastTabbableNode}}else{var cn=ee(fe.tabbableGroups,function(ar){var gt=ar.lastTabbableNode;return ce===gt});if(cn<0&&(He.container===ce||b.isFocusable(ce,we.tabbableOptions)&&!b.isTabbable(ce,we.tabbableOptions)&&!He.nextTabbableNode(ce))&&(cn=nt),cn>=0){var Vn=cn===fe.tabbableGroups.length-1?0:cn+1,ko=fe.tabbableGroups[Vn];Me=ko.firstTabbableNode}}}else Me=ke("fallbackFocus");Me&&(oe.preventDefault(),_e(Me))},ne=function(oe){if(z(oe)&&J(we.escapeDeactivates,oe)!==!1){oe.preventDefault(),Ve.deactivate();return}if(N(oe)){G(oe);return}},Ae=function(oe){var ce=le(oe);ge(ce)>=0||J(we.clickOutsideDeactivates,oe)||J(we.allowOutsideClick,oe)||(oe.preventDefault(),oe.stopImmediatePropagation())},se=function(){if(fe.active)return R.activateTrap(Ve),fe.delayInitialFocusTimer=we.delayInitialFocus?U(function(){_e($e())}):_e($e()),ue.addEventListener("focusin",Be,!0),ue.addEventListener("mousedown",pt,{capture:!0,passive:!1}),ue.addEventListener("touchstart",pt,{capture:!0,passive:!1}),ue.addEventListener("click",Ae,{capture:!0,passive:!1}),ue.addEventListener("keydown",ne,{capture:!0,passive:!1}),Ve},ut=function(){if(fe.active)return ue.removeEventListener("focusin",Be,!0),ue.removeEventListener("mousedown",pt,!0),ue.removeEventListener("touchstart",pt,!0),ue.removeEventListener("click",Ae,!0),ue.removeEventListener("keydown",ne,!0),Ve};return Ve={get active(){return fe.active},get paused(){return fe.paused},activate:function(oe){if(fe.active)return this;var ce=ie(oe,"onActivate"),Me=ie(oe,"onPostActivate"),nt=ie(oe,"checkCanFocusTrap");nt||Le(),fe.active=!0,fe.paused=!1,fe.nodeFocusedBeforeActivation=ue.activeElement,ce&&ce();var He=function(){nt&&Le(),se(),Me&&Me()};return nt?(nt(fe.containers.concat()).then(He,He),this):(He(),this)},deactivate:function(oe){if(!fe.active)return this;var ce=B({onDeactivate:we.onDeactivate,onPostDeactivate:we.onPostDeactivate,checkCanReturnFocus:we.checkCanReturnFocus},oe);clearTimeout(fe.delayInitialFocusTimer),fe.delayInitialFocusTimer=void 0,ut(),fe.active=!1,fe.paused=!1,R.deactivateTrap(Ve);var Me=ie(ce,"onDeactivate"),nt=ie(ce,"onPostDeactivate"),He=ie(ce,"checkCanReturnFocus"),Et=ie(ce,"returnFocus","returnFocusOnDeactivate");Me&&Me();var yt=function(){U(function(){Et&&_e(Dt(fe.nodeFocusedBeforeActivation)),nt&&nt()})};return Et&&He?(He(Dt(fe.nodeFocusedBeforeActivation)).then(yt,yt),this):(yt(),this)},pause:function(){return fe.paused||!fe.active?this:(fe.paused=!0,ut(),this)},unpause:function(){return!fe.paused||!fe.active?this:(fe.paused=!1,Le(),se(),this)},updateContainerElements:function(oe){var ce=[].concat(oe).filter(Boolean);return fe.containers=ce.map(function(Me){return typeof Me=="string"?ue.querySelector(Me):Me}),fe.active&&Le(),this}},Ve.updateContainerElements(he),Ve};O.createFocusTrap=Ue}}),y={};u(y,{default:()=>A}),e.exports=p(y);var C=h(g()),L=h(E());function S(O){let b,v;window.addEventListener("focusin",()=>{b=v,v=document.activeElement}),O.magic("focus",B=>{let _=B;return{__noscroll:!1,__wrapAround:!1,within(R){return _=R,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(R){return(0,L.isFocusable)(R)},previouslyFocused(){return b},lastFocused(){return b},focused(){return v},focusables(){return Array.isArray(_)?_:(0,L.focusable)(_,{displayCheck:"none"})},all(){return this.focusables()},isFirst(R){let D=this.all();return D[0]&&D[0].isSameNode(R)},isLast(R){let D=this.all();return D.length&&D.slice(-1)[0].isSameNode(R)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let R=this.all(),D=document.activeElement;if(R.indexOf(D)!==-1)return this.__wrapAround&&R.indexOf(D)===R.length-1?R[0]:R[R.indexOf(D)+1]},getPrevious(){let R=this.all(),D=document.activeElement;if(R.indexOf(D)!==-1)return this.__wrapAround&&R.indexOf(D)===0?R.slice(-1)[0]:R[R.indexOf(D)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(R){R&&setTimeout(()=>{R.hasAttribute("tabindex")||R.setAttribute("tabindex","0"),R.focus({preventScroll:this._noscroll})})}}}),O.directive("trap",O.skipDuringClone((B,{expression:_,modifiers:R},{effect:D,evaluateLater:z,cleanup:N})=>{let U=z(_),ee=!1,J={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>B},le=B.querySelector("[autofocus]");le&&(J.initialFocus=le);let Ue=(0,C.createFocusTrap)(B,J),me=()=>{},he=()=>{};const Ne=()=>{me(),me=()=>{},he(),he=()=>{},Ue.deactivate({returnFocus:!R.includes("noreturn")})};D(()=>U(ue=>{ee!==ue&&(ue&&!ee&&(R.includes("noscroll")&&(he=x()),R.includes("inert")&&(me=m(B)),setTimeout(()=>{Ue.activate()},15)),!ue&&ee&&Ne(),ee=!!ue)})),N(Ne)},(B,{expression:_,modifiers:R},{evaluate:D})=>{R.includes("inert")&&D(_)&&m(B)}))}function m(O){let b=[];return k(O,v=>{let B=v.hasAttribute("aria-hidden");v.setAttribute("aria-hidden","true"),b.push(()=>B||v.removeAttribute("aria-hidden"))}),()=>{for(;b.length;)b.pop()()}}function k(O,b){O.isSameNode(document.body)||!O.parentNode||Array.from(O.parentNode.children).forEach(v=>{v.isSameNode(O)?k(O.parentNode,b):b(v)})}function x(){let O=document.documentElement.style.overflow,b=document.documentElement.style.paddingRight,v=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${v}px`,()=>{document.documentElement.style.overflow=O,document.documentElement.style.paddingRight=b}}var A=S}}),Ip=Xn({"../alpine/packages/persist/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(y,C)=>{for(var L in C)t(y,L,{get:C[L],enumerable:!0})},l=(y,C,L,S)=>{if(C&&typeof C=="object"||typeof C=="function")for(let m of o(C))!i.call(y,m)&&m!==L&&t(y,m,{get:()=>C[m],enumerable:!(S=r(C,m))||S.enumerable});return y},c=y=>l(t({},"__esModule",{value:!0}),y),u={};s(u,{default:()=>g}),e.exports=c(u);function f(y){let C=()=>{let L,S;try{S=localStorage}catch(m){console.error(m),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let k=new Map;S={getItem:k.get.bind(k),setItem:k.set.bind(k)}}return y.interceptor((m,k,x,A,O)=>{let b=L||`_x_${A}`,v=h(b,S)?p(b,S):m;return x(v),y.effect(()=>{let B=k();E(b,B,S),x(B)}),v},m=>{m.as=k=>(L=k,m),m.using=k=>(S=k,m)})};Object.defineProperty(y,"$persist",{get:()=>C()}),y.magic("persist",C),y.persist=(L,{get:S,set:m},k=localStorage)=>{let x=h(L,k)?p(L,k):S();m(x),y.effect(()=>{let A=S();E(L,A,k),m(A)})}}function h(y,C){return C.getItem(y)!==null}function p(y,C){return JSON.parse(C.getItem(y,C))}function E(y,C,L){L.setItem(y,JSON.stringify(C))}var g=f}}),Rp=Xn({"../alpine/packages/intersect/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(y,C)=>{for(var L in C)t(y,L,{get:C[L],enumerable:!0})},l=(y,C,L,S)=>{if(C&&typeof C=="object"||typeof C=="function")for(let m of o(C))!i.call(y,m)&&m!==L&&t(y,m,{get:()=>C[m],enumerable:!(S=r(C,m))||S.enumerable});return y},c=y=>l(t({},"__esModule",{value:!0}),y),u={};s(u,{default:()=>g}),e.exports=c(u);function f(y){y.directive("intersect",(C,{value:L,expression:S,modifiers:m},{evaluateLater:k,cleanup:x})=>{let A=k(S),O={rootMargin:E(m),threshold:h(m)},b=new IntersectionObserver(v=>{v.forEach(B=>{B.isIntersecting!==(L==="leave")&&(A(),m.includes("once")&&b.disconnect())})},O);b.observe(C),x(()=>{b.disconnect()})})}function h(y){if(y.includes("full"))return .99;if(y.includes("half"))return .5;if(!y.includes("threshold"))return 0;let C=y[y.indexOf("threshold")+1];return C==="100"?1:C==="0"?0:+`.${C}`}function p(y){let C=y.match(/^(-?[0-9]+)(px|%)?$/);return C?C[1]+(C[2]||"px"):void 0}function E(y){const C="margin",L="0px 0px 0px 0px",S=y.indexOf(C);if(S===-1)return L;let m=[];for(let k=1;k<5;k++)m.push(p(y[S+k]||""));return m=m.filter(k=>k!==void 0),m.length?m.join(" ").trim():L}var g=f}}),Np=Xn({"../alpine/packages/anchor/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(I,F)=>{for(var W in F)t(I,W,{get:F[W],enumerable:!0})},l=(I,F,W,Y)=>{if(F&&typeof F=="object"||typeof F=="function")for(let V of o(F))!i.call(I,V)&&V!==W&&t(I,V,{get:()=>F[V],enumerable:!(Y=r(F,V))||Y.enumerable});return I},c=I=>l(t({},"__esModule",{value:!0}),I),u={};s(u,{default:()=>_o}),e.exports=c(u);var f=Math.min,h=Math.max,p=Math.round,E=Math.floor,g=I=>({x:I,y:I}),y={left:"right",right:"left",bottom:"top",top:"bottom"},C={start:"end",end:"start"};function L(I,F,W){return h(I,f(F,W))}function S(I,F){return typeof I=="function"?I(F):I}function m(I){return I.split("-")[0]}function k(I){return I.split("-")[1]}function x(I){return I==="x"?"y":"x"}function A(I){return I==="y"?"height":"width"}function O(I){return["top","bottom"].includes(m(I))?"y":"x"}function b(I){return x(O(I))}function v(I,F,W){W===void 0&&(W=!1);const Y=k(I),V=b(I),Q=A(V);let re=V==="x"?Y===(W?"end":"start")?"right":"left":Y==="start"?"bottom":"top";return F.reference[Q]>F.floating[Q]&&(re=z(re)),[re,z(re)]}function B(I){const F=z(I);return[_(I),F,_(F)]}function _(I){return I.replace(/start|end/g,F=>C[F])}function R(I,F,W){const Y=["left","right"],V=["right","left"],Q=["top","bottom"],re=["bottom","top"];switch(I){case"top":case"bottom":return W?F?V:Y:F?Y:V;case"left":case"right":return F?Q:re;default:return[]}}function D(I,F,W,Y){const V=k(I);let Q=R(m(I),W==="start",Y);return V&&(Q=Q.map(re=>re+"-"+V),F&&(Q=Q.concat(Q.map(_)))),Q}function z(I){return I.replace(/left|right|bottom|top/g,F=>y[F])}function N(I){return{top:0,right:0,bottom:0,left:0,...I}}function U(I){return typeof I!="number"?N(I):{top:I,right:I,bottom:I,left:I}}function ee(I){return{...I,top:I.y,left:I.x,right:I.x+I.width,bottom:I.y+I.height}}function J(I,F,W){let{reference:Y,floating:V}=I;const Q=O(F),re=b(F),ve=A(re),xe=m(F),Se=Q==="y",Xe=Y.x+Y.width/2-V.width/2,qe=Y.y+Y.height/2-V.height/2,rt=Y[ve]/2-V[ve]/2;let Re;switch(xe){case"top":Re={x:Xe,y:Y.y-V.height};break;case"bottom":Re={x:Xe,y:Y.y+Y.height};break;case"right":Re={x:Y.x+Y.width,y:qe};break;case"left":Re={x:Y.x-V.width,y:qe};break;default:Re={x:Y.x,y:Y.y}}switch(k(F)){case"start":Re[re]-=rt*(W&&Se?-1:1);break;case"end":Re[re]+=rt*(W&&Se?-1:1);break}return Re}var le=async(I,F,W)=>{const{placement:Y="bottom",strategy:V="absolute",middleware:Q=[],platform:re}=W,ve=Q.filter(Boolean),xe=await(re.isRTL==null?void 0:re.isRTL(F));let Se=await re.getElementRects({reference:I,floating:F,strategy:V}),{x:Xe,y:qe}=J(Se,Y,xe),rt=Y,Re={},We=0;for(let Ke=0;Ke<ve.length;Ke++){const{name:wt,fn:Ze}=ve[Ke],{x:ze,y:Ct,data:Zt,reset:Ot}=await Ze({x:Xe,y:qe,initialPlacement:Y,placement:rt,strategy:V,middlewareData:Re,rects:Se,platform:re,elements:{reference:I,floating:F}});if(Xe=ze??Xe,qe=Ct??qe,Re={...Re,[wt]:{...Re[wt],...Zt}},Ot&&We<=50){We++,typeof Ot=="object"&&(Ot.placement&&(rt=Ot.placement),Ot.rects&&(Se=Ot.rects===!0?await re.getElementRects({reference:I,floating:F,strategy:V}):Ot.rects),{x:Xe,y:qe}=J(Se,rt,xe)),Ke=-1;continue}}return{x:Xe,y:qe,placement:rt,strategy:V,middlewareData:Re}};async function Ue(I,F){var W;F===void 0&&(F={});const{x:Y,y:V,platform:Q,rects:re,elements:ve,strategy:xe}=I,{boundary:Se="clippingAncestors",rootBoundary:Xe="viewport",elementContext:qe="floating",altBoundary:rt=!1,padding:Re=0}=S(F,I),We=U(Re),wt=ve[rt?qe==="floating"?"reference":"floating":qe],Ze=ee(await Q.getClippingRect({element:(W=await(Q.isElement==null?void 0:Q.isElement(wt)))==null||W?wt:wt.contextElement||await(Q.getDocumentElement==null?void 0:Q.getDocumentElement(ve.floating)),boundary:Se,rootBoundary:Xe,strategy:xe})),ze=qe==="floating"?{...re.floating,x:Y,y:V}:re.reference,Ct=await(Q.getOffsetParent==null?void 0:Q.getOffsetParent(ve.floating)),Zt=await(Q.isElement==null?void 0:Q.isElement(Ct))?await(Q.getScale==null?void 0:Q.getScale(Ct))||{x:1,y:1}:{x:1,y:1},Ot=ee(Q.convertOffsetParentRelativeRectToViewportRelativeRect?await Q.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ze,offsetParent:Ct,strategy:xe}):ze);return{top:(Ze.top-Ot.top+We.top)/Zt.y,bottom:(Ot.bottom-Ze.bottom+We.bottom)/Zt.y,left:(Ze.left-Ot.left+We.left)/Zt.x,right:(Ot.right-Ze.right+We.right)/Zt.x}}var me=function(I){return I===void 0&&(I={}),{name:"flip",options:I,async fn(F){var W,Y;const{placement:V,middlewareData:Q,rects:re,initialPlacement:ve,platform:xe,elements:Se}=F,{mainAxis:Xe=!0,crossAxis:qe=!0,fallbackPlacements:rt,fallbackStrategy:Re="bestFit",fallbackAxisSideDirection:We="none",flipAlignment:Ke=!0,...wt}=S(I,F);if((W=Q.arrow)!=null&&W.alignmentOffset)return{};const Ze=m(V),ze=m(ve)===ve,Ct=await(xe.isRTL==null?void 0:xe.isRTL(Se.floating)),Zt=rt||(ze||!Ke?[z(ve)]:B(ve));!rt&&We!=="none"&&Zt.push(...D(ve,Ke,We,Ct));const Ot=[ve,...Zt],un=await Ue(F,wt),ur=[];let dr=((Y=Q.flip)==null?void 0:Y.overflows)||[];if(Xe&&ur.push(un[Ze]),qe){const Tn=v(V,re,Ct);ur.push(un[Tn[0]],un[Tn[1]])}if(dr=[...dr,{placement:V,overflows:ur}],!ur.every(Tn=>Tn<=0)){var Co,hi;const Tn=(((Co=Q.flip)==null?void 0:Co.index)||0)+1,Oo=Ot[Tn];if(Oo)return{data:{index:Tn,overflows:dr},reset:{placement:Oo}};let Jn=(hi=dr.filter(On=>On.overflows[0]<=0).sort((On,jn)=>On.overflows[1]-jn.overflows[1])[0])==null?void 0:hi.placement;if(!Jn)switch(Re){case"bestFit":{var To;const On=(To=dr.map(jn=>[jn.placement,jn.overflows.filter(Zn=>Zn>0).reduce((Zn,xs)=>Zn+xs,0)]).sort((jn,Zn)=>jn[1]-Zn[1])[0])==null?void 0:To[0];On&&(Jn=On);break}case"initialPlacement":Jn=ve;break}if(V!==Jn)return{reset:{placement:Jn}}}return{}}}};async function he(I,F){const{placement:W,platform:Y,elements:V}=I,Q=await(Y.isRTL==null?void 0:Y.isRTL(V.floating)),re=m(W),ve=k(W),xe=O(W)==="y",Se=["left","top"].includes(re)?-1:1,Xe=Q&&xe?-1:1,qe=S(F,I);let{mainAxis:rt,crossAxis:Re,alignmentAxis:We}=typeof qe=="number"?{mainAxis:qe,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...qe};return ve&&typeof We=="number"&&(Re=ve==="end"?We*-1:We),xe?{x:Re*Xe,y:rt*Se}:{x:rt*Se,y:Re*Xe}}var Ne=function(I){return I===void 0&&(I=0),{name:"offset",options:I,async fn(F){const{x:W,y:Y}=F,V=await he(F,I);return{x:W+V.x,y:Y+V.y,data:V}}}},ue=function(I){return I===void 0&&(I={}),{name:"shift",options:I,async fn(F){const{x:W,y:Y,placement:V}=F,{mainAxis:Q=!0,crossAxis:re=!1,limiter:ve={fn:wt=>{let{x:Ze,y:ze}=wt;return{x:Ze,y:ze}}},...xe}=S(I,F),Se={x:W,y:Y},Xe=await Ue(F,xe),qe=O(m(V)),rt=x(qe);let Re=Se[rt],We=Se[qe];if(Q){const wt=rt==="y"?"top":"left",Ze=rt==="y"?"bottom":"right",ze=Re+Xe[wt],Ct=Re-Xe[Ze];Re=L(ze,Re,Ct)}if(re){const wt=qe==="y"?"top":"left",Ze=qe==="y"?"bottom":"right",ze=We+Xe[wt],Ct=We-Xe[Ze];We=L(ze,We,Ct)}const Ke=ve.fn({...F,[rt]:Re,[qe]:We});return{...Ke,data:{x:Ke.x-W,y:Ke.y-Y}}}}};function we(I){return ie(I)?(I.nodeName||"").toLowerCase():"#document"}function fe(I){var F;return(I==null||(F=I.ownerDocument)==null?void 0:F.defaultView)||window}function Ve(I){var F;return(F=(ie(I)?I.ownerDocument:I.document)||window.document)==null?void 0:F.documentElement}function ie(I){return I instanceof Node||I instanceof fe(I).Node}function ge(I){return I instanceof Element||I instanceof fe(I).Element}function ke(I){return I instanceof HTMLElement||I instanceof fe(I).HTMLElement}function $e(I){return typeof ShadowRoot>"u"?!1:I instanceof ShadowRoot||I instanceof fe(I).ShadowRoot}function Le(I){const{overflow:F,overflowX:W,overflowY:Y,display:V}=ne(I);return/auto|scroll|overlay|hidden|clip/.test(F+Y+W)&&!["inline","contents"].includes(V)}function _e(I){return["table","td","th"].includes(we(I))}function Dt(I){const F=Be(),W=ne(I);return W.transform!=="none"||W.perspective!=="none"||(W.containerType?W.containerType!=="normal":!1)||!F&&(W.backdropFilter?W.backdropFilter!=="none":!1)||!F&&(W.filter?W.filter!=="none":!1)||["transform","perspective","filter"].some(Y=>(W.willChange||"").includes(Y))||["paint","layout","strict","content"].some(Y=>(W.contain||"").includes(Y))}function pt(I){let F=se(I);for(;ke(F)&&!G(F);){if(Dt(F))return F;F=se(F)}return null}function Be(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function G(I){return["html","body","#document"].includes(we(I))}function ne(I){return fe(I).getComputedStyle(I)}function Ae(I){return ge(I)?{scrollLeft:I.scrollLeft,scrollTop:I.scrollTop}:{scrollLeft:I.pageXOffset,scrollTop:I.pageYOffset}}function se(I){if(we(I)==="html")return I;const F=I.assignedSlot||I.parentNode||$e(I)&&I.host||Ve(I);return $e(F)?F.host:F}function ut(I){const F=se(I);return G(F)?I.ownerDocument?I.ownerDocument.body:I.body:ke(F)&&Le(F)?F:ut(F)}function Oe(I,F,W){var Y;F===void 0&&(F=[]),W===void 0&&(W=!0);const V=ut(I),Q=V===((Y=I.ownerDocument)==null?void 0:Y.body),re=fe(V);return Q?F.concat(re,re.visualViewport||[],Le(V)?V:[],re.frameElement&&W?Oe(re.frameElement):[]):F.concat(V,Oe(V,[],W))}function oe(I){const F=ne(I);let W=parseFloat(F.width)||0,Y=parseFloat(F.height)||0;const V=ke(I),Q=V?I.offsetWidth:W,re=V?I.offsetHeight:Y,ve=p(W)!==Q||p(Y)!==re;return ve&&(W=Q,Y=re),{width:W,height:Y,$:ve}}function ce(I){return ge(I)?I:I.contextElement}function Me(I){const F=ce(I);if(!ke(F))return g(1);const W=F.getBoundingClientRect(),{width:Y,height:V,$:Q}=oe(F);let re=(Q?p(W.width):W.width)/Y,ve=(Q?p(W.height):W.height)/V;return(!re||!Number.isFinite(re))&&(re=1),(!ve||!Number.isFinite(ve))&&(ve=1),{x:re,y:ve}}var nt=g(0);function He(I){const F=fe(I);return!Be()||!F.visualViewport?nt:{x:F.visualViewport.offsetLeft,y:F.visualViewport.offsetTop}}function Et(I,F,W){return F===void 0&&(F=!1),!W||F&&W!==fe(I)?!1:F}function yt(I,F,W,Y){F===void 0&&(F=!1),W===void 0&&(W=!1);const V=I.getBoundingClientRect(),Q=ce(I);let re=g(1);F&&(Y?ge(Y)&&(re=Me(Y)):re=Me(I));const ve=Et(Q,W,Y)?He(Q):g(0);let xe=(V.left+ve.x)/re.x,Se=(V.top+ve.y)/re.y,Xe=V.width/re.x,qe=V.height/re.y;if(Q){const rt=fe(Q),Re=Y&&ge(Y)?fe(Y):Y;let We=rt.frameElement;for(;We&&Y&&Re!==rt;){const Ke=Me(We),wt=We.getBoundingClientRect(),Ze=ne(We),ze=wt.left+(We.clientLeft+parseFloat(Ze.paddingLeft))*Ke.x,Ct=wt.top+(We.clientTop+parseFloat(Ze.paddingTop))*Ke.y;xe*=Ke.x,Se*=Ke.y,Xe*=Ke.x,qe*=Ke.y,xe+=ze,Se+=Ct,We=fe(We).frameElement}}return ee({width:Xe,height:qe,x:xe,y:Se})}function ln(I){let{rect:F,offsetParent:W,strategy:Y}=I;const V=ke(W),Q=Ve(W);if(W===Q)return F;let re={scrollLeft:0,scrollTop:0},ve=g(1);const xe=g(0);if((V||!V&&Y!=="fixed")&&((we(W)!=="body"||Le(Q))&&(re=Ae(W)),ke(W))){const Se=yt(W);ve=Me(W),xe.x=Se.x+W.clientLeft,xe.y=Se.y+W.clientTop}return{width:F.width*ve.x,height:F.height*ve.y,x:F.x*ve.x-re.scrollLeft*ve.x+xe.x,y:F.y*ve.y-re.scrollTop*ve.y+xe.y}}function cn(I){return Array.from(I.getClientRects())}function Vn(I){return yt(Ve(I)).left+Ae(I).scrollLeft}function ko(I){const F=Ve(I),W=Ae(I),Y=I.ownerDocument.body,V=h(F.scrollWidth,F.clientWidth,Y.scrollWidth,Y.clientWidth),Q=h(F.scrollHeight,F.clientHeight,Y.scrollHeight,Y.clientHeight);let re=-W.scrollLeft+Vn(I);const ve=-W.scrollTop;return ne(Y).direction==="rtl"&&(re+=h(F.clientWidth,Y.clientWidth)-V),{width:V,height:Q,x:re,y:ve}}function ar(I,F){const W=fe(I),Y=Ve(I),V=W.visualViewport;let Q=Y.clientWidth,re=Y.clientHeight,ve=0,xe=0;if(V){Q=V.width,re=V.height;const Se=Be();(!Se||Se&&F==="fixed")&&(ve=V.offsetLeft,xe=V.offsetTop)}return{width:Q,height:re,x:ve,y:xe}}function gt(I,F){const W=yt(I,!0,F==="fixed"),Y=W.top+I.clientTop,V=W.left+I.clientLeft,Q=ke(I)?Me(I):g(1),re=I.clientWidth*Q.x,ve=I.clientHeight*Q.y,xe=V*Q.x,Se=Y*Q.y;return{width:re,height:ve,x:xe,y:Se}}function Br(I,F,W){let Y;if(F==="viewport")Y=ar(I,W);else if(F==="document")Y=ko(Ve(I));else if(ge(F))Y=gt(F,W);else{const V=He(I);Y={...F,x:F.x-V.x,y:F.y-V.y}}return ee(Y)}function lr(I,F){const W=se(I);return W===F||!ge(W)||G(W)?!1:ne(W).position==="fixed"||lr(W,F)}function vs(I,F){const W=F.get(I);if(W)return W;let Y=Oe(I,[],!1).filter(ve=>ge(ve)&&we(ve)!=="body"),V=null;const Q=ne(I).position==="fixed";let re=Q?se(I):I;for(;ge(re)&&!G(re);){const ve=ne(re),xe=Dt(re);!xe&&ve.position==="fixed"&&(V=null),(Q?!xe&&!V:!xe&&ve.position==="static"&&!!V&&["absolute","fixed"].includes(V.position)||Le(re)&&!xe&&lr(I,re))?Y=Y.filter(Xe=>Xe!==re):V=ve,re=se(re)}return F.set(I,Y),Y}function bs(I){let{element:F,boundary:W,rootBoundary:Y,strategy:V}=I;const re=[...W==="clippingAncestors"?vs(F,this._c):[].concat(W),Y],ve=re[0],xe=re.reduce((Se,Xe)=>{const qe=Br(F,Xe,V);return Se.top=h(qe.top,Se.top),Se.right=f(qe.right,Se.right),Se.bottom=f(qe.bottom,Se.bottom),Se.left=h(qe.left,Se.left),Se},Br(F,ve,V));return{width:xe.right-xe.left,height:xe.bottom-xe.top,x:xe.left,y:xe.top}}function xo(I){return oe(I)}function ci(I,F,W){const Y=ke(F),V=Ve(F),Q=W==="fixed",re=yt(I,!0,Q,F);let ve={scrollLeft:0,scrollTop:0};const xe=g(0);if(Y||!Y&&!Q)if((we(F)!=="body"||Le(V))&&(ve=Ae(F)),Y){const Se=yt(F,!0,Q,F);xe.x=Se.x+F.clientLeft,xe.y=Se.y+F.clientTop}else V&&(xe.x=Vn(V));return{x:re.left+ve.scrollLeft-xe.x,y:re.top+ve.scrollTop-xe.y,width:re.width,height:re.height}}function Gn(I,F){return!ke(I)||ne(I).position==="fixed"?null:F?F(I):I.offsetParent}function Dn(I,F){const W=fe(I);if(!ke(I))return W;let Y=Gn(I,F);for(;Y&&_e(Y)&&ne(Y).position==="static";)Y=Gn(Y,F);return Y&&(we(Y)==="html"||we(Y)==="body"&&ne(Y).position==="static"&&!Dt(Y))?W:Y||pt(I)||W}var cr=async function(I){let{reference:F,floating:W,strategy:Y}=I;const V=this.getOffsetParent||Dn,Q=this.getDimensions;return{reference:ci(F,await V(W),Y),floating:{x:0,y:0,...await Q(W)}}};function ys(I){return ne(I).direction==="rtl"}var ws={convertOffsetParentRelativeRectToViewportRelativeRect:ln,getDocumentElement:Ve,getClippingRect:bs,getOffsetParent:Dn,getElementRects:cr,getClientRects:cn,getDimensions:xo,getScale:Me,isElement:ge,isRTL:ys};function ui(I,F){let W=null,Y;const V=Ve(I);function Q(){clearTimeout(Y),W&&W.disconnect(),W=null}function re(ve,xe){ve===void 0&&(ve=!1),xe===void 0&&(xe=1),Q();const{left:Se,top:Xe,width:qe,height:rt}=I.getBoundingClientRect();if(ve||F(),!qe||!rt)return;const Re=E(Xe),We=E(V.clientWidth-(Se+qe)),Ke=E(V.clientHeight-(Xe+rt)),wt=E(Se),ze={rootMargin:-Re+"px "+-We+"px "+-Ke+"px "+-wt+"px",threshold:h(0,f(1,xe))||1};let Ct=!0;function Zt(Ot){const un=Ot[0].intersectionRatio;if(un!==xe){if(!Ct)return re();un?re(!1,un):Y=setTimeout(()=>{re(!1,1e-7)},100)}Ct=!1}try{W=new IntersectionObserver(Zt,{...ze,root:V.ownerDocument})}catch{W=new IntersectionObserver(Zt,ze)}W.observe(I)}return re(!0),Q}function di(I,F,W,Y){Y===void 0&&(Y={});const{ancestorScroll:V=!0,ancestorResize:Q=!0,elementResize:re=typeof ResizeObserver=="function",layoutShift:ve=typeof IntersectionObserver=="function",animationFrame:xe=!1}=Y,Se=ce(I),Xe=V||Q?[...Se?Oe(Se):[],...Oe(F)]:[];Xe.forEach(Ze=>{V&&Ze.addEventListener("scroll",W,{passive:!0}),Q&&Ze.addEventListener("resize",W)});const qe=Se&&ve?ui(Se,W):null;let rt=-1,Re=null;re&&(Re=new ResizeObserver(Ze=>{let[ze]=Ze;ze&&ze.target===Se&&Re&&(Re.unobserve(F),cancelAnimationFrame(rt),rt=requestAnimationFrame(()=>{Re&&Re.observe(F)})),W()}),Se&&!xe&&Re.observe(Se),Re.observe(F));let We,Ke=xe?yt(I):null;xe&&wt();function wt(){const Ze=yt(I);Ke&&(Ze.x!==Ke.x||Ze.y!==Ke.y||Ze.width!==Ke.width||Ze.height!==Ke.height)&&W(),Ke=Ze,We=requestAnimationFrame(wt)}return W(),()=>{Xe.forEach(Ze=>{V&&Ze.removeEventListener("scroll",W),Q&&Ze.removeEventListener("resize",W)}),qe&&qe(),Re&&Re.disconnect(),Re=null,xe&&cancelAnimationFrame(We)}}var ks=(I,F,W)=>{const Y=new Map,V={platform:ws,...W},Q={...V.platform,_c:Y};return le(I,F,{...V,platform:Q})};function Eo(I){I.magic("anchor",F=>{if(!F._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return F._x_anchor}),I.interceptClone((F,W)=>{F&&F._x_anchor&&!W._x_anchor&&(W._x_anchor=F._x_anchor)}),I.directive("anchor",I.skipDuringClone((F,{expression:W,modifiers:Y,value:V},{cleanup:Q,evaluate:re})=>{let{placement:ve,offsetValue:xe,unstyled:Se}=tn(Y);F._x_anchor=I.reactive({x:0,y:0});let Xe=re(W);if(!Xe)throw"Alpine: no element provided to x-anchor...";let qe=()=>{let Re;ks(Xe,F,{placement:ve,middleware:[me(),ue({padding:5}),Ne(xe)]}).then(({x:We,y:Ke})=>{Se||So(F,We,Ke),JSON.stringify({x:We,y:Ke})!==Re&&(F._x_anchor.x=We,F._x_anchor.y=Ke),Re=JSON.stringify({x:We,y:Ke})})},rt=di(Xe,F,()=>qe());Q(()=>rt())},(F,{expression:W,modifiers:Y,value:V},{cleanup:Q,evaluate:re})=>{let{placement:ve,offsetValue:xe,unstyled:Se}=tn(Y);F._x_anchor&&(Se||So(F,F._x_anchor.x,F._x_anchor.y))}))}function So(I,F,W){Object.assign(I.style,{left:F+"px",top:W+"px",position:"absolute"})}function tn(I){let W=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(Q=>I.includes(Q)),Y=0;if(I.includes("offset")){let Q=I.findIndex(re=>re==="offset");Y=I[Q+1]!==void 0?Number(I[Q+1]):Y}let V=I.includes("no-style");return{placement:W,offsetValue:Y,unstyled:V}}var _o=Eo}}),Pp=Xn({"node_modules/nprogress/nprogress.js"(n,e){(function(t,r){typeof define=="function"&&define.amd?define(r):typeof n=="object"?e.exports=r():t.NProgress=r()})(n,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(g){var y,C;for(y in g)C=g[y],C!==void 0&&g.hasOwnProperty(y)&&(r[y]=C);return this},t.status=null,t.set=function(g){var y=t.isStarted();g=o(g,r.minimum,1),t.status=g===1?null:g;var C=t.render(!y),L=C.querySelector(r.barSelector),S=r.speed,m=r.easing;return C.offsetWidth,l(function(k){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),c(L,s(g,S,m)),g===1?(c(C,{transition:"none",opacity:1}),C.offsetWidth,setTimeout(function(){c(C,{transition:"all "+S+"ms linear",opacity:0}),setTimeout(function(){t.remove(),k()},S)},S)):setTimeout(k,S)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var g=function(){setTimeout(function(){t.status&&(t.trickle(),g())},r.trickleSpeed)};return r.trickle&&g(),this},t.done=function(g){return!g&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(g){var y=t.status;return y?(typeof g!="number"&&(g=(1-y)*o(Math.random()*y,.1,.95)),y=o(y+g,0,.994),t.set(y)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var g=0,y=0;t.promise=function(C){return!C||C.state()==="resolved"?this:(y===0&&t.start(),g++,y++,C.always(function(){y--,y===0?(g=0,t.done()):t.set((g-y)/g)}),this)}}(),t.render=function(g){if(t.isRendered())return document.getElementById("nprogress");f(document.documentElement,"nprogress-busy");var y=document.createElement("div");y.id="nprogress",y.innerHTML=r.template;var C=y.querySelector(r.barSelector),L=g?"-100":i(t.status||0),S=document.querySelector(r.parent),m;return c(C,{transition:"all 0 linear",transform:"translate3d("+L+"%,0,0)"}),r.showSpinner||(m=y.querySelector(r.spinnerSelector),m&&E(m)),S!=document.body&&f(S,"nprogress-custom-parent"),S.appendChild(y),y},t.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(r.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&E(g)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var g=document.body.style,y="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return y+"Perspective"in g?"translate3d":y+"Transform"in g?"translate":"margin"};function o(g,y,C){return g<y?y:g>C?C:g}function i(g){return(-1+g)*100}function s(g,y,C){var L;return r.positionUsing==="translate3d"?L={transform:"translate3d("+i(g)+"%,0,0)"}:r.positionUsing==="translate"?L={transform:"translate("+i(g)+"%,0)"}:L={"margin-left":i(g)+"%"},L.transition="all "+y+"ms "+C,L}var l=function(){var g=[];function y(){var C=g.shift();C&&C(y)}return function(C){g.push(C),g.length==1&&y()}}(),c=function(){var g=["Webkit","O","Moz","ms"],y={};function C(k){return k.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(x,A){return A.toUpperCase()})}function L(k){var x=document.body.style;if(k in x)return k;for(var A=g.length,O=k.charAt(0).toUpperCase()+k.slice(1),b;A--;)if(b=g[A]+O,b in x)return b;return k}function S(k){return k=C(k),y[k]||(y[k]=L(k))}function m(k,x,A){x=S(x),k.style[x]=A}return function(k,x){var A=arguments,O,b;if(A.length==2)for(O in x)b=x[O],b!==void 0&&x.hasOwnProperty(O)&&m(k,O,b);else m(k,A[1],A[2])}}();function u(g,y){var C=typeof g=="string"?g:p(g);return C.indexOf(" "+y+" ")>=0}function f(g,y){var C=p(g),L=C+y;u(C,y)||(g.className=L.substring(1))}function h(g,y){var C=p(g),L;u(g,y)&&(L=C.replace(" "+y+" "," "),g.className=L.substring(1,L.length-1))}function p(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function E(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return t})}}),Dp=Xn({"../alpine/packages/morph/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(A,O)=>{for(var b in O)t(A,b,{get:O[b],enumerable:!0})},l=(A,O,b,v)=>{if(O&&typeof O=="object"||typeof O=="function")for(let B of o(O))!i.call(A,B)&&B!==b&&t(A,B,{get:()=>O[B],enumerable:!(v=r(O,B))||v.enumerable});return A},c=A=>l(t({},"__esModule",{value:!0}),A),u={};s(u,{default:()=>x,morph:()=>f}),e.exports=c(u);function f(A,O,b){S();let v,B,_,R,D,z,N,U,ee;function J(ie={}){let ge=$e=>$e.getAttribute("key"),ke=()=>{};R=ie.updating||ke,D=ie.updated||ke,z=ie.removing||ke,N=ie.removed||ke,U=ie.adding||ke,ee=ie.added||ke,B=ie.key||ge,_=ie.lookahead||!1}function le(ie,ge){if(Ue(ie,ge))return me(ie,ge);let ke=!1;if(!h(R,ie,ge,()=>ke=!0)){if(ie.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(ie,ge),g(ge)){he(ie,ge),D(ie,ge);return}ke||Ne(ie,ge),D(ie,ge),ue(ie,ge)}}function Ue(ie,ge){return ie.nodeType!=ge.nodeType||ie.nodeName!=ge.nodeName||we(ie)!=we(ge)}function me(ie,ge){if(h(z,ie))return;let ke=ge.cloneNode(!0);h(U,ke)||(ie.replaceWith(ke),N(ie),ee(ke))}function he(ie,ge){let ke=ge.nodeValue;ie.nodeValue!==ke&&(ie.nodeValue=ke)}function Ne(ie,ge){if(ie._x_transitioning||ie._x_isShown&&!ge._x_isShown||!ie._x_isShown&&ge._x_isShown)return;let ke=Array.from(ie.attributes),$e=Array.from(ge.attributes);for(let Le=ke.length-1;Le>=0;Le--){let _e=ke[Le].name;ge.hasAttribute(_e)||ie.removeAttribute(_e)}for(let Le=$e.length-1;Le>=0;Le--){let _e=$e[Le].name,Dt=$e[Le].value;ie.getAttribute(_e)!==Dt&&ie.setAttribute(_e,Dt)}}function ue(ie,ge){ie._x_teleport&&(ie=ie._x_teleport),ge._x_teleport&&(ge=ge._x_teleport);let ke=fe(ie.children),$e={},Le=C(ge),_e=C(ie);for(;Le;){m(Le,_e);let pt=we(Le),Be=we(_e);if(!_e)if(pt&&$e[pt]){let se=$e[pt];ie.appendChild(se),_e=se}else{if(!h(U,Le)){let se=Le.cloneNode(!0);ie.appendChild(se),ee(se)}Le=L(ge,Le);continue}let G=se=>se&&se.nodeType===8&&se.textContent==="[if BLOCK]><![endif]",ne=se=>se&&se.nodeType===8&&se.textContent==="[if ENDBLOCK]><![endif]";if(G(Le)&&G(_e)){let se=0,ut=_e;for(;_e;){let He=L(ie,_e);if(G(He))se++;else if(ne(He)&&se>0)se--;else if(ne(He)&&se===0){_e=He;break}_e=He}let Oe=_e;se=0;let oe=Le;for(;Le;){let He=L(ge,Le);if(G(He))se++;else if(ne(He)&&se>0)se--;else if(ne(He)&&se===0){Le=He;break}Le=He}let ce=Le,Me=new y(ut,Oe),nt=new y(oe,ce);ue(Me,nt);continue}if(_e.nodeType===1&&_&&!_e.isEqualNode(Le)){let se=L(ge,Le),ut=!1;for(;!ut&&se;)se.nodeType===1&&_e.isEqualNode(se)&&(ut=!0,_e=Ve(ie,Le,_e),Be=we(_e)),se=L(ge,se)}if(pt!==Be){if(!pt&&Be){$e[Be]=_e,_e=Ve(ie,Le,_e),$e[Be].remove(),_e=L(ie,_e),Le=L(ge,Le);continue}if(pt&&!Be&&ke[pt]&&(_e.replaceWith(ke[pt]),_e=ke[pt]),pt&&Be){let se=ke[pt];if(se)$e[Be]=_e,_e.replaceWith(se),_e=se;else{$e[Be]=_e,_e=Ve(ie,Le,_e),$e[Be].remove(),_e=L(ie,_e),Le=L(ge,Le);continue}}}let Ae=_e&&L(ie,_e);le(_e,Le),Le=Le&&L(ge,Le),_e=Ae}let Dt=[];for(;_e;)h(z,_e)||Dt.push(_e),_e=L(ie,_e);for(;Dt.length;){let pt=Dt.shift();pt.remove(),N(pt)}}function we(ie){return ie&&ie.nodeType===1&&B(ie)}function fe(ie){let ge={};for(let ke of ie){let $e=we(ke);$e&&(ge[$e]=ke)}return ge}function Ve(ie,ge,ke){if(!h(U,ge)){let $e=ge.cloneNode(!0);return ie.insertBefore($e,ke),ee($e),$e}return ge}return J(b),v=typeof O=="string"?E(O):O,window.Alpine&&window.Alpine.closestDataStack&&!A._x_dataStack&&(v._x_dataStack=window.Alpine.closestDataStack(A),v._x_dataStack&&window.Alpine.cloneNode(A,v)),le(A,v),v=void 0,A}f.step=()=>{},f.log=()=>{};function h(A,...O){let b=!1;return A(...O,()=>b=!0),b}var p=!1;function E(A){const O=document.createElement("template");return O.innerHTML=A,O.content.firstElementChild}function g(A){return A.nodeType===3||A.nodeType===8}var y=class{constructor(A,O){this.startComment=A,this.endComment=O}get children(){let A=[],O=this.startComment.nextSibling;for(;O&&O!==this.endComment;)A.push(O),O=O.nextSibling;return A}appendChild(A){this.endComment.before(A)}get firstChild(){let A=this.startComment.nextSibling;if(A!==this.endComment)return A}nextNode(A){let O=A.nextSibling;if(O!==this.endComment)return O}insertBefore(A,O){return O.before(A),A}};function C(A){return A.firstChild}function L(A,O){let b;return A instanceof y?b=A.nextNode(O):b=O.nextSibling,b}function S(){if(p)return;p=!0;let A=Element.prototype.setAttribute,O=document.createElement("div");Element.prototype.setAttribute=function(v,B){if(!v.includes("@"))return A.call(this,v,B);O.innerHTML=`<span ${v}="${B}"></span>`;let _=O.firstElementChild.getAttributeNode(v);O.firstElementChild.removeAttributeNode(_),this.setAttributeNode(_)}}function m(A,O){let b=O&&O._x_bindings&&O._x_bindings.id;b&&(A.setAttribute("id",b),A.id=b)}function k(A){A.morph=f}var x=k}}),jp=Xn({"../alpine/packages/mask/dist/module.cjs.js"(n,e){var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(C,L)=>{for(var S in L)t(C,S,{get:L[S],enumerable:!0})},l=(C,L,S,m)=>{if(L&&typeof L=="object"||typeof L=="function")for(let k of o(L))!i.call(C,k)&&k!==S&&t(C,k,{get:()=>L[k],enumerable:!(m=r(L,k))||m.enumerable});return C},c=C=>l(t({},"__esModule",{value:!0}),C),u={};s(u,{default:()=>y,stripDown:()=>p}),e.exports=c(u);function f(C){C.directive("mask",(L,{value:S,expression:m},{effect:k,evaluateLater:x})=>{let A=()=>m,O="";queueMicrotask(()=>{if(["function","dynamic"].includes(S)){let B=x(m);k(()=>{A=_=>{let R;return C.dontAutoEvaluateFunctions(()=>{B(D=>{R=typeof D=="function"?D(_):D},{scope:{$input:_,$money:g.bind({el:L})}})}),R},b(L,!1)})}else b(L,!1);L._x_model&&L._x_model.set(L.value)}),L.addEventListener("input",()=>b(L)),L.addEventListener("blur",()=>b(L,!1));function b(B,_=!0){let R=B.value,D=A(R);if(!D||D==="false")return!1;if(O.length-B.value.length===1)return O=B.value;let z=()=>{O=B.value=v(R,D)};_?h(B,D,()=>{z()}):z()}function v(B,_){if(B==="")return"";let R=p(_,B);return E(_,R)}}).before("model")}function h(C,L,S){let m=C.selectionStart,k=C.value;S();let x=k.slice(0,m),A=E(L,p(L,x)).length;C.setSelectionRange(A,A)}function p(C,L){let S=L,m="",k={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},x="";for(let A=0;A<C.length;A++){if(["9","a","*"].includes(C[A])){x+=C[A];continue}for(let O=0;O<S.length;O++)if(S[O]===C[A]){S=S.slice(0,O)+S.slice(O+1);break}}for(let A=0;A<x.length;A++){let O=!1;for(let b=0;b<S.length;b++)if(k[x[A]].test(S[b])){m+=S[b],S=S.slice(0,b)+S.slice(b+1),O=!0;break}if(!O)break}return m}function E(C,L){let S=Array.from(L),m="";for(let k=0;k<C.length;k++){if(!["9","a","*"].includes(C[k])){m+=C[k];continue}if(S.length===0)break;m+=S.shift()}return m}function g(C,L=".",S,m=2){if(C==="-")return"-";if(/^\D+$/.test(C))return"9";S==null&&(S=L===","?".":",");let k=(b,v)=>{let B="",_=0;for(let R=b.length-1;R>=0;R--)b[R]!==v&&(_===3?(B=b[R]+v+B,_=0):B=b[R]+B,_++);return B},x=C.startsWith("-")?"-":"",A=C.replaceAll(new RegExp(`[^0-9\\${L}]`,"g"),""),O=Array.from({length:A.split(L)[0].length}).fill("9").join("");return O=`${x}${k(O,S)}`,m>0&&C.includes(L)&&(O+=`${L}`+"9".repeat(m)),queueMicrotask(()=>{this.el.value.endsWith(L)||this.el.value[this.el.selectionStart-1]===L&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),O}var y=f}}),zu=class{constructor(){this.arrays=new WeakMap}add(n,e){this.arrays.has(n)||this.arrays.set(n,[]),this.arrays.get(n).push(e)}get(n){return this.arrays.has(n)?this.arrays.get(n):[]}each(n,e){return this.get(n).forEach(e)}};function da(n,e,t={},r=!0){n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:r,composed:!0,cancelable:!0}))}function Yu(n){return typeof n=="object"&&n!==null}function Cc(n){return Yu(n)&&!Ba(n)}function Ba(n){return Array.isArray(n)}function Fp(n){return typeof n=="function"}function Tc(n){return typeof n!="object"||n===null}function yr(n){return JSON.parse(JSON.stringify(n))}function Hn(n,e){return e===""?n:e.split(".").reduce((t,r)=>{if(t!==void 0)return t[r]},n)}function cs(n,e,t){let r=e.split(".");if(r.length===1)return n[e]=t;let o=r.shift(),i=r.join(".");n[o]===void 0&&(n[o]={}),cs(n[o],i,t)}function al(n,e,t={},r=""){if(n===e)return t;if(typeof n!=typeof e||Cc(n)&&Ba(e)||Ba(n)&&Cc(e)||Tc(n)||Tc(e))return t[r]=e,t;let o=Object.keys(n);return Object.entries(e).forEach(([i,s])=>{t={...t,...al(n[i],e[i],t,r===""?i:`${r}.${i}`)},o=o.filter(l=>l!==i)}),o.forEach(i=>{t[`${r}.${i}`]="__rm__"}),t}function Gr(n){let e=Oc(n)?n[0]:n;return Oc(n)&&n[1],Yu(e)&&Object.entries(e).forEach(([t,r])=>{e[t]=Gr(r)}),e}function Oc(n){return Array.isArray(n)&&n.length===2&&typeof n[1]=="object"&&Object.keys(n[1]).includes("s")}function Xu(){if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if(window.livewireScriptConfig.csrf??!1)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}function Ku(n){return!!n.match(/<script>Sfdump\(".+"\)<\/script>/)}function Hp(n){let e=n.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,n.replace(e,"")]}function Vu(n){let e=document.createElement("html");e.innerHTML=n,e.querySelectorAll("a").forEach(o=>o.setAttribute("target","_top"));let t=document.getElementById("livewire-error");typeof t<"u"&&t!=null?t.innerHTML="":(t=document.createElement("div"),t.id="livewire-error",t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.padding="50px",t.style.backgroundColor="rgba(0, 0, 0, .6)",t.style.zIndex=2e5);let r=document.createElement("iframe");r.style.backgroundColor="#17161A",r.style.borderRadius="5px",r.style.width="100%",r.style.height="100%",t.appendChild(r),document.body.prepend(t),document.body.style.overflow="hidden",r.contentWindow.document.open(),r.contentWindow.document.write(e.outerHTML),r.contentWindow.document.close(),t.addEventListener("click",()=>Bc(t)),t.setAttribute("tabindex",0),t.addEventListener("keydown",o=>{o.key==="Escape"&&Bc(t)}),t.focus()}function Bc(n){n.outerHTML="",document.body.style.overflow="visible"}var Jr=[];function bt(n,e){return Jr[n]||(Jr[n]=[]),Jr[n].push(e),()=>{Jr[n]=Jr[n].filter(t=>t!==e)}}function Ht(n,...e){let t=Jr[n]||[],r=[];for(let o=0;o<t.length;o++){let i=t[o](...e);Fp(i)&&r.push(i)}return o=>{let i=o;for(let s=0;s<r.length;s++){let l=r[s](i);l!==void 0&&(i=l)}return i}}var Cu,Ac=((Cu=document.querySelector("[data-update-uri]"))==null?void 0:Cu.getAttribute("data-update-uri"))??window.livewireScriptConfig.uri??null;function Gu(){Up(()=>{$p()})}var ha;function Up(n){ha||(ha=setTimeout(()=>{n(),ha=void 0},5))}async function $p(){Wp(),await Xp(async()=>{let[n,e,t]=qp(),r={method:"POST",body:JSON.stringify({_token:Xu(),components:n}),headers:{"Content-type":"application/json","X-Livewire":""}},o=[],i=[],s=[],l=y=>o.forEach(C=>C(y)),c=y=>i.forEach(C=>C(y)),u=y=>s.forEach(C=>C(y)),f=Ht("request.profile",r);Ht("request",{url:Ac,options:r,payload:r.body,respond:y=>s.push(y),succeed:y=>o.push(y),fail:y=>i.push(y)});let h=await fetch(Ac,r),p={status:h.status,response:h};u(p),h=p.response;let E=await h.text();if(!h.ok){f({content:"{}",failed:!0});let y=!1;return t(),c({status:h.status,content:E,preventDefault:()=>y=!0}),y?void 0:(h.status===419&&zp(),Yp(E))}h.redirected&&(window.location.href=h.url),Ku(E)?([dump,E]=Hp(E),Vu(dump),f({content:"{}",failed:!0})):f({content:E,failed:!1});let{components:g}=JSON.parse(E);e(g),l({status:h.status,json:JSON.parse(E)})})}function Wp(){Kp().forEach(e=>e.prepare())}function qp(){let n=[],e=[],t=[];return Vp(i=>{let[s,l,c]=i.toRequestPayload();n.push(s),e.push(l),t.push(c)}),[n,i=>e.forEach(s=>s(i.shift())),()=>t.forEach(i=>i())]}function zp(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function Yp(n){Vu(n)}var Aa=!1,La=[];async function Ju(n){return new Promise(e=>{Aa?La.push(()=>e(n())):e(n())})}async function Xp(n){for(Aa=!0,await n(),Aa=!1;La.length>0;)La.shift()()}var ti=[];function Kp(){return ti}function Vp(n){for(;ti.length>0;)n(ti.shift())}function Zu(n){let e=ti.find(t=>t.component.id===n.id);return e||ti.push(e=new Jp(n)),e}async function Qu(n){return await Ju(()=>{let e=Zu(n);return Gu(),new Promise((t,r)=>{e.addResolver(t)})})}async function Gp(n,e,t){return await Ju(()=>{let r=Zu(n);return Gu(),new Promise((o,i)=>{r.addCall(e,t,s=>o(s))})})}var Jp=class{constructor(n){this.component=n,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(n){this.resolvers.push(n)}addCall(n,e,t){this.calls.push({path:"",method:n,params:e,handleReturn(r){t(r)}})}prepare(){Ht("commit.prepare",{component:this.component})}toRequestPayload(){let n=al(this.component.canonical,this.component.ephemeral),e={snapshot:this.component.snapshotEncoded,updates:n,calls:this.calls.map(h=>({path:h.path,method:h.method,params:h.params}))},t=[],r=[],o=[],i=h=>t.forEach(p=>p(h)),s=()=>r.forEach(h=>h()),l=()=>o.forEach(h=>h()),c=Ht("commit",{component:this.component,commit:e,succeed:h=>{t.push(h)},fail:h=>{r.push(h)},respond:h=>{o.push(h)}});return[e,h=>{let{snapshot:p,effects:E}=h;if(l(),this.component.mergeNewSnapshot(p,E,n),Ma(this.component,this.component.effects),E.returns){let y=E.returns;this.calls.map(({handleReturn:L})=>L).forEach((L,S)=>{L(y[S])})}let g=JSON.parse(p);c({snapshot:g,effects:E}),this.resolvers.forEach(y=>y()),i(h)},()=>{l(),s()}]}};function Ma(n,e){Ht("effects",n,e)}var Lc=dt(It());function ed(n,e){return e||(e=()=>{}),(t,r=!1)=>{let o=r,i=t,s=n.$wire,l=s.get(i);return Lc.default.interceptor((u,f,h,p,E)=>{if(typeof l>"u"){console.error(`Livewire Entangle Error: Livewire property ['${i}'] cannot be found on component: ['${n.name}']`);return}let g=Lc.default.entangle({get(){return s.get(t)},set(y){s.set(t,y,o)}},{get(){return f()},set(y){h(y)}});return e(()=>g()),s.get(t)},u=>{Object.defineProperty(u,"live",{get(){return o=!0,u}})})(l)}}var td=dt(It()),fa=new WeakMap;function us(n){if(!fa.has(n)){let e=new Qp(n);fa.set(n,e),e.registerListeners()}return fa.get(n)}function Zp(n,e,t,r){let o=us(t),i=()=>n.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:t.id,property:e}})),s=()=>n.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:t.id,property:e}})),l=()=>n.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:t.id,property:e}})),c=h=>{var p=Math.round(h.loaded*100/h.total);n.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:p}}))},u=h=>{h.target.files.length!==0&&(i(),h.target.multiple?o.uploadMultiple(e,h.target.files,s,l,c):o.upload(e,h.target.files[0],s,l,c))};n.addEventListener("change",u);let f=()=>{n.value=null};n.addEventListener("click",f),r(()=>{n.removeEventListener("change",u),n.removeEventListener("click",f)})}var Qp=class{constructor(n){this.component=n,this.uploadBag=new Mc,this.removeBag=new Mc}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:n,url:e})=>{this.component,this.handleSignedUrl(n,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:n,payload:e})=>{this.component,this.handleS3PreSignedUrl(n,e)}),this.component.$wire.$on("upload:finished",({name:n,tmpFilenames:e})=>this.markUploadFinished(n,e)),this.component.$wire.$on("upload:errored",({name:n})=>this.markUploadErrored(n)),this.component.$wire.$on("upload:removed",({name:n,tmpFilename:e})=>this.removeBag.shift(n).finishCallback(e))}upload(n,e,t,r,o){this.setUpload(n,{files:[e],multiple:!1,finishCallback:t,errorCallback:r,progressCallback:o})}uploadMultiple(n,e,t,r,o){this.setUpload(n,{files:Array.from(e),multiple:!0,finishCallback:t,errorCallback:r,progressCallback:o})}removeUpload(n,e,t){this.removeBag.push(n,{tmpFilename:e,finishCallback:t}),this.component.$wire.call("_removeUpload",n,e)}setUpload(n,e){this.uploadBag.add(n,e),this.uploadBag.get(n).length===1&&this.startUpload(n,e)}handleSignedUrl(n,e){let t=new FormData;Array.from(this.uploadBag.first(n).files).forEach(i=>t.append("files[]",i,i.name));let r={Accept:"application/json"},o=Xu();o&&(r["X-CSRF-TOKEN"]=o),this.makeRequest(n,t,"post",e,r,i=>i.paths)}handleS3PreSignedUrl(n,e){let t=this.uploadBag.first(n).files[0],r=e.headers;"Host"in r&&delete r.Host;let o=e.url;this.makeRequest(n,t,"put",o,r,i=>[e.path])}makeRequest(n,e,t,r,o,i){let s=new XMLHttpRequest;s.open(t,r),Object.entries(o).forEach(([l,c])=>{s.setRequestHeader(l,c)}),s.upload.addEventListener("progress",l=>{l.detail={},l.detail.progress=Math.round(l.loaded*100/l.total),this.uploadBag.first(n).progressCallback(l)}),s.addEventListener("load",()=>{if((s.status+"")[0]==="2"){let c=i(s.response&&JSON.parse(s.response));this.component.$wire.call("_finishUpload",n,c,this.uploadBag.first(n).multiple);return}let l=null;s.status===422&&(l=s.response),this.component.$wire.call("_uploadErrored",n,l,this.uploadBag.first(n).multiple)}),s.send(e)}startUpload(n,e){let t=e.files.map(r=>({name:r.name,size:r.size,type:r.type}));this.component.$wire.call("_startUpload",n,t,e.multiple),this.component}markUploadFinished(n,e){this.component;let t=this.uploadBag.shift(n);t.finishCallback(t.multiple?e:e[0]),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}markUploadErrored(n){this.component,this.uploadBag.shift(n).errorCallback(),this.uploadBag.get(n).length>0&&this.startUpload(n,this.uploadBag.last(n))}},Mc=class{constructor(){this.bag={}}add(n,e){this.bag[n]||(this.bag[n]=[]),this.bag[n].push(e)}push(n,e){this.add(n,e)}first(n){return this.bag[n]?this.bag[n][0]:null}last(n){return this.bag[n].slice(-1)[0]}get(n){return this.bag[n]}shift(n){return this.bag[n].shift()}call(n,...e){(this.listeners[n]||[]).forEach(t=>{t(...e)})}has(n){return Object.keys(this.listeners).includes(n)}};function eg(n,e,t,r=()=>{},o=()=>{},i=()=>{}){us(n).upload(e,t,r,o,i)}function tg(n,e,t,r=()=>{},o=()=>{},i=()=>{}){us(n).uploadMultiple(e,t,r,o,i)}function ng(n,e,t,r=()=>{},o=()=>{}){us(n).removeUpload(e,t,r,o)}var ll={},nd;function Pt(n,e,t=null){ll[n]=e}function rg(n){nd=n}var Ic={on:"$on",el:"$el",id:"$id",get:"$get",set:"$set",call:"$call",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload"};function og(n,e){return new Proxy({},{get(t,r){if(r==="__instance")return n;if(r in Ic)return Rc(n,Ic[r]);if(r in ll)return Rc(n,r);if(r in e)return e[r];if(!["then"].includes(r))return ig(n)(r)},set(t,r,o){return r in e&&(e[r]=o),!0}})}function Rc(n,e){return ll[e](n)}function ig(n){return nd(n)}td.default.magic("wire",(n,{cleanup:e})=>{let t;return new Proxy({},{get(r,o){return t||(t=ir(n)),["$entangle","entangle"].includes(o)?ed(t,e):t.$wire[o]},set(r,o,i){return t||(t=ir(n)),t.$wire[o]=i,!0}})});Pt("__instance",n=>n);Pt("$get",n=>(e,t=!0)=>Hn(t?n.reactive:n.ephemeral,e));Pt("$el",n=>n.el);Pt("$id",n=>n.id);Pt("$set",n=>async(e,t,r=!0)=>(cs(n.reactive,e,t),r?await Qu(n):Promise.resolve()));Pt("$call",n=>async(e,...t)=>await n.$wire[e](...t));Pt("$entangle",n=>(e,t=!1)=>ed(n)(e,t));Pt("$toggle",n=>(e,t=!0)=>n.$wire.set(e,!n.$wire.get(e),t));Pt("$watch",n=>(e,t)=>{let r=!0,o;td.default.effect(()=>{let i=Hn(n.reactive,e);JSON.stringify(i),r?o=i:queueMicrotask(()=>{t(i,o),o=i}),r=!1})});Pt("$refresh",n=>n.$wire.$commit);Pt("$commit",n=>async()=>await Qu(n));Pt("$on",n=>(...e)=>bg(n,...e));Pt("$dispatch",n=>(...e)=>od(n,...e));Pt("$dispatchSelf",n=>(...e)=>oo(n,...e));Pt("$dispatchTo",n=>(...e)=>cl(n,...e));Pt("$upload",n=>(...e)=>eg(n,...e));Pt("$uploadMultiple",n=>(...e)=>tg(n,...e));Pt("$removeUpload",n=>(...e)=>ng(n,...e));var pa=new WeakMap;Pt("$parent",n=>{if(pa.has(n))return pa.get(n).$wire;let e=ir(n.el.parentElement);return pa.set(n,e),e.$wire});var ro=new WeakMap;function sg(n,e,t){ro.has(n)||ro.set(n,{});let r=ro.get(n);r[e]=t,ro.set(n,r)}rg(n=>e=>async(...t)=>{if(t.length===1&&t[0]instanceof Event&&(t=[]),ro.has(n)){let r=ro.get(n);if(typeof r[e]=="function")return r[e](t)}return await Gp(n,e,t)});var ag=class{constructor(n){if(n.__livewire)throw"Component already initialized";if(n.__livewire=this,this.el=n,this.id=n.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=n.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(n.getAttribute("wire:effects")),this.originalEffects=yr(this.effects),this.canonical=Gr(yr(this.snapshot.data)),this.ephemeral=Gr(yr(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.$wire=og(this,this.reactive),this.cleanups=[],Ma(this,this.effects)}mergeNewSnapshot(n,e,t={}){let r=JSON.parse(n),o=yr(this.canonical),i=this.applyUpdates(o,t),s=Gr(yr(r.data)),l=al(i,s);this.snapshotEncoded=n,this.snapshot=r,this.effects=e,this.canonical=Gr(yr(r.data));let c=Gr(yr(r.data));return Object.entries(l).forEach(([u,f])=>{let h=u.split(".")[0];this.reactive[h]=c[h]}),l}applyUpdates(n,e){for(let t in e)cs(n,t,e[t]);return n}replayUpdate(n,e){let t={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(n),t),Ma(this,{html:e})}get children(){let n=this.snapshot.memo;return Object.values(n.children).map(t=>t[1]).map(t=>ug(t))}inscribeSnapshotAndEffectsOnElement(){let n=this.el;n.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),n.setAttribute("wire:effects",JSON.stringify(e))}addCleanup(n){this.cleanups.push(n)}cleanup(){for(;this.cleanups.length>0;)this.cleanups.pop()()}},Wn={};function lg(n){let e=new ag(n);if(Wn[e.id])throw"Component already registered";return Ht("component.init",{component:e,cleanup:r=>e.addCleanup(r)}),Wn[e.id]=e,e}function cg(n){let e=Wn[n];e&&(e.cleanup(),delete Wn[n])}function ug(n){let e=Wn[n];if(!e)throw"Component not found: "+n;return e}function ir(n,e=!0){let t=Alpine.findClosest(n,r=>r.__livewire);if(!t){if(e)throw"Could not find Livewire component in DOM tree";return}return t.__livewire}function rd(n){return Object.values(Wn).filter(e=>n==e.name)}function dg(n){return rd(n).map(e=>e.$wire)}function hg(n){let e=Wn[n];return e&&e.$wire}function fg(){return Object.values(Wn)[0].$wire}function pg(){return Object.values(Wn)}dt(It());bt("effects",(n,e)=>{gg(n,e.listeners||[]),mg(n,e.dispatches||[])});function gg(n,e){e.forEach(t=>{let r=o=>{o.__livewire&&o.__livewire.receivedBy.push(n),n.$wire.call("__dispatch",t,o.detail||{})};window.addEventListener(t,r),n.addCleanup(()=>window.removeEventListener(t,r)),n.el.addEventListener(t,o=>{o.__livewire&&(o.bubbles||(o.__livewire&&o.__livewire.receivedBy.push(n.id),n.$wire.call("__dispatch",t,o.detail||{})))})})}function mg(n,e){e.forEach(({name:t,params:r={},self:o=!1,to:i})=>{o?oo(n,t,r):i?cl(n,i,t,r):od(n,t,r)})}function ds(n,e,t,r=!0){let o=new CustomEvent(e,{bubbles:r,detail:t});o.__livewire={name:e,params:t,receivedBy:[]},n.dispatchEvent(o)}function od(n,e,t){ds(n.el,e,t)}function vg(n,e){ds(window,n,e)}function oo(n,e,t){ds(n.el,e,t,!1)}function cl(n,e,t,r){rd(e).forEach(i=>{ds(i.el,t,r,!1)})}function bg(n,e,t){n.el.addEventListener(e,r=>{t(r.detail)})}function yg(n,e){window.addEventListener(n,t=>{t.__livewire&&e(t.detail)})}dt(It());function Ia(n){return n.match(new RegExp("wire:"))}function Ra(n,e){let[t,...r]=e.replace(new RegExp("wire:"),"").split(".");return new kg(t,r,e,n)}function Cn(n,e){bt("directive.init",({el:t,component:r,directive:o,cleanup:i})=>{o.value===n&&e({el:t,directive:o,component:r,cleanup:i})})}function hs(n){return new wg(n)}var wg=class{constructor(n){this.el=n,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(n){return this.directives.map(e=>e.value).includes(n)}missing(n){return!this.has(n)}get(n){return this.directives.find(e=>e.value===n)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(n=>Ia(n)).map(n=>Ra(this.el,n)))}},kg=class{constructor(n,e,t,r){this.rawName=this.raw=t,this.el=r,this.eventContext,this.value=n,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:n}=this.parseOutMethodAndParams(this.expression);return n}get params(){const{params:n}=this.parseOutMethodAndParams(this.expression);return n}parseOutMethodAndParams(n){let e=n,t=[];const r=e.match(/(.*?)\((.*)\)/s);return r&&(e=r[1],t=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${r[2]})`)(this.eventContext)),{method:e,params:t}}},xg=dt(Lp()),Eg=dt(Mp()),Sg=dt(Ip()),_g=dt(Rp()),Cg=dt(Np());function Tg(){let n=new URL(window.location.href,document.baseURI);Lg(n,document.documentElement.outerHTML)}function Og(n){window.addEventListener("popstate",e=>{let r=(e.state||{}).alpine||{};if(!r._html)return;let o=Mg(r._html);n(o)})}function Bg(n,e){Ag(e,n)}function Ag(n,e){id("pushState",n,e)}function Lg(n,e){id("replaceState",n,e)}function id(n,e,t){let r=new Date().getTime();sd(r,t);let o=history.state||{};o.alpine||(o.alpine={}),o.alpine._html=r;try{history[n](o,document.title,e)}catch(i){i instanceof DOMException&&i.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e),console.error(i)}}function Mg(n){return JSON.parse(sessionStorage.getItem("alpine:"+n))}function sd(n,e){try{sessionStorage.setItem("alpine:"+n,JSON.stringify(e))}catch(t){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(t.code))return;let r=Object.keys(sessionStorage).map(o=>Number(o.replace("alpine:",""))).sort().shift();if(!r)return;sessionStorage.removeItem("alpine:"+r),sd(n,e)}}var Mn={};function Nc(n,e){let t=n.pathname;Mn[t]||(Mn[t]={finished:!1,html:null,whenFinished:()=>{}},fetch(t).then(r=>r.text()).then(r=>{e(r)}))}function Pc(n,e){let t=Mn[e.pathname];t.html=n,t.finished=!0,t.whenFinished()}function Ig(n,e,t){let r=n.pathname+n.search;if(!Mn[r])return t();if(Mn[r].finished){let o=Mn[r].html;return delete Mn[r],e(o)}else Mn[r].whenFinished=()=>{let o=Mn[r].html;delete Mn[r],e(o)}}function Rg(n,e){let t=o=>o.which>1||o.altKey||o.ctrlKey||o.metaKey||o.shiftKey,r=o=>o.which!==13||o.altKey||o.ctrlKey||o.metaKey||o.shiftKey;n.addEventListener("click",o=>{t(o)||o.preventDefault()}),n.addEventListener("mousedown",o=>{t(o)||(o.preventDefault(),e(i=>{let s=l=>{l.preventDefault(),i(),n.removeEventListener("mouseup",s)};n.addEventListener("mouseup",s)}))}),n.addEventListener("keydown",o=>{r(o)||(o.preventDefault(),e(i=>{i()}))})}function Ng(n,e=60,t){n.addEventListener("mouseenter",r=>{let o=setTimeout(()=>{t(r)},e),i=()=>{clearTimeout(o),n.removeEventListener("mouseleave",i)};n.addEventListener("mouseleave",i)})}function Dc(n){return ad(n.getAttribute("href"))}function ad(n){return new URL(n,document.baseURI)}var ul=dt(It());function jc(n){ul.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function Fc(n){ul.default.mutateDom(()=>{n.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function Hc(n){ul.default.walk(n,(e,t)=>{e._x_teleport&&(e._x_teleportPutBack(),t())})}function Uc(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n=>{n.setAttribute("data-scroll-x",n.scrollLeft),n.setAttribute("data-scroll-y",n.scrollTop)})}function $c(){let n=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-x")),left:Number(e.getAttribute("data-scroll-y")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{n(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(n)})}var Na=dt(It()),Xo={};function Wc(n){Xo={},document.querySelectorAll("[x-persist]").forEach(e=>{Xo[e.getAttribute("x-persist")]=e,n(e),Na.default.mutateDom(()=>{e.remove()})})}function qc(n){let e=[];document.querySelectorAll("[x-persist]").forEach(t=>{let r=Xo[t.getAttribute("x-persist")];r&&(e.push(t.getAttribute("x-persist")),r._x_wasPersisted=!0,n(r,t),Na.default.mutateDom(()=>{t.replaceWith(r)}))}),Object.entries(Xo).forEach(([t,r])=>{e.includes(t)||Na.default.destroyTree(r)}),Xo={}}var ni=dt(Pp());ni.default.configure({minimum:.1});ni.default.configure({trickleSpeed:200});jg();var Pa=!1;function Pg(){Pa=!0,setTimeout(()=>{Pa&&ni.default.start()},150)}function Dg(){Pa=!1,ni.default.done(),ni.default.remove()}function jg(){let n=document.createElement("style");n.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px #29d, 0 0 5px #29d;
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `,document.head.appendChild(n)}var ga=[],ld=["data-csrf"];function zc(n,e){let t=new DOMParser().parseFromString(n,"text/html"),r=document.adoptNode(t.body),o=document.adoptNode(t.head);ga=ga.concat(Array.from(document.body.querySelectorAll("script")).map(s=>hd(fd(s.outerHTML,ld)))),Hg(o),Fg(r,ga);let i=document.body;document.body.replaceWith(r),Alpine.destroyTree(i),e()}function Fg(n,e){n.querySelectorAll("script").forEach(t=>{if(t.hasAttribute("data-navigate-once")){let r=hd(fd(t.outerHTML,ld));if(e.includes(r))return}t.replaceWith(cd(t))})}function Hg(n){let e=Array.from(document.head.children),t=e.map(o=>o.outerHTML),r=document.createDocumentFragment();for(let o of Array.from(n.children))Xc(o)&&(t.includes(o.outerHTML)?r.appendChild(o):(ud(o)&&Ug(o,e)&&setTimeout(()=>window.location.reload()),dd(o)?document.head.appendChild(cd(o)):document.head.appendChild(o)));for(let o of Array.from(document.head.children))Xc(o)||o.remove();for(let o of Array.from(n.children))document.head.appendChild(o)}function cd(n){let e=document.createElement("script");e.textContent=n.textContent,e.async=n.async;for(let t of n.attributes)e.setAttribute(t.name,t.value);return e}function ud(n){return n.hasAttribute("data-navigate-track")}function Ug(n,e){let[t,r]=Yc(n);return e.some(o=>{if(!ud(o))return!1;let[i,s]=Yc(o);if(i===t&&r!==s)return!0})}function Yc(n){return(dd(n)?n.src:n.href).split("?")}function Xc(n){return n.tagName.toLowerCase()==="link"&&n.getAttribute("rel").toLowerCase()==="stylesheet"||n.tagName.toLowerCase()==="style"||n.tagName.toLowerCase()==="script"}function dd(n){return n.tagName.toLowerCase()==="script"}function hd(n){return n.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e),0)}function fd(n,e){let t=n;return e.forEach(r=>{const o=new RegExp(`${r}="[^"]*"|${r}='[^']*'`,"g");t=t.replace(o,"")}),t.trim()}function $g(n,e){let t=n.pathname+n.search;fetch(t).then(r=>r.text()).then(r=>{e(r)})}dt(It());var ma=!0;function Wg(n){n.navigate=t=>{e(ad(t))},n.navigate.disableProgressBar=()=>{ma=!1},n.addInitSelector(()=>`[${n.prefixed("navigate")}]`),n.directive("navigate",(t,{value:r,expression:o,modifiers:i},{evaluateLater:s,cleanup:l})=>{i.includes("hover")&&Ng(t,60,()=>{let u=Dc(t);Nc(u,f=>{Pc(f,u)})}),Rg(t,u=>{let f=Dc(t);Nc(f,h=>{Pc(h,f)}),u(()=>{e(f)})})});function e(t){ma&&Pg(),qg(t,r=>{Ri("alpine:navigating"),Uc(),ma&&Dg(),Tg(),Kc(n,o=>{Wc(i=>{jc(i)}),zc(r,()=>{Fc(document.body),qc((i,s)=>{Hc(i)}),$c(),Ri("alpine:navigated"),Bg(r,t),o(()=>{Vc(n)})})})})}Og(t=>{Uc(),Kc(n,r=>{Wc(o=>{jc(o)}),zc(t,()=>{Fc(document.body),qc((o,i)=>{Hc(o)}),$c(),Ri("alpine:navigated"),r(()=>{Vc(n)})})})}),setTimeout(()=>{Ri("alpine:navigated")})}function qg(n,e){Ig(n,e,()=>{$g(n,e)})}function Kc(n,e){n.stopObservingMutations(),e(t=>{n.startObservingMutations(),setTimeout(()=>{t()})})}function Ri(n){document.dispatchEvent(new CustomEvent(n,{bubbles:!0}))}function Vc(n){n.initTree(document.body,void 0,(e,t)=>{e._x_wasPersisted&&t()})}function zg(n){n.magic("queryString",(e,{interceptor:t})=>{let r,o=!1,i=!1;return t((s,l,c,u,f)=>{let h=r||u,{initial:p,replace:E,push:g,pop:y}=Da(h,s,o);return c(p),i?(n.effect(()=>g(l())),y(async C=>{c(C),await(()=>Promise.resolve())()})):n.effect(()=>E(l())),p},s=>{s.alwaysShow=()=>(o=!0,s),s.usePush=()=>(i=!0,s),s.as=l=>(r=l,s)})}),n.history={track:Da}}function Da(n,e,t=!1){let{has:r,get:o,set:i,remove:s}=Xg(),l=new URL(window.location.href),c=r(l,n),u=c?o(l,n):e,f=JSON.stringify(u),h=g=>JSON.stringify(g)===f;t&&(l=i(l,n,u)),Gc(l,n,{value:u});let p=!1,E=(g,y)=>{if(p)return;let C=new URL(window.location.href);!t&&!c&&h(y)?C=s(C,n):C=i(C,n,y),g(C,n,{value:y})};return{initial:u,replace(g){E(Gc,g)},push(g){E(Yg,g)},pop(g){let y=C=>{!C.state||!C.state.alpine||Object.entries(C.state.alpine).forEach(([L,{value:S}])=>{if(L!==n)return;p=!0;let m=g(S);m instanceof Promise?m.finally(()=>p=!1):p=!1})};return window.addEventListener("popstate",y),()=>window.removeEventListener("popstate",y)}}}function Gc(n,e,t){let r=window.history.state||{};r.alpine||(r.alpine={}),r.alpine[e]=pd(t),window.history.replaceState(r,"",n.toString())}function Yg(n,e,t){let r=window.history.state||{};r.alpine||(r.alpine={}),r={alpine:{...r.alpine,[e]:pd(t)}},window.history.pushState(r,"",n.toString())}function pd(n){return JSON.parse(JSON.stringify(n))}function Xg(){return{has(n,e){let t=n.search;if(!t)return!1;let r=Ni(t);return Object.keys(r).includes(e)},get(n,e){let t=n.search;return t?Ni(t)[e]:!1},set(n,e,t){let r=Ni(n.search);return r[e]=t,n.search=Jc(r),n},remove(n,e){let t=Ni(n.search);return delete t[e],n.search=Jc(t),n}}}function Jc(n){let e=o=>typeof o=="object"&&o!==null,t=(o,i={},s="")=>(Object.entries(o).forEach(([l,c])=>{let u=s===""?l:`${s}[${l}]`;e(c)?i={...i,...t(c,i,u)}:i[u]=encodeURIComponent(c).replaceAll("%20","+").replaceAll("%2C",",")}),i),r=t(n);return Object.entries(r).map(([o,i])=>`${o}=${i}`).join("&")}function Ni(n){if(n=n.replace("?",""),n==="")return{};let e=(o,i,s)=>{let[l,c,...u]=o.split(".");if(!c)return s[o]=i;s[l]===void 0&&(s[l]=isNaN(c)?{}:[]),e([c,...u].join("."),i,s[l])},t=n.split("&").map(o=>o.split("=")),r={};return t.forEach(([o,i])=>{if(i)if(i=decodeURIComponent(i.replaceAll("+","%20")),!o.includes("["))r[o]=i;else{let s=o.replaceAll("[",".").replaceAll("]","");e(s,i,r)}}),r}var Kg=dt(Dp()),Vg=dt(jp()),zt=dt(It());function Gg(){da(document,"livewire:init"),da(document,"livewire:initializing"),zt.default.plugin(Kg.default),zt.default.plugin(zg),zt.default.plugin(_g.default),zt.default.plugin(xg.default),zt.default.plugin(Cg.default),zt.default.plugin(Eg.default),zt.default.plugin(Sg.default),zt.default.plugin(Wg),zt.default.plugin(Vg.default),zt.default.addRootSelector(()=>"[wire\\:id]"),zt.default.onAttributesAdded((n,e)=>{let t=ir(n,!1);t&&e.forEach(r=>{if(!Ia(r.name))return;let o=Ra(n,r.name);Ht("directive.init",{el:n,component:t,directive:o,cleanup:i=>{zt.default.onAttributeRemoved(n,o.raw,i)}})})}),zt.default.interceptInit(zt.default.skipDuringClone(n=>{if(n.hasAttribute("wire:id")){let t=lg(n);zt.default.onAttributeRemoved(n,"wire:id",()=>{cg(t.id)})}let e=ir(n,!1);e&&(Ht("element.init",{el:n,component:e}),Array.from(n.getAttributeNames()).filter(r=>Ia(r)).map(r=>Ra(n,r)).forEach(r=>{Ht("directive.init",{el:n,component:e,directive:r,cleanup:o=>{zt.default.onAttributeRemoved(n,r.raw,o)}})}))})),zt.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),da(document,"livewire:initialized")}function Jg(){}function Zg(){}var gd=dt(It());bt("commit.prepare",({component:n})=>{n.children.forEach(e=>{Qg(e)&&e.$wire.$commit()})});function Qg(n){return!!n.snapshot.memo.bindings}var em=dt(It()),lo={};bt("element.init",({el:n,component:e})=>{hs(n).missing("submit")||n.addEventListener("submit",()=>{lo[e.id]=[],em.default.walk(e.el,(r,o)=>{if(n.contains(r)){if(r.hasAttribute("wire:ignore"))return o();r.tagName.toLowerCase()==="button"&&r.type==="submit"||r.tagName.toLowerCase()==="select"||r.tagName.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")?(r.disabled||lo[e.id].push(()=>r.disabled=!1),r.disabled=!0):(r.tagName.toLowerCase()==="input"||r.tagName.toLowerCase()==="textarea")&&(r.readOnly||lo[e.id].push(()=>r.readOnly=!1),r.readOnly=!0)}})})});bt("commit",({component:n,respond:e})=>{e(()=>{tm(n)})});function tm(n){if(lo[n.id])for(;lo[n.id].length>0;)lo[n.id].shift()()}var nm=dt(It());bt("effects",(n,e)=>{let t=e.assets;t&&Object.entries(t).forEach(([r,o])=>{im(r,()=>{sm(o)})})});bt("effects",(n,e)=>{let t=e.scripts;t&&Object.entries(t).forEach(([r,o])=>{rm(n,r,()=>{let i=om(o);nm.default.evaluate(n.el,i,{$wire:n.$wire})})})});var Yr=new WeakMap;function rm(n,e,t){if(Yr.has(n)&&Yr.get(n).includes(e))return;t(),Yr.has(n)||Yr.set(n,[]);let r=Yr.get(n);r.push(e),Yr.set(n,r)}function om(n){let t=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.exec(n);return t&&t[1]?t[1].trim():""}var Zc=new Set;function im(n,e){Zc.has(n)||(e(),Zc.add(n))}function sm(n){let e=new DOMParser().parseFromString(n,"text/html"),t=document.adoptNode(e.head);for(let r of t.children)am(r)?document.head.appendChild(lm(r)):document.head.appendChild(r)}function am(n){return n.tagName.toLowerCase()==="script"}function lm(n){let e=document.createElement("script");e.textContent=n.textContent,e.async=n.async;for(let t of n.attributes)e.setAttribute(t.name,t.value);return e}bt("commit",({component:n,succeed:e})=>{e(({effects:t})=>{let r=t.download;if(!r)return;let o=window.webkitURL||window.URL,i=o.createObjectURL(cm(r.content,r.contentType)),s=document.createElement("a");s.style.display="none",s.href=i,s.download=r.name,document.body.appendChild(s),s.click(),setTimeout(function(){o.revokeObjectURL(i)},0)})});function cm(n,e="",t=512){const r=atob(n),o=[];e===null&&(e="");for(let i=0;i<r.length;i+=t){let s=r.slice(i,i+t),l=new Array(s.length);for(let u=0;u<s.length;u++)l[u]=s.charCodeAt(u);let c=new Uint8Array(l);o.push(c)}return new Blob(o,{type:e})}var Qc=dt(It());bt("effects",(n,e)=>{let t=e.js,r=e.xjs;t&&Object.entries(t).forEach(([o,i])=>{sg(n,o,()=>{Qc.default.evaluate(n.el,i)})}),r&&r.forEach(o=>{Qc.default.evaluate(n.el,o)})});var eu=dt(It());bt("component.init",({component:n,cleanup:e})=>{let r=n.effects.url;r&&Object.entries(r).forEach(([o,i])=>{let{name:s,as:l,use:c,alwaysShow:u,except:f}=um(o,i);l||(l=s);let h=[!1,null,void 0].includes(f)?Hn(n.ephemeral,s):f,{initial:p,replace:E,push:g,pop:y}=Da(l,h,u);if(c==="replace"){let C=eu.default.effect(()=>{E(Hn(n.reactive,s))});e(()=>eu.default.release(C))}else if(c==="push"){let C=bt("commit",({component:S,succeed:m})=>{let k=Hn(S.canonical,s);m(()=>{let x=Hn(S.canonical,s);JSON.stringify(k)!==JSON.stringify(x)&&g(x)})}),L=y(async S=>{await n.$wire.set(s,S),document.querySelectorAll("input").forEach(m=>{m._x_forceModelUpdate&&m._x_forceModelUpdate(m._x_model.get())})});e(()=>{C(),L()})}})});function um(n,e){let t={use:"replace",alwaysShow:!1};return typeof e=="string"?{...t,name:e,as:e}:{...{...t,name:n,as:n},...e}}bt("request",({options:n})=>{window.Echo&&(n.headers["X-Socket-ID"]=window.Echo.socketId())});bt("effects",(n,e)=>{(e.listeners||[]).forEach(r=>{if(r.startsWith("echo")){if(typeof window.Echo>"u"){console.warn("Laravel Echo cannot be found");return}let o=r.split(/(echo:|echo-)|:|,/);o[1]=="echo:"&&o.splice(2,0,"channel",void 0),o[2]=="notification"&&o.push(void 0,void 0);let[i,s,l,c,u,f,h]=o;["channel","private","encryptedPrivate"].includes(l)?window.Echo[l](u).listen(h,p=>{oo(n,r,[p])}):l=="presence"?["here","joining","leaving"].includes(h)?window.Echo.join(u)[h](p=>{oo(n,r,[p])}):window.Echo.join(u).listen(h,p=>{oo(n,r,[p])}):l=="notification"?window.Echo.private(u).notification(p=>{oo(n,r,[p])}):console.warn("Echo channel type not yet supported")}})});hm()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigated",n=>{document.dispatchEvent(new CustomEvent("livewire:navigated",{bubbles:!0}))});document.addEventListener("alpine:navigating",n=>{document.dispatchEvent(new CustomEvent("livewire:navigating",{bubbles:!0}))});function dm(n,e,t){n.redirectUsingNavigate?Alpine.navigate(e):t()}function hm(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}bt("effects",(n,e)=>{if(!e.redirect)return;let t=e.redirect;dm(e,t,()=>{window.location.href=t})});var fm=dt(It());function pm(n,e,t){let r=e.parentElement?e.parentElement.tagName.toLowerCase():"div",o=document.createElement(r);o.innerHTML=t;let i;try{i=ir(e.parentElement)}catch{}i&&(o.__livewire=i);let s=o.firstElementChild;s.__livewire=n,Ht("morph",{el:e,toEl:s,component:n}),fm.default.morph(e,s,{updating:(l,c,u,f)=>{if(!Xr(l)){if(Ht("morph.updating",{el:l,toEl:c,component:n,skip:f,childrenOnly:u}),l.__livewire_ignore===!0||(l.__livewire_ignore_self===!0&&u(),tu(l)&&l.getAttribute("wire:id")!==n.id))return f();tu(l)&&(c.__livewire=n)}},updated:(l,c)=>{Xr(l)||Ht("morph.updated",{el:l,component:n})},removing:(l,c)=>{Xr(l)||Ht("morph.removing",{el:l,component:n,skip:c})},removed:l=>{Xr(l)||Ht("morph.removed",{el:l,component:n})},adding:l=>{Ht("morph.adding",{el:l,component:n})},added:l=>{Xr(l)||(ir(l).id,Ht("morph.added",{el:l}))},key:l=>{if(!Xr(l))return l.hasAttribute("wire:key")?l.getAttribute("wire:key"):l.hasAttribute("wire:id")?l.getAttribute("wire:id"):l.id},lookahead:!1})}function Xr(n){return typeof n.hasAttribute!="function"}function tu(n){return n.hasAttribute("wire:id")}bt("effects",(n,e)=>{let t=e.html;t&&queueMicrotask(()=>{pm(n,n.el,t)})});bt("commit.prepare",({component:n})=>{md(n,e=>{e.snapshot.memo.props&&e.$wire.$commit()})});function md(n,e){n.children.forEach(t=>{e(t),md(t,e)})}var nu=dt(It());bt("morph.added",({el:n})=>{n.__addedByMorph=!0});Cn("transition",({el:n,directive:e,component:t,cleanup:r})=>{let o=nu.default.reactive({state:!n.__addedByMorph});nu.default.bind(n,{[e.rawName.replace("wire:","x-")]:"","x-show"(){return o.state}}),n.__addedByMorph&&setTimeout(()=>o.state=!0);let i=[];i.push(bt("morph.removing",({el:s,skip:l})=>{l(),s.addEventListener("transitionend",()=>{s.remove()}),o.state=!1,i.push(bt("morph",({component:c})=>{c===t&&(s.remove(),i.forEach(u=>u()))}))})),r(()=>i.forEach(s=>s()))});var gm=new zu;function mm(n,e){gm.each(n,t=>{t.callback(),t.callback=()=>{}}),e()}var ru=dt(It());bt("directive.init",({el:n,directive:e,cleanup:t,component:r})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(e.value))return;let o=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(o=o+".prevent");let i=ru.default.bind(n,{[o](s){let l=()=>{mm(r,()=>{ru.default.evaluate(n,"$wire."+e.expression,{scope:{$event:s}})})};n.__livewire_confirm?n.__livewire_confirm(()=>{l()}):l()}});t(i)});var io=dt(It());io.default.addInitSelector(()=>"[wire\\:navigate]");io.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");io.default.interceptInit(io.default.skipDuringClone(n=>{n.hasAttribute("wire:navigate")?io.default.bind(n,{"x-navigate":!0}):n.hasAttribute("wire:navigate.hover")&&io.default.bind(n,{"x-navigate.hover":!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(n=>{n.inscribeSnapshotAndEffectsOnElement()})});Cn("confirm",({el:n,directive:e})=>{let t=e.expression,r=e.modifiers.includes("prompt");t=t.replaceAll("\\n",`
`),t===""&&(t="Are you sure?"),n.__livewire_confirm=o=>{if(r){let[i,s]=t.split("|");s?prompt(i)===s&&o():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(t)&&o()}});function _r(n,e,t,r=null){if(t=e.modifiers.includes("remove")?!t:t,e.modifiers.includes("class")){let o=e.expression.split(" ");t?n.classList.add(...o):n.classList.remove(...o)}else if(e.modifiers.includes("attr"))t?n.setAttribute(e.expression,!0):n.removeAttribute(e.expression);else{let o=r??window.getComputedStyle(n,null).getPropertyValue("display"),i=["inline","block","table","flex","grid","inline-flex"].filter(s=>e.modifiers.includes(s))[0]||"inline-block";i=e.modifiers.includes("remove")?o:i,n.style.display=t?i:"none"}}var ja=new Set,Fa=new Set;window.addEventListener("offline",()=>ja.forEach(n=>n()));window.addEventListener("online",()=>Fa.forEach(n=>n()));Cn("offline",({el:n,directive:e,cleanup:t})=>{let r=()=>_r(n,e,!0),o=()=>_r(n,e,!1);ja.add(r),Fa.add(o),t(()=>{ja.delete(r),Fa.delete(o)})});Cn("loading",({el:n,directive:e,component:t})=>{let r=km(n),[o,i]=vm(e);bm(t,r,[()=>o(()=>_r(n,e,!0)),()=>i(()=>_r(n,e,!1))]),ym(t,r,[()=>o(()=>_r(n,e,!0)),()=>i(()=>_r(n,e,!1))])});function vm(n){if(!n.modifiers.includes("delay")||n.modifiers.includes("none"))return[i=>i(),i=>i()];let e=200,t={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(t).some(i=>{if(n.modifiers.includes(i))return e=t[i],!0});let r,o=!1;return[i=>{r=setTimeout(()=>{i(),o=!0},e)},async i=>{o?(await i(),o=!1):clearTimeout(r)}]}function bm(n,e,[t,r]){bt("commit",({component:o,commit:i,respond:s})=>{o===n&&(e.length>0&&!wm(i,e)||(t(),s(()=>{r()})))})}function ym(n,e,[t,r]){let o=i=>{let{id:s,property:l}=i.detail;return s!==n.id||e.length>0&&!e.map(c=>c.target).includes(l)};window.addEventListener("livewire-upload-start",i=>{o(i)||t()}),window.addEventListener("livewire-upload-finish",i=>{o(i)||r()}),window.addEventListener("livewire-upload-error",i=>{o(i)||r()})}function wm(n,e){let{updates:t,calls:r}=n;return e.some(({target:o,params:i})=>{if(i)return r.some(({method:l,params:c})=>o===l&&i===vd(JSON.stringify(c)));if(Object.keys(t).some(l=>l.startsWith(o))||r.map(l=>l.method).includes(o))return!0})}function km(n){let e=hs(n),t=[];if(e.has("target")){let r=e.get("target"),o=r.expression;o.includes("(")&&o.includes(")")?t.push({target:r.method,params:vd(JSON.stringify(r.params))}):o.includes(",")?o.split(",").map(i=>i.trim()).forEach(i=>{t.push({target:i})}):t.push({target:o})}else{let r=["init","dirty","offline","target","loading","poll","ignore","key","id"];e.all().filter(o=>!r.includes(o.value)).map(o=>o.expression.split("(")[0]).forEach(o=>t.push({target:o}))}return t}function vd(n){return btoa(encodeURIComponent(n))}Cn("stream",({el:n,directive:e,component:t,cleanup:r})=>{let{expression:o,modifiers:i}=e,s=bt("stream",({name:l,content:c,replace:u})=>{l===o&&(i.includes("replace")||u?n.innerHTML=c:n.innerHTML=n.innerHTML+c)});r(s)});bt("request",({respond:n})=>{n(e=>{let t=e.response;t.headers.has("X-Livewire-Stream")&&(e.response={ok:!0,redirected:!1,status:200,async text(){let r=await xm(t,o=>{Ht("stream",o)});return Ku(r)&&(this.ok=!1),r}})})});async function xm(n,e){let t=n.body.getReader(),r="";for(;;){let{done:o,value:i}=await t.read(),l=new TextDecoder().decode(i),[c,u]=Em(r+l);if(c.forEach(f=>{e(f)}),r=u,o)return r}}function Em(n){let e=/({"stream":true.*?"endStream":true})/g,t=n.match(e),r=[];if(t)for(let i=0;i<t.length;i++)r.push(JSON.parse(t[i]).body);let o=n.replace(e,"");return[r,o]}Cn("ignore",({el:n,directive:e})=>{e.modifiers.includes("self")?n.__livewire_ignore_self=!0:n.__livewire_ignore=!0});var bd=new zu;bt("commit",({component:n,respond:e})=>{e(()=>{setTimeout(()=>{bd.each(n,t=>t(!1))})})});Cn("dirty",({el:n,directive:e,component:t})=>{let r=Sm(n);Alpine.reactive({state:!1});let o=!1,i=n.style.display,s=l=>{_r(n,e,l,i),o=l};bd.add(t,s),Alpine.effect(()=>{let l=!1;if(r.length===0)l=JSON.stringify(t.canonical)!==JSON.stringify(t.reactive);else for(let c=0;c<r.length&&!l;c++){let u=r[c];l=JSON.stringify(Hn(t.canonical,u))!==JSON.stringify(Hn(t.reactive,u))}o!==l&&s(l),o=l})});function Sm(n){let e=hs(n),t=[];return e.has("model")&&t.push(e.get("model").expression),e.has("target")&&(t=t.concat(e.get("target").expression.split(",").map(r=>r.trim()))),t}var _m=dt(It());Cn("model",({el:n,directive:e,component:t,cleanup:r})=>{let{expression:o,modifiers:i}=e;if(!o)return console.warn("Livewire: [wire:model] is missing a value.",n);if(yd(t,o))return console.warn('Livewire: [wire:model="'+o+'"] property does not exist on component: ['+t.name+"]",n);if(n.type&&n.type.toLowerCase()==="file")return Zp(n,o,t,r);let s=i.includes("live"),l=i.includes("lazy")||i.includes("change"),c=i.includes("blur"),u=i.includes("debounce"),f=o.startsWith("$parent")?()=>t.$wire.$parent.$commit():()=>t.$wire.$commit(),h=Tm(n)&&!u&&s?Om(f,150):f;_m.default.bind(n,{"@change"(){l&&f()},"@blur"(){c&&f()},["x-model"+Cm(i)](){return{get(){return Hn(t.$wire,o)},set(p){cs(t.$wire,o,p),s&&!l&&!c&&h()}}}})});function Cm(n){return n=n.filter(e=>!["lazy","defer"].includes(e)),n.length===0?"":"."+n.join(".")}function Tm(n){return["INPUT","TEXTAREA"].includes(n.tagName.toUpperCase())&&!["checkbox","radio"].includes(n.type)}function yd(n,e){if(e.startsWith("$parent")){let r=ir(n.el.parentElement,!1);return r?yd(r,e.split("$parent.")[1]):!0}let t=e.split(".")[0];return!Object.keys(n.canonical).includes(t)}function Om(n,e){var t;return function(){var r=this,o=arguments,i=function(){t=null,n.apply(r,o)};clearTimeout(t),t=setTimeout(i,e)}}var Bm=dt(It());Cn("init",({el:n,directive:e})=>{let t=e.expression??"$refresh";Bm.default.evaluate(n,`$wire.${t}`)});var Am=dt(It());Cn("poll",({el:n,directive:e,component:t})=>{let r=Um(e.modifiers,2e3),{start:o,pauseWhile:i,throttleWhile:s,stopWhen:l}=Mm(()=>{Lm(n,e)},r);o(),s(()=>Nm()&&Dm(e)),i(()=>jm(e)&&Fm(n)),i(()=>Pm(n)),i(()=>Rm()),l(()=>Hm(n))});function Lm(n,e){Am.default.evaluate(n,e.expression?"$wire."+e.expression:"$wire.$commit()")}function Mm(n,e=2e3){let t=[],r=[],o=[];return{start(){let i=Im(e,()=>{if(o.some(s=>s()))return i();t.some(s=>s())||r.some(s=>s())&&Math.random()<.95||n()})},pauseWhile(i){t.push(i)},throttleWhile(i){r.push(i)},stopWhen(i){o.push(i)}}}var wr=[];function Im(n,e){if(!wr[n]){let t={timer:setInterval(()=>t.callbacks.forEach(r=>r()),n),callbacks:new Set};wr[n]=t}return wr[n].callbacks.add(e),()=>{wr[n].callbacks.delete(e),wr[n].callbacks.size===0&&(clearInterval(wr[n].timer),delete wr[n])}}var dl=!1;window.addEventListener("offline",()=>dl=!0);window.addEventListener("online",()=>dl=!1);function Rm(){return dl}var wd=!1;document.addEventListener("visibilitychange",()=>{wd=document.hidden},!1);function Nm(){return wd}function Pm(n){return!hs(n).has("poll")}function Dm(n){return!n.modifiers.includes("keep-alive")}function jm(n){return n.modifiers.includes("visible")}function Fm(n){let e=n.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function Hm(n){return n.isConnected===!1}function Um(n,e){let t,r=n.find(i=>i.match(/([0-9]+)ms/)),o=n.find(i=>i.match(/([0-9]+)s/));return r?t=Number(r.replace("ms","")):o&&(t=Number(o.replace("s",""))*1e3),t||e}var hl={directive:Cn,dispatchTo:cl,start:Gg,stop:Jg,rescan:Zg,first:fg,find:hg,getByName:dg,all:pg,hook:bt,trigger:Ht,dispatch:vg,on:yg};window.Livewire&&console.warn("Detected multiple instances of Livewire running");window.Alpine&&console.warn("Detected multiple instances of Alpine running");window.Livewire=hl;window.Alpine=gd.default;window.livewireScriptConfig===void 0&&document.addEventListener("DOMContentLoaded",()=>{hl.start()});var $m=gd.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*//**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ou(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Pn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ou(Object(t),!0).forEach(function(r){Wm(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ou(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qi(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qi=function(e){return typeof e}:qi=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(n)}function Wm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qn(){return qn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qn.apply(this,arguments)}function qm(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function zm(n,e){if(n==null)return{};var t=qm(n,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var Ym="1.15.0";function $n(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Kn=$n(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),oi=$n(/Edge/i),iu=$n(/firefox/i),Ko=$n(/safari/i)&&!$n(/chrome/i)&&!$n(/android/i),kd=$n(/iP(ad|od|hone)/i),xd=$n(/chrome/i)&&$n(/android/i),Ed={capture:!1,passive:!1};function lt(n,e,t){n.addEventListener(e,t,!Kn&&Ed)}function ot(n,e,t){n.removeEventListener(e,t,!Kn&&Ed)}function Zi(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Xm(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function In(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Zi(n,e):Zi(n,e))||r&&n===t)return n;if(n===t)break}while(n=Xm(n))}return null}var su=/\s+/g;function hn(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(su," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(su," ")}}function De(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function co(n,e){var t="";if(typeof n=="string")t=n;else do{var r=De(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function Sd(n,e,t){if(n){var r=n.getElementsByTagName(e),o=0,i=r.length;if(t)for(;o<i;o++)t(r[o],o);return r}return[]}function Nn(){var n=document.scrollingElement;return n||document.documentElement}function Nt(n,e,t,r,o){if(!(!n.getBoundingClientRect&&n!==window)){var i,s,l,c,u,f,h;if(n!==window&&n.parentNode&&n!==Nn()?(i=n.getBoundingClientRect(),s=i.top,l=i.left,c=i.bottom,u=i.right,f=i.height,h=i.width):(s=0,l=0,c=window.innerHeight,u=window.innerWidth,f=window.innerHeight,h=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!Kn))do if(o&&o.getBoundingClientRect&&(De(o,"transform")!=="none"||t&&De(o,"position")!=="static")){var p=o.getBoundingClientRect();s-=p.top+parseInt(De(o,"border-top-width")),l-=p.left+parseInt(De(o,"border-left-width")),c=s+i.height,u=l+i.width;break}while(o=o.parentNode);if(r&&n!==window){var E=co(o||n),g=E&&E.a,y=E&&E.d;E&&(s/=y,l/=g,h/=g,f/=y,c=s+f,u=l+h)}return{top:s,left:l,bottom:c,right:u,width:h,height:f}}}function au(n,e,t){for(var r=rr(n,!0),o=Nt(n)[e];r;){var i=Nt(r)[t],s=void 0;if(t==="top"||t==="left"?s=o>=i:s=o<=i,!s)return r;if(r===Nn())break;r=rr(r,!1)}return!1}function fo(n,e,t,r){for(var o=0,i=0,s=n.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==je.ghost&&(r||s[i]!==je.dragged)&&In(s[i],t.draggable,n,!1)){if(o===e)return s[i];o++}i++}return null}function fl(n,e){for(var t=n.lastElementChild;t&&(t===je.ghost||De(t,"display")==="none"||e&&!Zi(t,e));)t=t.previousElementSibling;return t||null}function mn(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==je.clone&&(!e||Zi(n,e))&&t++;return t}function lu(n){var e=0,t=0,r=Nn();if(n)do{var o=co(n),i=o.a,s=o.d;e+=n.scrollLeft*i,t+=n.scrollTop*s}while(n!==r&&(n=n.parentNode));return[e,t]}function Km(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function rr(n,e){if(!n||!n.getBoundingClientRect)return Nn();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=De(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Nn();if(r||e)return t;r=!0}}while(t=t.parentNode);return Nn()}function Vm(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function va(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Vo;function _d(n,e){return function(){if(!Vo){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),Vo=setTimeout(function(){Vo=void 0},e)}}}function Gm(){clearTimeout(Vo),Vo=void 0}function Cd(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Td(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var gn="Sortable"+new Date().getTime();function Jm(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(De(o,"display")==="none"||o===je.ghost)){n.push({target:o,rect:Nt(o)});var i=Pn({},n[n.length-1].rect);if(o.thisAnimationDuration){var s=co(o,!0);s&&(i.top-=s.f,i.left-=s.e)}o.fromRect=i}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(Km(n,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var i=!1,s=0;n.forEach(function(l){var c=0,u=l.target,f=u.fromRect,h=Nt(u),p=u.prevFromRect,E=u.prevToRect,g=l.rect,y=co(u,!0);y&&(h.top-=y.f,h.left-=y.e),u.toRect=h,u.thisAnimationDuration&&va(p,h)&&!va(f,h)&&(g.top-h.top)/(g.left-h.left)===(f.top-h.top)/(f.left-h.left)&&(c=Qm(g,p,E,o.options)),va(h,f)||(u.prevFromRect=f,u.prevToRect=h,c||(c=o.options.animation),o.animate(u,g,h,c)),c&&(i=!0,s=Math.max(s,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),i?e=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),n=[]},animate:function(r,o,i,s){if(s){De(r,"transition",""),De(r,"transform","");var l=co(this.el),c=l&&l.a,u=l&&l.d,f=(o.left-i.left)/(c||1),h=(o.top-i.top)/(u||1);r.animatingX=!!f,r.animatingY=!!h,De(r,"transform","translate3d("+f+"px,"+h+"px,0)"),this.forRepaintDummy=Zm(r),De(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),De(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){De(r,"transition",""),De(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function Zm(n){return n.offsetWidth}function Qm(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var Kr=[],ba={initializeByDefault:!0},ii={mount:function(e){for(var t in ba)ba.hasOwnProperty(t)&&!(t in e)&&(e[t]=ba[t]);Kr.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Kr.push(e)},pluginEvent:function(e,t,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=e+"Global";Kr.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][i]&&t[s.pluginName][i](Pn({sortable:t},r)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](Pn({sortable:t},r)))})},initializePlugins:function(e,t,r,o){Kr.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[c]=u,qn(r,u.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var s=this.modifyOption(e,i,e.options[i]);typeof s<"u"&&(e.options[i]=s)}},getEventProperties:function(e,t){var r={};return Kr.forEach(function(o){typeof o.eventProperties=="function"&&qn(r,o.eventProperties.call(t[o.pluginName],e))}),r},modifyOption:function(e,t,r){var o;return Kr.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]=="function"&&(o=i.optionListeners[t].call(e[i.pluginName],r))}),o}};function ev(n){var e=n.sortable,t=n.rootEl,r=n.name,o=n.targetEl,i=n.cloneEl,s=n.toEl,l=n.fromEl,c=n.oldIndex,u=n.newIndex,f=n.oldDraggableIndex,h=n.newDraggableIndex,p=n.originalEvent,E=n.putSortable,g=n.extraEventProperties;if(e=e||t&&t[gn],!!e){var y,C=e.options,L="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Kn&&!oi?y=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(r,!0,!0)),y.to=s||t,y.from=l||t,y.item=o||t,y.clone=i,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=f,y.newDraggableIndex=h,y.originalEvent=p,y.pullMode=E?E.lastPutMode:void 0;var S=Pn(Pn({},g),ii.getEventProperties(r,e));for(var m in S)y[m]=S[m];t&&t.dispatchEvent(y),C[L]&&C[L].call(e,y)}}var tv=["evt"],rn=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=zm(r,tv);ii.pluginEvent.bind(je)(e,t,Pn({dragEl:ae,parentEl:Tt,ghostEl:Ye,rootEl:xt,nextEl:Er,lastDownEl:zi,cloneEl:St,cloneHidden:nr,dragStarted:$o,putSortable:Xt,activeSortable:je.active,originalEvent:o,oldIndex:so,oldDraggableIndex:Go,newIndex:fn,newDraggableIndex:tr,hideGhostForTarget:Ld,unhideGhostForTarget:Md,cloneNowHidden:function(){nr=!0},cloneNowShown:function(){nr=!1},dispatchSortableEvent:function(l){Qt({sortable:t,name:l,originalEvent:o})}},i))};function Qt(n){ev(Pn({putSortable:Xt,cloneEl:St,targetEl:ae,rootEl:xt,oldIndex:so,oldDraggableIndex:Go,newIndex:fn,newDraggableIndex:tr},n))}var ae,Tt,Ye,xt,Er,zi,St,nr,so,fn,Go,tr,Pi,Xt,Zr=!1,Qi=!1,es=[],kr,xn,ya,wa,cu,uu,$o,Vr,Jo,Zo=!1,Di=!1,Yi,Gt,ka=[],Ha=!1,ts=[],fs=typeof document<"u",ji=kd,du=oi||Kn?"cssFloat":"float",nv=fs&&!xd&&!kd&&"draggable"in document.createElement("div"),Od=function(){if(fs){if(Kn)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Bd=function(e,t){var r=De(e),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=fo(e,0,t),s=fo(e,1,t),l=i&&De(i),c=s&&De(s),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Nt(i).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Nt(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===h)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&r[du]==="none"||s&&r[du]==="none"&&u+f>o)?"vertical":"horizontal"},rv=function(e,t,r){var o=r?e.left:e.top,i=r?e.right:e.bottom,s=r?e.width:e.height,l=r?t.left:t.top,c=r?t.right:t.bottom,u=r?t.width:t.height;return o===l||i===c||o+s/2===l+u/2},ov=function(e,t){var r;return es.some(function(o){var i=o[gn].options.emptyInsertThreshold;if(!(!i||fl(o))){var s=Nt(o),l=e>=s.left-i&&e<=s.right+i,c=t>=s.top-i&&t<=s.bottom+i;if(l&&c)return r=o}}),r},Ad=function(e){function t(i,s){return function(l,c,u,f){var h=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(i==null&&(s||h))return!0;if(i==null||i===!1)return!1;if(s&&i==="clone")return i;if(typeof i=="function")return t(i(l,c,u,f),s)(l,c,u,f);var p=(s?l:c).options.group.name;return i===!0||typeof i=="string"&&i===p||i.join&&i.indexOf(p)>-1}}var r={},o=e.group;(!o||qi(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=t(o.pull,!0),r.checkPut=t(o.put),r.revertClone=o.revertClone,e.group=r},Ld=function(){!Od&&Ye&&De(Ye,"display","none")},Md=function(){!Od&&Ye&&De(Ye,"display","")};fs&&!xd&&document.addEventListener("click",function(n){if(Qi)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Qi=!1,!1},!0);var xr=function(e){if(ae){e=e.touches?e.touches[0]:e;var t=ov(e.clientX,e.clientY);if(t){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[gn]._onDragOver(r)}}},iv=function(e){ae&&ae.parentNode[gn]._isOutsideThisEl(e.target)};function je(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=qn({},e),n[gn]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Bd(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:je.supportPointer!==!1&&"PointerEvent"in window&&!Ko,emptyInsertThreshold:5};ii.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);Ad(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:nv,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?lt(n,"pointerdown",this._onTapStart):(lt(n,"mousedown",this._onTapStart),lt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(lt(n,"dragover",this),lt(n,"dragenter",this)),es.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qn(this,Jm())}je.prototype={constructor:je,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Vr=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,ae):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,o=this.options,i=o.preventOnFilter,s=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=o.filter;if(fv(r),!ae&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ko&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=In(c,o.draggable,r,!1),!(c&&c.animated)&&zi!==c)){if(so=mn(c),Go=mn(c,o.draggable),typeof f=="function"){if(f.call(this,e,c,this)){Qt({sortable:t,rootEl:u,name:"filter",targetEl:c,toEl:r,fromEl:r}),rn("filter",t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(h){if(h=In(u,h.trim(),r,!1),h)return Qt({sortable:t,rootEl:h,name:"filter",targetEl:c,fromEl:r,toEl:r}),rn("filter",t,{evt:e}),!0}),f)){i&&e.cancelable&&e.preventDefault();return}o.handle&&!In(u,o.handle,r,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,t,r){var o=this,i=o.el,s=o.options,l=i.ownerDocument,c;if(r&&!ae&&r.parentNode===i){var u=Nt(r);if(xt=i,ae=r,Tt=ae.parentNode,Er=ae.nextSibling,zi=r,Pi=s.group,je.dragged=ae,kr={target:ae,clientX:(t||e).clientX,clientY:(t||e).clientY},cu=kr.clientX-u.left,uu=kr.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ae.style["will-change"]="all",c=function(){if(rn("delayEnded",o,{evt:e}),je.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!iu&&o.nativeDraggable&&(ae.draggable=!0),o._triggerDragStart(e,t),Qt({sortable:o,name:"choose",originalEvent:e}),hn(ae,s.chosenClass,!0)},s.ignore.split(",").forEach(function(f){Sd(ae,f.trim(),xa)}),lt(l,"dragover",xr),lt(l,"mousemove",xr),lt(l,"touchmove",xr),lt(l,"mouseup",o._onDrop),lt(l,"touchend",o._onDrop),lt(l,"touchcancel",o._onDrop),iu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ae.draggable=!0),rn("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(oi||Kn))){if(je.eventCanceled){this._onDrop();return}lt(l,"mouseup",o._disableDelayedDrag),lt(l,"touchend",o._disableDelayedDrag),lt(l,"touchcancel",o._disableDelayedDrag),lt(l,"mousemove",o._delayedDragTouchMoveHandler),lt(l,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&lt(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ae&&xa(ae),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ot(e,"mouseup",this._disableDelayedDrag),ot(e,"touchend",this._disableDelayedDrag),ot(e,"touchcancel",this._disableDelayedDrag),ot(e,"mousemove",this._delayedDragTouchMoveHandler),ot(e,"touchmove",this._delayedDragTouchMoveHandler),ot(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?lt(document,"pointermove",this._onTouchMove):t?lt(document,"touchmove",this._onTouchMove):lt(document,"mousemove",this._onTouchMove):(lt(ae,"dragend",this),lt(xt,"dragstart",this._onDragStart));try{document.selection?Xi(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Zr=!1,xt&&ae){rn("dragStarted",this,{evt:t}),this.nativeDraggable&&lt(document,"dragover",iv);var r=this.options;!e&&hn(ae,r.dragClass,!1),hn(ae,r.ghostClass,!0),je.active=this,e&&this._appendGhost(),Qt({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(xn){this._lastX=xn.clientX,this._lastY=xn.clientY,Ld();for(var e=document.elementFromPoint(xn.clientX,xn.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(xn.clientX,xn.clientY),e!==t);)t=e;if(ae.parentNode[gn]._isOutsideThisEl(e),t)do{if(t[gn]){var r=void 0;if(r=t[gn]._onDragOver({clientX:xn.clientX,clientY:xn.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Md()}},_onTouchMove:function(e){if(kr){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,s=Ye&&co(Ye,!0),l=Ye&&s&&s.a,c=Ye&&s&&s.d,u=ji&&Gt&&lu(Gt),f=(i.clientX-kr.clientX+o.x)/(l||1)+(u?u[0]-ka[0]:0)/(l||1),h=(i.clientY-kr.clientY+o.y)/(c||1)+(u?u[1]-ka[1]:0)/(c||1);if(!je.active&&!Zr){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Ye){s?(s.e+=f-(ya||0),s.f+=h-(wa||0)):s={a:1,b:0,c:0,d:1,e:f,f:h};var p="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");De(Ye,"webkitTransform",p),De(Ye,"mozTransform",p),De(Ye,"msTransform",p),De(Ye,"transform",p),ya=f,wa=h,xn=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ye){var e=this.options.fallbackOnBody?document.body:xt,t=Nt(ae,!0,ji,!0,e),r=this.options;if(ji){for(Gt=e;De(Gt,"position")==="static"&&De(Gt,"transform")==="none"&&Gt!==document;)Gt=Gt.parentNode;Gt!==document.body&&Gt!==document.documentElement?(Gt===document&&(Gt=Nn()),t.top+=Gt.scrollTop,t.left+=Gt.scrollLeft):Gt=Nn(),ka=lu(Gt)}Ye=ae.cloneNode(!0),hn(Ye,r.ghostClass,!1),hn(Ye,r.fallbackClass,!0),hn(Ye,r.dragClass,!0),De(Ye,"transition",""),De(Ye,"transform",""),De(Ye,"box-sizing","border-box"),De(Ye,"margin",0),De(Ye,"top",t.top),De(Ye,"left",t.left),De(Ye,"width",t.width),De(Ye,"height",t.height),De(Ye,"opacity","0.8"),De(Ye,"position",ji?"absolute":"fixed"),De(Ye,"zIndex","100000"),De(Ye,"pointerEvents","none"),je.ghost=Ye,e.appendChild(Ye),De(Ye,"transform-origin",cu/parseInt(Ye.style.width)*100+"% "+uu/parseInt(Ye.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,i=r.options;if(rn("dragStart",this,{evt:e}),je.eventCanceled){this._onDrop();return}rn("setupClone",this),je.eventCanceled||(St=Td(ae),St.removeAttribute("id"),St.draggable=!1,St.style["will-change"]="",this._hideClone(),hn(St,this.options.chosenClass,!1),je.clone=St),r.cloneId=Xi(function(){rn("clone",r),!je.eventCanceled&&(r.options.removeCloneOnHide||xt.insertBefore(St,ae),r._hideClone(),Qt({sortable:r,name:"clone"}))}),!t&&hn(ae,i.dragClass,!0),t?(Qi=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ot(document,"mouseup",r._onDrop),ot(document,"touchend",r._onDrop),ot(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,ae)),lt(document,"drop",r),De(ae,"transform","translateZ(0)")),Zr=!0,r._dragStartId=Xi(r._dragStarted.bind(r,t,e)),lt(document,"selectstart",r),$o=!0,Ko&&De(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,o,i,s,l=this.options,c=l.group,u=je.active,f=Pi===c,h=l.sort,p=Xt||u,E,g=this,y=!1;if(Ha)return;function C(J,le){rn(J,g,Pn({evt:e,isOwner:f,axis:E?"vertical":"horizontal",revert:s,dragRect:o,targetRect:i,canSort:h,fromSortable:p,target:r,completed:S,onMove:function(me,he){return Fi(xt,t,ae,o,me,Nt(me),e,he)},changed:m},le))}function L(){C("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function S(J){return C("dragOverCompleted",{insertion:J}),J&&(f?u._hideClone():u._showClone(g),g!==p&&(hn(ae,Xt?Xt.options.ghostClass:u.options.ghostClass,!1),hn(ae,l.ghostClass,!0)),Xt!==g&&g!==je.active?Xt=g:g===je.active&&Xt&&(Xt=null),p===g&&(g._ignoreWhileAnimating=r),g.animateAll(function(){C("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===ae&&!ae.animated||r===t&&!r.animated)&&(Vr=null),!l.dragoverBubble&&!e.rootEl&&r!==document&&(ae.parentNode[gn]._isOutsideThisEl(e.target),!J&&xr(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function m(){fn=mn(ae),tr=mn(ae,l.draggable),Qt({sortable:g,name:"change",toEl:t,newIndex:fn,newDraggableIndex:tr,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=In(r,l.draggable,t,!0),C("dragOver"),je.eventCanceled)return y;if(ae.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return S(!1);if(Qi=!1,u&&!l.disabled&&(f?h||(s=Tt!==xt):Xt===this||(this.lastPutMode=Pi.checkPull(this,u,ae,e))&&c.checkPut(this,u,ae,e))){if(E=this._getDirection(e,r)==="vertical",o=Nt(ae),C("dragOverValid"),je.eventCanceled)return y;if(s)return Tt=xt,L(),this._hideClone(),C("revert"),je.eventCanceled||(Er?xt.insertBefore(ae,Er):xt.appendChild(ae)),S(!0);var k=fl(t,l.draggable);if(!k||cv(e,E,this)&&!k.animated){if(k===ae)return S(!1);if(k&&t===e.target&&(r=k),r&&(i=Nt(r)),Fi(xt,t,ae,o,r,i,e,!!r)!==!1)return L(),k&&k.nextSibling?t.insertBefore(ae,k.nextSibling):t.appendChild(ae),Tt=t,m(),S(!0)}else if(k&&lv(e,E,this)){var x=fo(t,0,l,!0);if(x===ae)return S(!1);if(r=x,i=Nt(r),Fi(xt,t,ae,o,r,i,e,!1)!==!1)return L(),t.insertBefore(ae,x),Tt=t,m(),S(!0)}else if(r.parentNode===t){i=Nt(r);var A=0,O,b=ae.parentNode!==t,v=!rv(ae.animated&&ae.toRect||o,r.animated&&r.toRect||i,E),B=E?"top":"left",_=au(r,"top","top")||au(ae,"top","top"),R=_?_.scrollTop:void 0;Vr!==r&&(O=i[B],Zo=!1,Di=!v&&l.invertSwap||b),A=uv(e,r,i,E,v?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Di,Vr===r);var D;if(A!==0){var z=mn(ae);do z-=A,D=Tt.children[z];while(D&&(De(D,"display")==="none"||D===Ye))}if(A===0||D===r)return S(!1);Vr=r,Jo=A;var N=r.nextElementSibling,U=!1;U=A===1;var ee=Fi(xt,t,ae,o,r,i,e,U);if(ee!==!1)return(ee===1||ee===-1)&&(U=ee===1),Ha=!0,setTimeout(av,30),L(),U&&!N?t.appendChild(ae):r.parentNode.insertBefore(ae,U?N:r),_&&Cd(_,0,R-_.scrollTop),Tt=ae.parentNode,O!==void 0&&!Di&&(Yi=Math.abs(O-Nt(r)[B])),m(),S(!0)}if(t.contains(ae))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ot(document,"mousemove",this._onTouchMove),ot(document,"touchmove",this._onTouchMove),ot(document,"pointermove",this._onTouchMove),ot(document,"dragover",xr),ot(document,"mousemove",xr),ot(document,"touchmove",xr)},_offUpEvents:function(){var e=this.el.ownerDocument;ot(e,"mouseup",this._onDrop),ot(e,"touchend",this._onDrop),ot(e,"pointerup",this._onDrop),ot(e,"touchcancel",this._onDrop),ot(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(fn=mn(ae),tr=mn(ae,r.draggable),rn("drop",this,{evt:e}),Tt=ae&&ae.parentNode,fn=mn(ae),tr=mn(ae,r.draggable),je.eventCanceled){this._nulling();return}Zr=!1,Di=!1,Zo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ua(this.cloneId),Ua(this._dragStartId),this.nativeDraggable&&(ot(document,"drop",this),ot(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ko&&De(document.body,"user-select",""),De(ae,"transform",""),e&&($o&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),(xt===Tt||Xt&&Xt.lastPutMode!=="clone")&&St&&St.parentNode&&St.parentNode.removeChild(St),ae&&(this.nativeDraggable&&ot(ae,"dragend",this),xa(ae),ae.style["will-change"]="",$o&&!Zr&&hn(ae,Xt?Xt.options.ghostClass:this.options.ghostClass,!1),hn(ae,this.options.chosenClass,!1),Qt({sortable:this,name:"unchoose",toEl:Tt,newIndex:null,newDraggableIndex:null,originalEvent:e}),xt!==Tt?(fn>=0&&(Qt({rootEl:Tt,name:"add",toEl:Tt,fromEl:xt,originalEvent:e}),Qt({sortable:this,name:"remove",toEl:Tt,originalEvent:e}),Qt({rootEl:Tt,name:"sort",toEl:Tt,fromEl:xt,originalEvent:e}),Qt({sortable:this,name:"sort",toEl:Tt,originalEvent:e})),Xt&&Xt.save()):fn!==so&&fn>=0&&(Qt({sortable:this,name:"update",toEl:Tt,originalEvent:e}),Qt({sortable:this,name:"sort",toEl:Tt,originalEvent:e})),je.active&&((fn==null||fn===-1)&&(fn=so,tr=Go),Qt({sortable:this,name:"end",toEl:Tt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){rn("nulling",this),xt=ae=Tt=Ye=Er=St=zi=nr=kr=xn=$o=fn=tr=so=Go=Vr=Jo=Xt=Pi=je.dragged=je.ghost=je.clone=je.active=null,ts.forEach(function(e){e.checked=!0}),ts.length=ya=wa=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ae&&(this._onDragOver(e),sv(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,o=0,i=r.length,s=this.options;o<i;o++)t=r[o],In(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||hv(t));return e},sort:function(e,t){var r={},o=this.el;this.toArray().forEach(function(i,s){var l=o.children[s];In(l,this.options.draggable,o,!1)&&(r[i]=l)},this),t&&this.captureAnimationState(),e.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return In(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var o=ii.modifyOption(this,e,t);typeof o<"u"?r[e]=o:r[e]=t,e==="group"&&Ad(r)},destroy:function(){rn("destroy",this);var e=this.el;e[gn]=null,ot(e,"mousedown",this._onTapStart),ot(e,"touchstart",this._onTapStart),ot(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ot(e,"dragover",this),ot(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),es.splice(es.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!nr){if(rn("hideClone",this),je.eventCanceled)return;De(St,"display","none"),this.options.removeCloneOnHide&&St.parentNode&&St.parentNode.removeChild(St),nr=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(nr){if(rn("showClone",this),je.eventCanceled)return;ae.parentNode==xt&&!this.options.group.revertClone?xt.insertBefore(St,ae):Er?xt.insertBefore(St,Er):xt.appendChild(St),this.options.group.revertClone&&this.animate(ae,St),De(St,"display",""),nr=!1}}};function sv(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Fi(n,e,t,r,o,i,s,l){var c,u=n[gn],f=u.options.onMove,h;return window.CustomEvent&&!Kn&&!oi?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=r,c.related=o||e,c.relatedRect=i||Nt(e),c.willInsertAfter=l,c.originalEvent=s,n.dispatchEvent(c),f&&(h=f.call(u,c,s)),h}function xa(n){n.draggable=!1}function av(){Ha=!1}function lv(n,e,t){var r=Nt(fo(t.el,0,t.options,!0)),o=10;return e?n.clientX<r.left-o||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-o||n.clientY<r.bottom&&n.clientX<r.left}function cv(n,e,t){var r=Nt(fl(t.el,t.options.draggable)),o=10;return e?n.clientX>r.right+o||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+o}function uv(n,e,t,r,o,i,s,l){var c=r?n.clientY:n.clientX,u=r?t.height:t.width,f=r?t.top:t.left,h=r?t.bottom:t.right,p=!1;if(!s){if(l&&Yi<u*o){if(!Zo&&(Jo===1?c>f+u*i/2:c<h-u*i/2)&&(Zo=!0),Zo)p=!0;else if(Jo===1?c<f+Yi:c>h-Yi)return-Jo}else if(c>f+u*(1-o)/2&&c<h-u*(1-o)/2)return dv(e)}return p=p||s,p&&(c<f+u*i/2||c>h-u*i/2)?c>f+u/2?1:-1:0}function dv(n){return mn(ae)<mn(n)?1:-1}function hv(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function fv(n){ts.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&ts.push(r)}}function Xi(n){return setTimeout(n,0)}function Ua(n){return clearTimeout(n)}fs&&lt(document,"touchmove",function(n){(je.active||Zr)&&n.cancelable&&n.preventDefault()});je.utils={on:lt,off:ot,css:De,find:Sd,is:function(e,t){return!!In(e,t,e,!1)},extend:Vm,throttle:_d,closest:In,toggleClass:hn,clone:Td,index:mn,nextTick:Xi,cancelNextTick:Ua,detectDirection:Bd,getChild:fo};je.get=function(n){return n[gn]};je.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(je.utils=Pn(Pn({},je.utils),r.utils)),ii.mount(r)})};je.create=function(n,e){return new je(n,e)};je.version=Ym;var Lt=[],Wo,$a,Wa=!1,Ea,Sa,ns,qo;function pv(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?lt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?lt(document,"touchmove",this._handleFallbackAutoScroll):lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ot(document,"dragover",this._handleAutoScroll):(ot(document,"pointermove",this._handleFallbackAutoScroll),ot(document,"touchmove",this._handleFallbackAutoScroll),ot(document,"mousemove",this._handleFallbackAutoScroll)),hu(),Ki(),Gm()},nulling:function(){ns=$a=Wo=Wa=qo=Ea=Sa=null,Lt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var o=this,i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(i,s);if(ns=t,r||this.options.forceAutoScrollFallback||oi||Kn||Ko){_a(t,this.options,l,r);var c=rr(l,!0);Wa&&(!qo||i!==Ea||s!==Sa)&&(qo&&hu(),qo=setInterval(function(){var u=rr(document.elementFromPoint(i,s),!0);u!==c&&(c=u,Ki()),_a(t,o.options,u,r)},10),Ea=i,Sa=s)}else{if(!this.options.bubbleScroll||rr(l,!0)===Nn()){Ki();return}_a(t,this.options,rr(l,!1),!1)}}},qn(n,{pluginName:"scroll",initializeByDefault:!0})}function Ki(){Lt.forEach(function(n){clearInterval(n.pid)}),Lt=[]}function hu(){clearInterval(qo)}var _a=_d(function(n,e,t,r){if(e.scroll){var o=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=Nn(),u=!1,f;$a!==t&&($a=t,Ki(),Wo=e.scroll,f=e.scrollFn,Wo===!0&&(Wo=rr(t,!0)));var h=0,p=Wo;do{var E=p,g=Nt(E),y=g.top,C=g.bottom,L=g.left,S=g.right,m=g.width,k=g.height,x=void 0,A=void 0,O=E.scrollWidth,b=E.scrollHeight,v=De(E),B=E.scrollLeft,_=E.scrollTop;E===c?(x=m<O&&(v.overflowX==="auto"||v.overflowX==="scroll"||v.overflowX==="visible"),A=k<b&&(v.overflowY==="auto"||v.overflowY==="scroll"||v.overflowY==="visible")):(x=m<O&&(v.overflowX==="auto"||v.overflowX==="scroll"),A=k<b&&(v.overflowY==="auto"||v.overflowY==="scroll"));var R=x&&(Math.abs(S-o)<=s&&B+m<O)-(Math.abs(L-o)<=s&&!!B),D=A&&(Math.abs(C-i)<=s&&_+k<b)-(Math.abs(y-i)<=s&&!!_);if(!Lt[h])for(var z=0;z<=h;z++)Lt[z]||(Lt[z]={});(Lt[h].vx!=R||Lt[h].vy!=D||Lt[h].el!==E)&&(Lt[h].el=E,Lt[h].vx=R,Lt[h].vy=D,clearInterval(Lt[h].pid),(R!=0||D!=0)&&(u=!0,Lt[h].pid=setInterval((function(){r&&this.layer===0&&je.active._onTouchMove(ns);var N=Lt[this.layer].vy?Lt[this.layer].vy*l:0,U=Lt[this.layer].vx?Lt[this.layer].vx*l:0;typeof f=="function"&&f.call(je.dragged.parentNode[gn],U,N,n,ns,Lt[this.layer].el)!=="continue"||Cd(Lt[this.layer].el,U,N)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==c&&(p=rr(p,!1)));Wa=u}},30),Id=function(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,i=e.activeSortable,s=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(t){var u=r||i;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(f.clientX,f.clientY);c(),u&&!u.el.contains(h)&&(s("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function pl(){}pl.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=fo(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:Id};qn(pl,{pluginName:"revertOnSpill"});function gl(){}gl.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,o=r||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Id};qn(gl,{pluginName:"removeOnSpill"});je.mount(new pv);je.mount(gl,pl);var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ca(){}Object.assign(Ca,{default:Ca,register:Ca,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const e=(this.document||this.ownerDocument).querySelectorAll(n);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){const e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{const r=t instanceof Node;e.appendChild(r?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;const e=this.parentNode,t=window.getComputedStyle(e,null),r=parseInt(t.getPropertyValue("border-top-width")),o=parseInt(t.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,l=this.offsetLeft-e.offsetLeft<e.scrollLeft,c=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,u=i&&!s;(i||s)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(l||c)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||l||c)&&!n&&this.scrollIntoView(u)});window.requestIdleCallback=window.requestIdleCallback||function(n){const e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};let mv=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var Rd=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(Rd||{});const Fe={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},vv={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function si(n,e,t="log",r,o="color: inherit"){if(!("console"in window)||!window.console[t])return;const i=["info","log","warn","error"].includes(t),s=[];switch(si.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!i||n)return;break}r&&s.push(r);const l="Editor.js 2.28.2",c=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;n&&(i?(s.unshift(c,o),e=`%c${l}%c ${e}`):e=`( ${l} )${e}`);try{i?r?console[t](`${e} %o`,...s):console[t](e,...s):console[t](e)}catch{}}si.logLevel="VERBOSE";function bv(n){si.logLevel=n}const ct=si.bind(window,!1),En=si.bind(window,!0);function Tr(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function vt(n){return Tr(n)==="function"||Tr(n)==="asyncfunction"}function Kt(n){return Tr(n)==="object"}function sr(n){return Tr(n)==="string"}function yv(n){return Tr(n)==="boolean"}function fu(n){return Tr(n)==="number"}function pu(n){return Tr(n)==="undefined"}function _n(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function Nd(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}async function wv(n,e=()=>{},t=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(pu(o.data)?{}:o.data)}catch{s(pu(o.data)?{}:o.data)}}return n.reduce(async(o,i)=>(await o,r(i,e,t)),Promise.resolve())}function Pd(n){return Array.prototype.slice.call(n)}function po(n,e){return function(){const t=this,r=arguments;window.setTimeout(()=>n.apply(t,r),e)}}function kv(n){return n.name.split(".").pop()}function xv(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function Ev(n,e,t){let r;return(...o)=>{const i=this,s=()=>{r=null,t||n.apply(i,o)},l=t&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),l&&n.apply(i,o)}}function qa(n,e,t=void 0){let r,o,i,s=null,l=0;t||(t={});const c=function(){l=t.leading===!1?0:Date.now(),s=null,i=n.apply(r,o),s||(r=o=null)};return function(){const u=Date.now();!l&&t.leading===!1&&(l=u);const f=e-(u-l);return r=this,o=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),l=u,i=n.apply(r,o),s||(r=o=null)):!s&&t.trailing!==!1&&(s=setTimeout(c,f)),i}}function Sv(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function go(n){return n[0].toUpperCase()+n.slice(1)}function za(n,...e){if(!e.length)return n;const t=e.shift();if(Kt(n)&&Kt(t))for(const r in t)Kt(t[r])?(n[r]||Object.assign(n,{[r]:{}}),za(n[r],t[r])):Object.assign(n,{[r]:t[r]});return za(n,...e)}function ml(n){const e=Sv();return n=n.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function _v(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function Cv(){return mv(10)}function Tv(n){window.open(n,"_blank")}function Ov(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function Ya(n,e,t){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${t} instead.`;n&&En(r,"warn")}function yo(n,e,t){const r=t.value?"value":"get",o=t[r],i=`#${e}Cache`;if(t[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&t.set){const s=t.set;t.set=function(l){delete n[i],s.apply(this,l)}}return t}const Dd=650;function Cr(){return window.matchMedia(`(max-width: ${Dd}px)`).matches}const gu=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Bv(n,e){const t=Array.isArray(n)||Kt(n),r=Array.isArray(e)||Kt(e);return t||r?JSON.stringify(n)===JSON.stringify(e):n===e}let X=class en{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,r={}){const o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(r=>e.appendChild(r)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(r=>e.prepend(r))):e.prepend(t)}static swap(e,t){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,t),o.insertBefore(t,r),o.removeChild(r)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Pd(e.querySelectorAll(en.allInputsSelector)).reduce((t,r)=>en.isNativeInput(r)||en.containsOnlyInlineElements(r)?[...t,r]:[...t,...en.getDeepestBlockElements(r)],[])}static getDeepestNode(e,t=!1){const r=t?"lastChild":"firstChild",o=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(en.isSingleTag(i)&&!en.isNativeInput(i)&&!en.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,t)}return e}static isElement(e){return fu(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return fu(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(en.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=en.isContentEditable(e);return t}static isNodeEmpty(e){let t;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?t=e.value:t=e.textContent.replace("",""),t.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const t=[e];for(;t.length>0;)if(e=t.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&t.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=en.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return en.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;sr(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const r=o=>!en.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(t.children).every(r)}static getDeepestBlockElements(e){return en.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,r)=>[...t,...en.getDeepestBlockElements(r)],[])}static getHolder(e){return sr(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=t.top+o,s=t.left+r;return{top:i,left:s,bottom:i+t.height,right:s+t.width}}};const Av={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},Lv={Text:"",Link:"",Bold:"",Italic:""},Mv={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Iv={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},jd={ui:Av,toolNames:Lv,tools:Mv,blockTunes:Iv},Qr=class{static ui(n,e){return Qr._t(n,e)}static t(n,e){return Qr._t(n,e)}static setDictionary(n){Qr.currentDictionary=n}static _t(n,e){const t=Qr.getNamespace(n);return!t||!t[e]?e:t[e]}static getNamespace(n){return n.split(".").reduce((e,t)=>!e||!Object.keys(e).length?{}:e[t],Qr.currentDictionary)}};let sn=Qr;sn.currentDictionary=jd;class Fd extends Error{}class gs{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=t(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,t){_n(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===t){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function Sr(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()}})}class vl{constructor(){this.allListeners=[]}on(e,t,r,o=!1){const i=Ov("l"),s={id:i,element:e,eventType:t,handler:r,options:o};if(!this.findOne(e,t,r))return this.allListeners.push(s),e.addEventListener(t,r,o),i}off(e,t,r,o){const i=this.findAll(e,t,r);i.forEach((s,l)=>{const c=this.allListeners.indexOf(i[l]);c>-1&&(this.allListeners.splice(c,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,r){const o=this.findAll(e,t,r);return o.length>0?o[0]:null}findAll(e,t,r){let o;const i=e?this.findByEventTarget(e):[];return e&&t&&r?o=i.filter(s=>s.eventType===t&&s.handler===r):e&&t?o=i.filter(s=>s.eventType===t):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}class et{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new vl,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===et)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}class Te{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?X.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(Te.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${Te.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let r=null;return t&&t instanceof Element&&(r=t.closest(`.${Te.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!Te.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),r.x=t.boundingLeft,r.y=t.boundingTop,r.width=t.boundingWidth,r.height=t.boundingHeight,r;if(!window.getSelection)return ct("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ct("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(r=t.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),t.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const r=document.createRange(),o=window.getSelection();return X.isNativeInput(e)?X.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(r.setStart(e,t),r.setEnd(e,t),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const t=Te.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){const e=Te.range;if(e===null)return;const t=X.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return X.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const t=X.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=Te.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let l=r;for(;l>0&&s.parentNode&&!(s.tagName===e&&(i=s,t&&s.classList&&!s.classList.contains(t)&&(i=null),i));)s=s.parentNode,l--}),i)}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),t.addRange(r)}}function Rv(n,e){const{type:t,target:r,addedNodes:o,removedNodes:i}=n;if(r===e)return!0;if(["characterData","attributes"].includes(t)){const c=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(c)}const s=Array.from(o).some(c=>e.contains(c)),l=Array.from(i).some(c=>e.contains(c));return s||l}const Xa="redactor dom changed",Hd="block changed",Ud="fake cursor is about to be toggled",$d="fake cursor have been set";function mu(n,e){return n.mergeable&&n.name===e.name}function Nv(n,e){const t=e==null?void 0:e.export;return vt(t)?t(n):sr(t)?n[t]:(t!==void 0&&ct("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Pv(n,e){const t=e==null?void 0:e.import;return vt(t)?t(n):sr(t)?{[t]:n}:(t!==void 0&&ct("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var Fn=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(Fn||{});class Rt extends gs{constructor({id:e=Cv(),data:t,tool:r,api:o,readOnly:i,tunesData:s},l){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(c=void 0)=>{const u=c===void 0,f=c instanceof InputEvent;!u&&!f&&this.detectToolRootChange(c);let h;u||f?h=!0:h=!(c.length>0&&c.every(p=>{const{addedNodes:E,removedNodes:g,target:y}=p;return[...Array.from(E),...Array.from(g),y].some(C=>X.isElement(C)?C.dataset.mutationFree==="true":!1)})),h&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=l||null,this.blockAPI=new Sr(this),this.tool=r,this.toolInstance=r.create(t,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=X.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(r=>r===e||r.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!_n(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return vt(this.toolInstance.merge)}get isEmpty(){const e=X.isEmpty(this.pluginsContent),t=!this.hasMedia;return e&&t}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(Rt.CSS.focused,e)}get focused(){return this.holder.classList.contains(Rt.CSS.focused)}set selected(e){var t,r;this.holder.classList.toggle(Rt.CSS.selected,e);const o=e===!0&&Te.isRangeInsideContainer(this.holder),i=e===!1&&Te.isFakeCursorInsideContainer(this.holder);(o||i)&&((t=this.editorEventBus)==null||t.emit(Ud,{state:e}),o?Te.addFakeCursor():Te.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit($d,{state:e}))}get selected(){return this.holder.classList.contains(Rt.CSS.selected)}set stretched(e){this.holder.classList.toggle(Rt.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Rt.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Rt.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(vt(this.toolInstance[e])){e==="appendCallback"&&ct("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(r){ct(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(vt(s.save))try{t[i]=s.save()}catch(l){ct(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",l)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:t,time:o-r})).catch(i=>{ct(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=document.createElement("div"),t=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{X.isElement(i)?e.appendChild(i):Array.isArray(i)?t.push(...i):t.push(i)}),[t,e]}updateCurrentInput(){this.currentInput=X.isNativeInput(document.activeElement)||!Te.anchorNode?document.activeElement:Te.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),vt(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>t[o]&&Bv(t[o],i)))}async exportDataAsString(){const e=await this.data;return Nv(e,this.tool.conversionConfig)}compose(){const e=X.make("div",Rt.CSS.wrapper),t=X.make("div",Rt.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,t.appendChild(this.toolRenderedElement);let o=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(vt(i.wrap))try{o=i.wrap(o)}catch(s){ct(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,r])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),X.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),X.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:r}=t;r.some(o=>Rv(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Xa,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Xa,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){const r=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}}class Dv extends et{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},r={},o,i,s,l)=>{const c=this.Editor.BlockManager.insert({id:l,tool:e,data:t,index:o,needToFocus:i,replace:s});return new Sr(c)},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new Rt({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const i=await r.update(o,t);return new Sr(i)},this.convert=(e,t,r)=>{var o,i;const{BlockManager:s,Tools:l}=this.Editor,c=s.getBlockById(e);if(!c)throw new Error(`Block with id "${e}" not found`);const u=l.blockTools.get(c.name),f=l.blockTools.get(t);if(!f)throw new Error(`Block Tool with type "${t}" not found`);const h=((o=u==null?void 0:u.conversionConfig)==null?void 0:o.export)!==void 0,p=((i=f.conversionConfig)==null?void 0:i.import)!==void 0;if(h&&p)s.convert(c,t,r);else{const E=[h?!1:go(c.name),p?!1:go(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${c.name}" to "${t}" is not possible. ${E} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,t),r.map(o=>new Sr(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(!t){En("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){En("There is no block at index `"+e+"`","warn");return}return new Sr(t)}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(En("There is no block with id `"+e+"`","warn"),null):new Sr(t)}swap(e,t){ct("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){En(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Ya(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=t)}insertNewBlock(){ct("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class jv extends et{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Fv extends et{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}}class bl extends et{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{En("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>sn.t(bl.getNamespace(e),t)})}}class Hv extends et{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class Uv extends et{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class $v extends et{get methods(){return{on:(e,t,r,o)=>this.on(e,t,r,o),off:(e,t,r,o)=>this.off(e,t,r,o),offById:e=>this.offById(e)}}on(e,t,r,o){return this.listeners.on(e,t,r,o)}off(e,t,r,o){this.listeners.off(e,t,r,o)}offById(e){this.listeners.offById(e)}}var Ka={},Wv={get exports(){return Ka},set exports(n){Ka=n}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(t,r,o){o(1),t.exports=function(){var i=o(6),s="cdx-notify--bounce-in",l=null;return{show:function(c){if(c.message){(function(){if(l)return!0;l=i.getWrapper(),document.body.appendChild(l)})();var u=null,f=c.time||8e3;switch(c.type){case"confirm":u=i.confirm(c);break;case"prompt":u=i.prompt(c);break;default:u=i.alert(c),window.setTimeout(function(){u.remove()},f)}l.appendChild(u),u.classList.add(s)}}}}()},function(t,r,o){var i=o(2);typeof i=="string"&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(t.exports=i.locals)},function(t,r,o){(t.exports=o(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,r){t.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var p=(g=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),E=h.sources.map(function(y){return"/*# sourceURL="+h.sourceRoot+y+" */"});return[f].concat(E).concat([p]).join(`
`)}var g;return[f].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},i.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},u=0;u<this.length;u++){var f=this[u][0];typeof f=="number"&&(c[f]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&c[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),i.push(h))}},i}},function(t,r,o){var i,s,l={},c=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),u=function(b){var v={};return function(B){if(typeof B=="function")return B();if(v[B]===void 0){var _=(function(R){return document.querySelector(R)}).call(this,B);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}v[B]=_}return v[B]}}(),f=null,h=0,p=[],E=o(5);function g(b,v){for(var B=0;B<b.length;B++){var _=b[B],R=l[_.id];if(R){R.refs++;for(var D=0;D<R.parts.length;D++)R.parts[D](_.parts[D]);for(;D<_.parts.length;D++)R.parts.push(k(_.parts[D],v))}else{var z=[];for(D=0;D<_.parts.length;D++)z.push(k(_.parts[D],v));l[_.id]={id:_.id,refs:1,parts:z}}}}function y(b,v){for(var B=[],_={},R=0;R<b.length;R++){var D=b[R],z=v.base?D[0]+v.base:D[0],N={css:D[1],media:D[2],sourceMap:D[3]};_[z]?_[z].parts.push(N):B.push(_[z]={id:z,parts:[N]})}return B}function C(b,v){var B=u(b.insertInto);if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var _=p[p.length-1];if(b.insertAt==="top")_?_.nextSibling?B.insertBefore(v,_.nextSibling):B.appendChild(v):B.insertBefore(v,B.firstChild),p.push(v);else if(b.insertAt==="bottom")B.appendChild(v);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=u(b.insertInto+" "+b.insertAt.before);B.insertBefore(v,R)}}function L(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var v=p.indexOf(b);v>=0&&p.splice(v,1)}function S(b){var v=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),m(v,b.attrs),C(b,v),v}function m(b,v){Object.keys(v).forEach(function(B){b.setAttribute(B,v[B])})}function k(b,v){var B,_,R,D;if(v.transform&&b.css){if(!(D=v.transform(b.css)))return function(){};b.css=D}if(v.singleton){var z=h++;B=f||(f=S(v)),_=O.bind(null,B,z,!1),R=O.bind(null,B,z,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(B=function(N){var U=document.createElement("link");return N.attrs.type===void 0&&(N.attrs.type="text/css"),N.attrs.rel="stylesheet",m(U,N.attrs),C(N,U),U}(v),_=(function(N,U,ee){var J=ee.css,le=ee.sourceMap,Ue=U.convertToAbsoluteUrls===void 0&&le;(U.convertToAbsoluteUrls||Ue)&&(J=E(J)),le&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(le))))+" */");var me=new Blob([J],{type:"text/css"}),he=N.href;N.href=URL.createObjectURL(me),he&&URL.revokeObjectURL(he)}).bind(null,B,v),R=function(){L(B),B.href&&URL.revokeObjectURL(B.href)}):(B=S(v),_=(function(N,U){var ee=U.css,J=U.media;if(J&&N.setAttribute("media",J),N.styleSheet)N.styleSheet.cssText=ee;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(ee))}}).bind(null,B),R=function(){L(B)});return _(b),function(N){if(N){if(N.css===b.css&&N.media===b.media&&N.sourceMap===b.sourceMap)return;_(b=N)}else R()}}t.exports=function(b,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=c()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var B=y(b,v);return g(B,v),function(_){for(var R=[],D=0;D<B.length;D++){var z=B[D];(N=l[z.id]).refs--,R.push(N)}for(_&&g(y(_,v),v),D=0;D<R.length;D++){var N;if((N=R[D]).refs===0){for(var U=0;U<N.parts.length;U++)N.parts[U]();delete l[N.id]}}}};var x,A=(x=[],function(b,v){return x[b]=v,x.filter(Boolean).join(`
`)});function O(b,v,B,_){var R=B?"":_.css;if(b.styleSheet)b.styleSheet.cssText=A(v,R);else{var D=document.createTextNode(R),z=b.childNodes;z[v]&&b.removeChild(z[v]),z.length?b.insertBefore(D,z[v]):b.appendChild(D)}}},function(t,r){t.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,l=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,u){var f,h=u.trim().replace(/^"(.*)"$/,function(p,E){return E}).replace(/^'(.*)'$/,function(p,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?c:(f=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(t,r,o){var i,s,l,c,u,f,h,p,E;t.exports=(i="cdx-notifies",s="cdx-notify",l="cdx-notify__cross",c="cdx-notify__button--confirm",u="cdx-notify__button--cancel",f="cdx-notify__input",h="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:E=function(g){var y=document.createElement("DIV"),C=document.createElement("DIV"),L=g.message,S=g.style;return y.classList.add(s),S&&y.classList.add(s+"--"+S),y.innerHTML=L,C.classList.add(l),C.addEventListener("click",y.remove.bind(y)),y.appendChild(C),y},confirm:function(g){var y=E(g),C=document.createElement("div"),L=document.createElement("button"),S=document.createElement("button"),m=y.querySelector("."+l),k=g.cancelHandler,x=g.okHandler;return C.classList.add(p),L.innerHTML=g.okText||"Confirm",S.innerHTML=g.cancelText||"Cancel",L.classList.add(h),S.classList.add(h),L.classList.add(c),S.classList.add(u),k&&typeof k=="function"&&(S.addEventListener("click",k),m.addEventListener("click",k)),x&&typeof x=="function"&&L.addEventListener("click",x),L.addEventListener("click",y.remove.bind(y)),S.addEventListener("click",y.remove.bind(y)),C.appendChild(L),C.appendChild(S),y.appendChild(C),y},prompt:function(g){var y=E(g),C=document.createElement("div"),L=document.createElement("button"),S=document.createElement("input"),m=y.querySelector("."+l),k=g.cancelHandler,x=g.okHandler;return C.classList.add(p),L.innerHTML=g.okText||"Ok",L.classList.add(h),L.classList.add(c),S.classList.add(f),g.placeholder&&S.setAttribute("placeholder",g.placeholder),g.default&&(S.value=g.default),g.inputType&&(S.type=g.inputType),k&&typeof k=="function"&&m.addEventListener("click",k),x&&typeof x=="function"&&L.addEventListener("click",function(){x(S.value)}),L.addEventListener("click",y.remove.bind(y)),C.appendChild(S),C.appendChild(L),y.appendChild(C),y},getWrapper:function(){var g=document.createElement("DIV");return g.classList.add(i),g}})}])})})(Wv);const qv=ps(Ka);class zv{show(e){qv.show(e)}}class Yv extends et{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new zv}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class Xv extends et{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Va={},Kv={get exports(){return Va},set exports(n){Va=n}};(function(n,e){(function(t,r){n.exports=r()})(gv,function(){function t(h){var p=h.tags,E=Object.keys(p),g=E.map(function(y){return typeof p[y]}).every(function(y){return y==="object"||y==="boolean"||y==="function"});if(!g)throw new Error("The configuration was invalid");this.config=h}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(h){return r.indexOf(h.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(h){return i.indexOf(h.nodeName)!==-1}t.prototype.clean=function(h){const p=document.implementation.createHTMLDocument(),E=p.createElement("div");return E.innerHTML=h,this._sanitize(p,E),E.innerHTML},t.prototype._sanitize=function(h,p){var E=l(h,p),g=E.firstChild();if(g)do{if(g.nodeType===Node.TEXT_NODE)if(g.data.trim()===""&&(g.previousElementSibling&&o(g.previousElementSibling)||g.nextElementSibling&&o(g.nextElementSibling))){p.removeChild(g),this._sanitize(h,p);break}else continue;if(g.nodeType===Node.COMMENT_NODE){p.removeChild(g),this._sanitize(h,p);break}var y=s(g),C;y&&(C=Array.prototype.some.call(g.childNodes,o));var L=!!p.parentNode,S=o(p)&&o(g)&&L,m=g.nodeName.toLowerCase(),k=c(this.config,m,g),x=y&&C;if(x||u(g,k)||!this.config.keepNestedBlockElements&&S){if(!(g.nodeName==="SCRIPT"||g.nodeName==="STYLE"))for(;g.childNodes.length>0;)p.insertBefore(g.childNodes[0],g);p.removeChild(g),this._sanitize(h,p);break}for(var A=0;A<g.attributes.length;A+=1){var O=g.attributes[A];f(O,k,g)&&(g.removeAttribute(O.name),A=A-1)}this._sanitize(h,g)}while(g=E.nextSibling())};function l(h,p){return h.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function c(h,p,E){return typeof h.tags[p]=="function"?h.tags[p](E):h.tags[p]}function u(h,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function f(h,p,E){var g=h.name.toLowerCase();return p===!0?!1:typeof p[g]=="function"?!p[g](h.value,E):typeof p[g]>"u"||p[g]===!1?!0:typeof p[g]=="string"?p[g]!==h.value:!1}return t})})(Kv);const Vv=Va;function Wd(n,e){return n.map(t=>{const r=vt(e)?e(t.tool):e;return _n(r)||(t.data=yl(t.data,r)),t})}function Un(n,e={}){const t={tags:e};return new Vv(t).clean(n)}function yl(n,e){return Array.isArray(n)?Gv(n,e):Kt(n)?Jv(n,e):sr(n)?Zv(n,e):n}function Gv(n,e){return n.map(t=>yl(t,e))}function Jv(n,e){const t={};for(const r in n){if(!Object.prototype.hasOwnProperty.call(n,r))continue;const o=n[r],i=Qv(e[r])?e[r]:e;t[r]=yl(o,i)}return t}function Zv(n,e){return Kt(e)?Un(n,e):e===!1?Un(n,{}):n}function Qv(n){return Kt(n)||yv(n)||vt(n)}class eb extends et{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return Un(e,t)}}class tb extends et{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(En(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class nb extends et{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return new Te().findParentTag(e,t)}expandToTag(e){new Te().expandToTag(e)}}class rb extends et{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class ob extends et{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){En("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){En("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var Ga={},ib={get exports(){return Ga},set exports(n){Ga=n}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(t,r,o){t.exports=o(1)},function(t,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(l,c,u){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const f=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},u);if(f.hidingDelay&&(this.hidingDelay=f.hidingDelay),this.nodes.content.innerHTML="",typeof c=="string")this.nodes.content.appendChild(document.createTextNode(c));else{if(!(c instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof c+" given.");this.nodes.content.appendChild(c)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),f.placement){case"top":this.placeTop(l,f);break;case"left":this.placeLeft(l,f);break;case"right":this.placeRight(l,f);break;case"bottom":default:this.placeBottom(l,f)}f&&f.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},f.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(l=!1){if(this.hidingDelay&&!l)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(l,c,u){l.addEventListener("mouseenter",()=>{this.show(l,c,u)}),l.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const l="codex-tooltips-style";if(document.getElementById(l))return;const c=o(2),u=this.make("style",null,{textContent:c.toString(),id:l});this.prepend(document.head,u)}placeBottom(l,c){const u=l.getBoundingClientRect(),f=u.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=u.bottom+window.pageYOffset+this.offsetTop+c.marginTop;this.applyPlacement("bottom",f,h)}placeTop(l,c){const u=l.getBoundingClientRect(),f=u.left+l.clientWidth/2-this.nodes.wrapper.offsetWidth/2,h=u.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",f,h)}placeLeft(l,c){const u=l.getBoundingClientRect(),f=u.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-c.marginLeft,h=u.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",f,h)}placeRight(l,c){const u=l.getBoundingClientRect(),f=u.right+this.offsetRight+c.marginRight,h=u.top+window.pageYOffset+l.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",f,h)}applyPlacement(l,c,u){this.nodes.wrapper.classList.add(this.CSS.placement[l]),this.nodes.wrapper.style.left=c+"px",this.nodes.wrapper.style.top=u+"px"}make(l,c=null,u={}){const f=document.createElement(l);Array.isArray(c)?f.classList.add(...c):c&&f.classList.add(c);for(const h in u)u.hasOwnProperty(h)&&(f[h]=u[h]);return f}append(l,c){Array.isArray(c)?c.forEach(u=>l.appendChild(u)):l.appendChild(c)}prepend(l,c){Array.isArray(c)?(c=c.reverse()).forEach(u=>l.prepend(u)):l.prepend(c)}}},function(t,r){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(ib);const sb=ps(Ga);class wl{constructor(){this.lib=new sb}destroy(){this.lib.destroy()}show(e,t,r){this.lib.show(e,t,r)}hide(e=!1){this.lib.hide(e)}onHover(e,t,r){this.lib.onHover(e,t,r)}}class ab extends et{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new wl}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,t,r)=>this.show(e,t,r),hide:()=>this.hide(),onHover:(e,t,r)=>this.onHover(e,t,r)}}show(e,t,r){this.tooltip.show(e,t,r)}hide(){this.tooltip.hide()}onHover(e,t,r){this.tooltip.onHover(e,t,r)}}class lb extends et{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function qd(n,e){const t={};return Object.entries(n).forEach(([r,o])=>{if(Kt(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>sr(s))?t[r]=i:t[r]=qd(o,i);return}t[r]=o}),t}const Sn=qd(jd);function cb(n,e){const t={};return Object.keys(n).forEach(r=>{const o=e[r];o!==void 0?t[o]=n[r]:t[r]=n[r]}),t}const ub='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',zd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',db='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',hb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',fb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',pb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',vu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',gb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',mb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',vb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',bb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',yb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';class Bt{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Bt.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Bt.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Bt.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(Bt.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Bt.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Bt.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=X.make("div",Bt.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=X.make("div",Bt.CSS.icon,{innerHTML:e.icon||fb}),t.appendChild(this.nodes.icon),t.appendChild(X.make("div",Bt.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(X.make("div",Bt.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(Bt.CSS.active),e.isDisabled&&t.classList.add(Bt.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},r=this.make(t);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(Bt.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Bt.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Bt.CSS.noHover),this.nodes.root.classList.add(Bt.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Bt.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Bt.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const zo=class{constructor(n,e){this.cursor=-1,this.items=[],this.items=n||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(n){n<this.items.length&&n>=-1&&(this.dropCursor(),this.cursor=n,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(n){this.items=n}next(){this.cursor=this.leafNodesAndReturnIndex(zo.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(zo.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(n){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=n===zo.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),n===zo.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,X.canSetCaret(this.items[e])&&po(()=>Te.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let eo=zo;eo.directions={RIGHT:"right",LEFT:"left"};class zn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(zn.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case Fe.TAB:this.handleTabPress(t);break;case Fe.LEFT:case Fe.UP:this.flipLeft();break;case Fe.RIGHT:case Fe.DOWN:this.flipRight();break;case Fe.ENTER:this.handleEnterPress(t);break}},this.iterator=new eo(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||zn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Fe.TAB,Fe.LEFT,Fe.RIGHT,Fe.ENTER,Fe.UP,Fe.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?eo.directions.LEFT:eo.directions.RIGHT){case eo.directions.RIGHT:this.flipRight();break;case eo.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),vt(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class Qo{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:r}){this.listeners=new vl,this.items=e,this.onSearch=t,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=X.make("div",Qo.CSS.wrapper);const t=X.make("div",Qo.CSS.icon,{innerHTML:vb});this.input=X.make("input",Qo.CSS.input,{placeholder:e}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t;const r=((t=e.title)==null?void 0:t.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const Yo=class{lock(){gu?this.lockHard():document.body.classList.add(Yo.CSS.scrollLocked)}unlock(){gu?this.unlockHard():document.body.classList.remove(Yo.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Yo.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Yo.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let Yd=Yo;Yd.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var wb=Object.defineProperty,kb=Object.getOwnPropertyDescriptor,xb=(n,e,t,r)=>{for(var o=r>1?void 0:r?kb(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&wb(e,t,o),o},ri=(n=>(n.Close="close",n))(ri||{});const Yt=class extends gs{constructor(n){super(),this.scopeElement=document.body,this.listeners=new vl,this.scrollLocker=new Yd,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=n.items.map(e=>new Bt(e)),n.scopeElement!==void 0&&(this.scopeElement=n.scopeElement),n.messages&&(this.messages={...this.messages,...n.messages}),n.customContentFlippableItems&&(this.customContentFlippableItems=n.customContentFlippableItems),this.make(),n.customContent&&this.addCustomContent(n.customContent),n.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Yt.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Yt.CSS.overlayHidden),this.nodes.popover.classList.add(Yt.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),Cr()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Yt.CSS.popoverOpened),this.nodes.popover.classList.remove(Yt.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Yt.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(n=>n.reset()),this.search!==void 0&&this.search.clear(),Cr()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Cr()&&this.scrollLocker.unlock()}make(){this.nodes.popover=X.make("div",[Yt.CSS.popover]),this.nodes.nothingFoundMessage=X.make("div",[Yt.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=X.make("div",[Yt.CSS.items]),this.items.forEach(n=>{this.nodes.items.appendChild(n.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",n=>{const e=this.getTargetItem(n);e!==void 0&&this.handleItemClick(e)}),this.nodes.wrapper=X.make("div"),this.nodes.overlay=X.make("div",[Yt.CSS.overlay,Yt.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Qo({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach(o=>{const i=!t.includes(o);o.toggleHidden(i)}),this.toggleNothingFoundMessage(t.length===0),this.toggleCustomContent(e!=="");const r=e===""?this.flippableElements:t.map(o=>o.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(r))}});const n=this.search.getElement();n.classList.add(Yt.CSS.search),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}addCustomContent(n){this.nodes.customContent=n,this.nodes.customContent.classList.add(Yt.CSS.customContent),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}getTargetItem(n){return this.items.find(e=>n.composedPath().includes(e.getElement()))}handleItemClick(n){n.isDisabled||(this.items.filter(e=>e!==n).forEach(e=>e.reset()),n.handleClick(),this.toggleItemActivenessIfNeeded(n),n.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new zn({items:this.flippableElements,focusedItemClass:Bt.CSS.focused,allowedKeys:[Fe.TAB,Fe.UP,Fe.DOWN,Fe.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const n=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(n)}get height(){let n=0;if(this.nodes.popover===null)return n;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Yt.CSS.popoverOpened),document.body.appendChild(e),n=e.offsetHeight,e.remove(),n}get shouldOpenBottom(){const n=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),t=this.height,r=n.top+t,o=n.top-t,i=Math.min(window.innerHeight,e.bottom);return o<e.top||r<=i}toggleNothingFoundMessage(n){this.nodes.nothingFoundMessage.classList.toggle(Yt.CSS.nothingFoundMessageDisplayed,n)}toggleCustomContent(n){var e;(e=this.nodes.customContent)==null||e.classList.toggle(Yt.CSS.customContentHidden,n)}toggleItemActivenessIfNeeded(n){if(n.toggle===!0&&n.toggleActive(),typeof n.toggle=="string"){const e=this.items.filter(t=>t.toggle===n.toggle);if(e.length===1){n.toggleActive();return}e.forEach(t=>{t.toggleActive(t===n)})}}};let kl=Yt;xb([yo],kl.prototype,"height",1);class Eb extends et{constructor(){super(...arguments),this.opened=!1,this.selection=new Te,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=X.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[t,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new kl({searchable:!0,items:t.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:sn.ui(Sn.ui.popover,"Nothing found"),search:sn.ui(Sn.ui.popover,"Filter")}}),this.popover.on(ri.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,Te.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(ri.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:t}=this.Editor,r=e.querySelectorAll(`.${t.classes.settingsButton}, ${X.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const t=cb(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}}class pn extends et{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=X.make("div",[pn.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=X.make("div",pn.CSS.conversionToolbarTools);const e=X.make("div",pn.CSS.conversionToolbarLabel,{textContent:sn.ui(Sn.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),X.append(this.nodes.wrapper,e),X.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),vt(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(pn.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(pn.CSS.conversionToolHidden))),this.flipper.focusFirst(),vt(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(pn.CSS.conversionToolbarShowed),vt(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,t){const{BlockManager:r,BlockSelection:o,InlineToolbar:i,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,e,t),o.clearSelection(),this.close(),i.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([t,r])=>{var o;const i=r.conversionConfig;!i||!i.import||(o=r.toolbox)==null||o.forEach(s=>this.addToolIfValid(t,s))})}addToolIfValid(e,t){_n(t)||!t.icon||this.addTool(e,t)}addTool(e,t){var r;const o=X.make("div",[pn.CSS.conversionTool]),i=X.make("div",[pn.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=t.icon,X.append(o,i),X.append(o,X.text(sn.t(Sn.toolNames,t.title||go(e))));const s=(r=this.Editor.Tools.blockTools.get(e))==null?void 0:r.shortcut;if(s){const l=X.make("span",pn.CSS.conversionToolSecondaryLabel,{innerText:ml(s)});X.append(o,l)}X.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:t}),this.listeners.on(o,"click",async()=>{await this.replaceWithBlock(e,t.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,t=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(t){const s=r(t,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(pn.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new zn({focusedItemClass:pn.CSS.conversionToolFocused})}}var Ja={},Sb={get exports(){return Ja},set exports(n){Ja=n}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(t,r,o){function i(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function s(c,u,f){return u&&i(c.prototype,u),f&&i(c,f),c}o.r(r);var l=function(){function c(u){var f=this;(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c),this.commands={},this.keys={},this.name=u.name,this.parseShortcutName(u.name),this.element=u.on,this.callback=u.callback,this.executeShortcut=function(h){f.execute(h)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(c,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(c,[{key:"parseShortcutName",value:function(u){u=u.split("+");for(var f=0;f<u.length;f++){u[f]=u[f].toUpperCase();var h=!1;for(var p in c.supportedCommands)if(c.supportedCommands[p].includes(u[f])){h=this.commands[p]=!0;break}h||(this.keys[u[f]]=!0)}for(var E in c.supportedCommands)this.commands[E]||(this.commands[E]=!1)}},{key:"execute",value:function(u){var f,h={CMD:u.ctrlKey||u.metaKey,SHIFT:u.shiftKey,ALT:u.altKey},p=!0;for(f in this.commands)this.commands[f]!==h[f]&&(p=!1);var E,g=!0;for(E in this.keys)g=g&&u.keyCode===c.keyCodes[E];p&&g&&this.callback(u)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),c}();r.default=l}]).default})})(Sb);const _b=ps(Ja);class Cb{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new _b({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,t])}remove(e,t){const r=this.findShortcut(e,t);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===t)}}const mo=new Cb;var Tb=Object.defineProperty,Ob=Object.getOwnPropertyDescriptor,Xd=(n,e,t,r)=>{for(var o=r>1?void 0:r?Ob(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Tb(e,t,o),o},Vi=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(Vi||{});const Kd=class extends gs{constructor({api:n,tools:e,i18nLabels:t}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=n,this.tools=e,this.i18nLabels=t}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new kl({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(ri.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(Kd.CSS.toolbox),this.nodes.toolbox}hasFocus(){var n;return(n=this.popover)==null?void 0:n.hasFocus()}destroy(){var n;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(n=this.popover)==null||n.off(ri.Close,this.onPopoverClose)}toolButtonActivated(n,e){this.insertNewBlock(n,e)}open(){var n;this.isEmpty||((n=this.popover)==null||n.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var n;(n=this.popover)==null||n.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const n=[];return this.tools.forEach(e=>{e.toolbox&&n.push(e)}),n}get toolboxItemsToBeDisplayed(){const n=(e,t)=>({icon:e.icon,title:sn.t(Sn.toolNames,e.title||go(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?ml(t.shortcut):""});return this.toolsToBeDisplayed.reduce((e,t)=>(Array.isArray(t.toolbox)?t.toolbox.forEach(r=>{e.push(n(r,t))}):t.toolbox!==void 0&&e.push(n(t.toolbox,t)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&this.enableShortcutForTool(n.name,e)})}enableShortcutForTool(n,e){mo.add({name:e,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(o)try{this.api.blocks.convert(o.id,n),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(n)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&mo.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(n,e){const t=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(t);if(!r)return;const o=r.isEmpty?t:t+1;let i;if(e){const l=await this.api.blocks.composeBlockData(n);i=Object.assign(l,e)}const s=this.api.blocks.insert(n,i,void 0,o,void 0,r.isEmpty);s.call(Fn.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let xl=Kd;Xd([yo],xl.prototype,"toolsToBeDisplayed",1);Xd([yo],xl.prototype,"toolboxItemsToBeDisplayed",1);const Vd="block hovered";class Bb extends et{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null,this.tooltip=new wl}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){ct("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){ct("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){ct("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),l=t.offsetHeight;let c;r?c=t.offsetTop+l:c=t.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(c)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(e=this.toolboxInstance)==null||e.close(),this.Editor.BlockSettings.close())}open(e=!0){po(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=X.make("div",this.CSS.toolbar),["content","actions"].forEach(t=>{this.nodes[t]=X.make("div",this.CSS[t])}),X.append(this.nodes.wrapper,this.nodes.content),X.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=X.make("div",this.CSS.plusButton,{innerHTML:mb}),X.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=X.make("div");e.appendChild(document.createTextNode(sn.ui(Sn.ui.toolbar.toolbox,"Add"))),e.appendChild(X.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=X.make("span",this.CSS.settingsToggler,{innerHTML:gb}),X.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,sn.ui(Sn.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),X.append(this.nodes.actions,this.makeToolbox()),X.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),X.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new xl({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:sn.ui(Sn.ui.popover,"Filter"),nothingFound:sn.ui(Sn.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Vi.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Vi.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Vi.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:r}=this.Editor,o=t.getBlockById(e.id);o.inputs.length===0&&(o===t.lastBlock?(t.insertAtEnd(),r.setToBlock(t.lastBlock)):r.setToBlock(t.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),Cr()||this.eventsDispatcher.on(Vd,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var ms=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(ms||{}),Gi=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(Gi||{}),Gd=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(Gd||{}),to=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(to||{}),El=(n=>(n.IsInline="isInline",n.Title="title",n))(El||{}),Jd=(n=>(n.IsTune="isTune",n))(Jd||{});class Sl{constructor({name:e,constructable:t,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:l}){this.api=o,this.name=e,this.constructable=t,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=l}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(vt(this.constructable.reset))return this.constructable.reset()}prepare(){if(vt(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class Ab extends et{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Cr()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new wl}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1,t=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(t),this.Editor.Toolbar.close()}move(){const e=Te.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,i=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,t])=>{const r=this.getToolShortcut(e);r&&mo.remove(this.Editor.UI.nodes.redactor,r),vt(t.clear)&&t.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter(r=>!r.hidden),this.flipper.activate(t)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=X.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=X.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=X.make("div",this.CSS.buttonsWrapper),this.nodes.actions=X.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),X.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),X.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),X.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],t=Te.get(),r=Te.text;if(!t||!t.anchorNode||t.isCollapsed||r.length<1)return!1;const o=X.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(t.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=X.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=X.make("div",this.CSS.conversionTogglerContent);const e=X.make("div",this.CSS.conversionTogglerArrow,{innerHTML:zd});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(t=>{!t&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Cr()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,sn.ui(Sn.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:t}=e,r=t.name,o=t.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await t.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||go(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();X.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=Te.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(t.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const t=e.create(),r=t.render();if(!r){ct("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,t),vt(t.renderActions)){const l=t.renderActions();this.nodes.actions.appendChild(l)}this.listeners.on(r,"click",l=>{this.toolClicked(t),l.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(t,o)}catch{}const i=X.make("div"),s=sn.t(Sn.toolNames,e.title||go(e.name));i.appendChild(X.text(s)),o&&i.appendChild(X.make("div",this.CSS.inlineToolbarShortcut,{textContent:ml(o)})),Cr()===!1&&this.tooltip.onHover(r,i,{placement:"top",hidingDelay:100}),t.checkState(Te.get())}getToolShortcut(e){const{Tools:t}=this.Editor,r=t.inlineTools.get(e),o=t.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Gd.Shortcut]:r.shortcut}enableShortcuts(e,t){mo.add({name:t,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const t=Te.range;e.surround(t),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(Te.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,r])=>{e[t]=r.create()}),e}enableFlipper(){this.flipper=new zn({focusedItemClass:this.CSS.focusedButton,allowedKeys:[Fe.ENTER,Fe.TAB]})}}class Lb extends et{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Fe.BACKSPACE:this.backspace(e);break;case Fe.DELETE:this.delete(e);break;case Fe.ENTER:this.enter(e);break;case Fe.DOWN:case Fe.RIGHT:this.arrowRightAndDown(e);break;case Fe.UP:case Fe.LEFT:this.arrowLeftAndUp(e);break;case Fe.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Nd(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:t,InlineToolbar:r,ConversionToolbar:o}=this.Editor,i=t.currentBlock;if(!i)return;const s=i.isEmpty,l=i.tool.isDefault&&s,c=!s&&o.opened,u=!s&&!Te.isCollapsed&&r.opened;l?this.activateToolbox():!c&&!u&&this.activateBlockSettings()}dragOver(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){const t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:r,Caret:o}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),t.clearSelection(e)})}enter(e){const{BlockManager:t,UI:r}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=t;if(!(!Te.isCollapsed||!r.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){t.removeBlock(i);return}if(o.isEmpty){t.removeBlock(o);const s=t.currentBlock;r.setToBlock(s,r.positions.END);return}mu(o,i)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:t,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=t;if(!(!Te.isCollapsed||!r.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){t.removeBlock(i);return}if(o.isEmpty){t.removeBlock(o),r.setToBlock(i,r.positions.START);return}mu(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,t){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.pluginsContent),r.mergeBlocks(e,t).then(()=>{window.requestAnimationFrame(()=>{o.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()})})}arrowRightAndDown(e){const t=zn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Fe.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Fe.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===Fe.DOWN||e.keyCode===Fe.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():po(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(zn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Fe.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const t=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Fe.UP&&t){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===Fe.UP||e.keyCode===Fe.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():po(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const t=e.keyCode===Fe.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===Fe.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===Fe.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===Fe.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===Fe.TAB;return!(e.shiftKey||s||t||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ta{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Pd(this.workingArea.children)}static set(e,t,r){return isNaN(Number(t))?(Reflect.set(e,t,r),!0):(e.insert(+t,r),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const r=this.blocks[t];X.swap(this.blocks[e].holder,r.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=r}move(e,t){const r=this.blocks.splice(t,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const l=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});r.call(Fn.MOVED,l)}insert(e,t,r=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(Fn.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,t),e>0){const i=this.blocks[e-1];this.insertToDOM(t,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(t,"beforebegin",i):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(t>0){const o=Math.min(t-1,this.length-1);this.blocks[o].holder.after(r)}else t===0&&this.workingArea.prepend(r);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(Fn.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Fn.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Fn.REMOVED)),this.blocks.length=0}insertAfter(e,t){const r=this.blocks.indexOf(e);this.insert(r+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,r){t?r.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(Fn.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const bu="block-removed",yu="block-added",Mb="block-moved",wu="block-changed";class Ib{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,r)=>{this.completed=this.completed.then(e).then(t).catch(r)})}}class Rb extends et{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new Ta(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:Ta.set,get:Ta.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),l=new Rt({id:r,data:t,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(l)},{timeout:2e3}),l}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:l={}}={}){let c=o;c===void 0&&(c=this.currentBlockIndex+(s?0:1));const u=this.composeBlock({id:e,tool:t,data:r,tunes:l});return s&&this.blockDidMutated(bu,this.getBlockByIndex(c),{index:c}),this._blocks.insert(c,u,s),this.blockDidMutated(yu,u,{index:c}),i?this.currentBlockIndex=c:c<=this.currentBlockIndex&&this.currentBlockIndex++,u}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t){const r=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,t),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(wu,o,{index:i}),o}replace(e,t,r){const o=this.getBlockIndex(e);this.insert({tool:t,data:r,index:o,replace:!0})}paste(e,t,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(Fn.ON_PASTE,t)})}catch(i){ct(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,t=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(yu,r,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){const r=await t.data;_n(r)||await e.mergeWith(r),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,t=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(bu,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,t&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=X.make("div");t.appendChild(e);const r={text:X.isEmpty(t)?"":t.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){X.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,r=e.closest(`.${Rt.CSS.wrapper}`),o=t.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){X.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Rt.CSS.wrapper}`);if(!t)return;const r=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){X.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Rt.CSS.wrapper}`);return this.blocks.find(r=>r.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){ct("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){ct("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(Mb,this.currentBlock,{fromIndex:t,toIndex:e})}async convert(e,t,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(t);if(!o)throw new Error(`Could not convert Block. Tool ${t} not found.`);const i=await e.exportDataAsString(),s=Un(i,o.sanitizeConfig);let l=Pv(s,o.conversionConfig);r&&(l=Object.assign(l,r)),this.replace(e,o.name,l)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(e=!1){const t=new Ib;this.blocks.forEach(r=>{t.add(async()=>{await this.removeBlock(r,!1)})}),await t.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{t.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{t.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{t.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{t.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(wu,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,r){const o=new CustomEvent(e,{detail:{target:new Sr(t),...r}});return this.eventsDispatcher.emit(Hd,{event:o}),t}}class Nb extends et{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Te,mo.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Te.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let r;isNaN(e)?r=t.currentBlock:r=t.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,l=s&&Nd(e.keyCode);if(this.anyBlockSelected&&s&&l&&!Te.isSelectionExists){const c=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(c,!0),o.setToBlock(r.currentBlock),po(()=>{const u=e.key;o.insertContentAtCaretPosition(u.length>1?"":u)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const t=X.make("div");this.selectedBlocks.forEach(i=>{const s=Un(i.holder.innerHTML,this.sanitizerConfig),l=X.make("p");l.innerHTML=s,t.appendChild(l)});const r=Array.from(t.childNodes).map(i=>i.textContent).join(`

`),o=t.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor;t.clearFocused();let r;isNaN(e)?r=t.currentBlock:r=t.getBlockByIndex(e),this.selection.save(),Te.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){mo.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),X.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const t=this.Editor.BlockManager.getBlock(e.target).inputs;if(t.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(t.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Te.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class rs extends et{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=Te.get(),t=X.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(X.isNativeInput(t))return t.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let i=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i]?(r=r.childNodes[i],i=0):(r=r.childNodes[i-1],i=r.textContent.length)),(X.isLineBreakTag(t)||X.isEmpty(t))&&this.getHigherLevelSiblings(r,"left").every(s=>{const l=X.isLineBreakTag(s),c=s.children.length===1&&X.isLineBreakTag(s.children[0]),u=l||c;return X.isEmpty(s)&&!u})&&i===o?!0:t===null||r===t&&i<=o}get isAtEnd(){const e=Te.get();let t=e.focusNode;const r=X.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(X.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[o-1]?(t=t.childNodes[o-1],o=t.textContent.length):(t=t.childNodes[0],o=0)),X.isLineBreakTag(r)||X.isEmpty(r)){const s=this.getHigherLevelSiblings(t,"right");if(s.every((l,c)=>c===s.length-1&&X.isLineBreakTag(l)||X.isEmpty(l)&&!X.isLineBreakTag(l))&&o===t.textContent.length)return!0}const i=r.textContent.replace(/\s+$/,"");return t===r&&o>=i.length}setToBlock(e,t=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let i;switch(t){case this.positions.START:i=e.firstInput;break;case this.positions.END:i=e.lastInput;break;default:i=e.currentInput}if(!i)return;const s=X.getDeepestNode(i,t===this.positions.END),l=X.getContentLength(s);switch(!0){case t===this.positions.START:r=0;break;case t===this.positions.END:case r>l:r=l;break}po(()=>{this.set(s,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=i}setToInput(e,t=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=X.getDeepestNode(e);switch(t){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,X.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,t=0){const{top:r,bottom:o}=Te.setCursor(e,t),{innerHeight:i}=window;r<0&&window.scrollBy(0,r),o>i&&window.scrollBy(0,o-i)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=Te.get();if(e.rangeCount){const t=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),r)if(X.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),l=o.value.substring(o.selectionStart);return i.textContent=l,o.value=s,i}else{const o=t.cloneRange();return o.selectNodeContents(r),o.setStart(t.endContainer,t.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:t,nextContentfulBlock:r}=e,{nextInput:o}=t,i=this.isAtEnd;let s=r;if(!s&&!o){if(t.tool.isDefault||!i)return!1;s=e.insertAtEnd()}return i?(o?this.setToInput(o,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:t}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!t&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(t,this.positions.END),!0):!1}createShadow(e){const t=document.createElement("span");t.classList.add(rs.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${rs.CSS.shadowCaret}`);if(!t)return;new Te().expandToTag(t);const r=document.createRange();r.selectNode(t),r.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),r=document.createElement("div"),o=Te.get(),i=Te.range;r.innerHTML=e,Array.from(r.childNodes).forEach(u=>t.appendChild(u)),t.childNodes.length===0&&t.appendChild(new Text);const s=t.lastChild;i.deleteContents(),i.insertNode(t);const l=document.createRange(),c=s.nodeType===Node.TEXT_NODE?s:s.firstChild;c!==null&&c.textContent!==null&&l.setStart(c,c.textContent.length),o.removeAllRanges(),o.addRange(l)}getHigherLevelSiblings(e,t){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=t==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class Pb extends et{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:r}=this.Editor,o=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=t.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){Te.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==vv.LEFT)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),Te.get().removeAllRanges());const o=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=t.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:r,Caret:o}=this.Editor,i=t.blocks.indexOf(this.firstSelectedBlock),s=t.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case Fe.DOWN:case Fe.RIGHT:o.setToBlock(t.blocks[Math.max(i,s)],o.positions.END);break;case Fe.UP:case Fe.LEFT:o.setToBlock(t.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(t.blocks[Math.max(i,s)],o.positions.END)}else o.setToBlock(t.blocks[Math.max(i,s)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;Te.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(t),l=e.selected!==t.selected;for(let c=Math.min(i,s);c<=Math.max(i,s);c++){const u=r.blocks[c];u!==this.firstSelectedBlock&&u!==(l?e:t)&&(r.blocks[c].selected=!r.blocks[c].selected,o.clearCache())}}}class Db extends et{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async t=>{await this.processDrop(t)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Caret:r,Paste:o}=this.Editor;e.preventDefault(),t.blocks.forEach(s=>{s.dropTarget=!1}),Te.isAtEditor&&!Te.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=t.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){Te.isAtEditor&&!Te.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class jb extends et{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(Hd,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(Ud,()=>{this.disable()}),this.eventsDispatcher.on($d,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!vt(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Xa,{mutations:e})}}const Zd=class extends et{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=n=>{try{const e=n.create({},{},!1);if(n.pasteConfig===!1){this.exceptionList.push(n.name);return}if(!vt(e.onPaste))return;this.getTagsConfig(n),this.getFilesConfig(n),this.getPatternsConfig(n)}catch(e){ct(`Paste handling for ${n.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async n=>{const{BlockManager:e,Toolbar:t}=this.Editor,r=e.setCurrentBlockByChildNode(n.target);!r||this.isNativeBehaviour(n.target)&&!n.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(n.preventDefault(),this.processDataTransfer(n.clipboardData),e.clearFocused(),t.close())}}async prepare(){this.processTools()}toggleReadOnly(n){n?this.unsetCallback():this.setCallback()}async processDataTransfer(n,e=!1){const{Tools:t}=this.Editor,r=n.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!_n(this.toolsFiles)){await this.processFiles(n.files);return}const o=n.getData(this.MIME_TYPE),i=n.getData("text/plain");let s=n.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const l=Object.keys(this.toolsTags).reduce((f,h)=>(f[h.toLowerCase()]=this.toolsTags[h].sanitizationConfig??{},f),{}),c=Object.assign({},l,t.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Un(s,c);!u.trim()||u.trim()===i||!X.isHTMLString(u)?await this.processText(i):await this.processText(u,!0)}async processText(n,e=!1){const{Caret:t,BlockManager:r}=this.Editor,o=e?this.processHTML(n):this.processPlain(n);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,l)=>this.insertBlock(s,l===0&&i)),r.currentBlock&&t.setToBlock(r.currentBlock,t.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const n=this.Editor.Tools.blockTools;Array.from(n.values()).forEach(this.processTool)}collectTagNames(n){return sr(n)?[n]:Kt(n)?Object.keys(n):[]}getTagsConfig(n){if(n.pasteConfig===!1)return;const e=n.pasteConfig.tags||[],t=[];e.forEach(r=>{const o=this.collectTagNames(r);t.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){ct(`Paste handler for ${n.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const s=Kt(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:n,sanitizationConfig:s}})}),this.tagsByTool[n.name]=t.map(r=>r.toUpperCase())}getFilesConfig(n){if(n.pasteConfig===!1)return;const{files:e={}}=n.pasteConfig;let{extensions:t,mimeTypes:r}=e;!t&&!r||(t&&!Array.isArray(t)&&(ct(`extensions property of the onDrop config for ${n.name} Tool should be an array`),t=[]),r&&!Array.isArray(r)&&(ct(`mimeTypes property of the onDrop config for ${n.name} Tool should be an array`),r=[]),r&&(r=r.filter(o=>xv(o)?!0:(ct(`MIME type value ${o} for the ${n.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[n.name]={extensions:t||[],mimeTypes:r||[]})}getPatternsConfig(n){n.pasteConfig===!1||!n.pasteConfig.patterns||_n(n.pasteConfig.patterns)||Object.entries(n.pasteConfig.patterns).forEach(([e,t])=>{t instanceof RegExp||ct(`Pattern ${t} for ${n.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:t,tool:n})})}isNativeBehaviour(n){return X.isNativeInput(n)}async processFiles(n){const{BlockManager:e}=this.Editor;let t;t=await Promise.all(Array.from(n).map(o=>this.processFile(o))),t=t.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;t.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(n){const e=kv(n),t=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[l,c]=n.type.split("/"),u=s.find(h=>h.toLowerCase()===e.toLowerCase()),f=i.find(h=>{const[p,E]=h.split("/");return p===l&&(E===c||E==="*")});return!!u||!!f});if(!t)return;const[r]=t;return{event:this.composePasteEvent("file",{file:n}),type:r}}processHTML(n){const{Tools:e}=this.Editor,t=X.make("DIV");return t.innerHTML=n,this.getNodes(t).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=X.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:l}=i.pasteConfig||{tags:[]},c=l.reduce((h,p)=>(this.collectTagNames(p).forEach(E=>{const g=Kt(p)?p[E]:null;h[E.toLowerCase()]=g||{}}),h),{}),u=Object.assign({},c,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const h=Un(o.outerHTML,u);o=X.make("div",void 0,{innerHTML:h}).firstChild}else o.innerHTML=Un(o.innerHTML,u);const f=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:f}}).filter(r=>{const o=X.isEmpty(r.content),i=X.isSingleTag(r.content);return!o||i})}processPlain(n){const{defaultBlock:e}=this.config;if(!n)return[];const t=e;return n.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=X.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:t,isBlock:!1,event:i}})}async processSingleBlock(n){const{Caret:e,BlockManager:t}=this.Editor,{currentBlock:r}=t;if(!r||n.tool!==r.name||!X.containsOnlyInlineElements(n.content.innerHTML)){this.insertBlock(n,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(n.content.innerHTML)}async processInlinePaste(n){const{BlockManager:e,Caret:t}=this.Editor,{content:r}=n;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<Zd.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);t.setToBlock(s,t.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Un(r.innerHTML,o))}else this.insertBlock(n)}async processPattern(n){const e=this.toolsPatterns.find(t=>{const r=t.pattern.exec(n);return r?n===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:n}),tool:e.tool.name}:void 0}insertBlock(n,e=!1){const{BlockManager:t,Caret:r}=this.Editor,{currentBlock:o}=t;let i;if(e&&o&&o.isEmpty){i=t.paste(n.tool,n.event,!0),r.setToBlock(i,r.positions.END);return}i=t.paste(n.tool,n.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(n){const{BlockManager:e,Caret:t,Tools:r}=this.Editor;Wd(n,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let l=!1;s===0&&(l=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const c=e.insert({tool:o,data:i,replace:l});t.setToBlock(c,t.positions.END)})}processElementNode(n,e,t){const r=Object.keys(this.toolsTags),o=n,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],l=r.includes(o.tagName),c=X.blockElements.includes(o.tagName.toLowerCase()),u=Array.from(o.children).some(({tagName:h})=>r.includes(h)&&!s.includes(h)),f=Array.from(o.children).some(({tagName:h})=>X.blockElements.includes(h.toLowerCase()));if(!c&&!l&&!u)return t.appendChild(o),[...e,t];if(l&&!u||c&&!f&&!u)return[...e,t,o]}getNodes(n){const e=Array.from(n.childNodes);let t;const r=(o,i)=>{if(X.isEmpty(i)&&!X.isSingleTag(i))return o;const s=o[o.length-1];let l=new DocumentFragment;switch(s&&X.isFragment(s)&&(l=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(t=this.processElementNode(i,o,l),t)return t;break;case Node.TEXT_NODE:return l.appendChild(i),[...o,l];default:return[...o,l]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(n,e){return new CustomEvent(n,{detail:e})}};let Qd=Zd;Qd.PATTERN_PROCESSING_MAX_LENGTH=450;class Fb extends et{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,r=[];Array.from(t.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const t=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(t===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Fd(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class ei extends et{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const r=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${Rt.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(l=>!!r.closest(l));!i||s||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",qa(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",qa(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(X.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=X.make("div",ei.CSS.overlay,{}),o=X.make("div",ei.CSS.overlayContainer,{}),i=X.make("div",ei.CSS.rect,{});return o.appendChild(i),r.appendChild(o),t.appendChild(r),this.overlayRectangle=i,{container:t,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>t&&this.mouseX>t,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),Te.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,t),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(f=>f.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Rt.CSS.content),l=Number.parseInt(window.getComputedStyle(s).width,10)/2,c=e-l,u=e+l;return{index:i,leftPos:c,rightPos:u}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(t)return;const l=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let c=s;r>1&&(c=l?o:i);const u=e>this.stackOfSelected[r-1]&&c===o,f=e<this.stackOfSelected[r-1]&&c===i,h=!(u||f||c===s);if(!h&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let g=this.stackOfSelected[r-1]+1||e;for(g;g<=e;g++)this.addBlockInSelection(g);return}if(!h&&e<this.stackOfSelected[r-1]){for(let g=this.stackOfSelected[r-1]-1;g>=e;g--)this.addBlockInSelection(g);return}if(!h)return;let p=r-1,E;for(e>this.stackOfSelected[r-1]?E=()=>e>this.stackOfSelected[p]:E=()=>e<this.stackOfSelected[p];E();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}}class Hb extends et{async render(e){return new Promise(t=>{const{Tools:r,BlockManager:o}=this.Editor,i=e.map(({type:s,data:l,tunes:c,id:u})=>{r.available.has(s)===!1&&(En(`Tool ${s} is not found. Check 'tools' property at the Editor.js config.`,"warn"),l=this.composeStubDataForTool(s,l,u),s=r.stubTool);let f;try{f=o.composeBlock({id:u,tool:s,data:l,tunes:c})}catch(h){ct(`Block ${s} skipped because of plugins error`,"error",{data:l,error:h}),l=this.composeStubDataForTool(s,l,u),s=r.stubTool,f=o.composeBlock({id:u,tool:s,data:l,tunes:c})}return f});o.insertMany(i),window.requestIdleCallback(()=>{t()},{timeout:2e3})})}composeStubDataForTool(e,t,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:t},title:i}}}class Ub extends et{async save(){const{BlockManager:e,Tools:t}=this.Editor,r=e.blocks,o=[];try{r.forEach(l=>{o.push(this.getSavedData(l))});const i=await Promise.all(o),s=await Wd(i,l=>t.blockTools.get(l).sanitizeConfig);return this.makeOutput(s)}catch(i){En("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const t=await e.save(),r=t&&await e.validate(t.data);return{...t,isValid:r}}makeOutput(e){const t=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:l})=>{if(!l){ct(`Block ${o} skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){t.push(i);return}const c={id:r,type:o,data:i,...!_n(s)&&{tunes:s}};t.push(c)}),{time:+new Date,blocks:t,version:"2.28.2"}}}var Za={},$b={get exports(){return Za},set exports(n){Za=n}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(t,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[t.i,s,""]]);var l={insert:"head",singleton:!1};i(s,l),t.exports=s.locals||{}},function(t,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},l=function(){var m={};return function(k){if(m[k]===void 0){var x=document.querySelector(k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}m[k]=x}return m[k]}}(),c=[];function u(m){for(var k=-1,x=0;x<c.length;x++)if(c[x].identifier===m){k=x;break}return k}function f(m,k){for(var x={},A=[],O=0;O<m.length;O++){var b=m[O],v=k.base?b[0]+k.base:b[0],B=x[v]||0,_="".concat(v," ").concat(B);x[v]=B+1;var R=u(_),D={css:b[1],media:b[2],sourceMap:b[3]};R!==-1?(c[R].references++,c[R].updater(D)):c.push({identifier:_,updater:S(D,k),references:1}),A.push(_)}return A}function h(m){var k=document.createElement("style"),x=m.attributes||{};if(x.nonce===void 0){var A=o.nc;A&&(x.nonce=A)}if(Object.keys(x).forEach(function(b){k.setAttribute(b,x[b])}),typeof m.insert=="function")m.insert(k);else{var O=l(m.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(k)}return k}var p,E=(p=[],function(m,k){return p[m]=k,p.filter(Boolean).join(`
`)});function g(m,k,x,A){var O=x?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(m.styleSheet)m.styleSheet.cssText=E(k,O);else{var b=document.createTextNode(O),v=m.childNodes;v[k]&&m.removeChild(v[k]),v.length?m.insertBefore(b,v[k]):m.appendChild(b)}}function y(m,k,x){var A=x.css,O=x.media,b=x.sourceMap;if(O?m.setAttribute("media",O):m.removeAttribute("media"),b&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),m.styleSheet)m.styleSheet.cssText=A;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(A))}}var C=null,L=0;function S(m,k){var x,A,O;if(k.singleton){var b=L++;x=C||(C=h(k)),A=g.bind(null,x,b,!1),O=g.bind(null,x,b,!0)}else x=h(k),A=y.bind(null,x,k),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(x)};return A(m),function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap)return;A(m=v)}else O()}}t.exports=function(m,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=s());var x=f(m=m||[],k);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var O=0;O<x.length;O++){var b=u(x[O]);c[b].references--}for(var v=f(A,k),B=0;B<x.length;B++){var _=u(x[B]);c[_].references===0&&(c[_].updater(),c.splice(_,1))}x=v}}}},function(t,r,o){(r=o(3)(!1)).push([t.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),t.exports=r},function(t,r,o){t.exports=function(i){var s=[];return s.toString=function(){return this.map(function(l){var c=function(u,f){var h=u[1]||"",p=u[3];if(!p)return h;if(f&&typeof btoa=="function"){var E=(y=p,C=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),L="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),"/*# ".concat(L," */")),g=p.sources.map(function(S){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(S," */")});return[h].concat(g).concat([E]).join(`
`)}var y,C,L;return[h].join(`
`)}(l,i);return l[2]?"@media ".concat(l[2]," {").concat(c,"}"):c}).join("")},s.i=function(l,c,u){typeof l=="string"&&(l=[[null,l,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var p=this[h][0];p!=null&&(f[p]=!0)}for(var E=0;E<l.length;E++){var g=[].concat(l[E]);u&&f[g[0]]||(c&&(g[2]?g[2]="".concat(c," and ").concat(g[2]):g[2]=c),s.push(g))}},s}},function(t,r,o){o.r(r),o.d(r,"default",function(){return l}),o(0);function i(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function s(c,u,f){return u&&i(c.prototype,u),f&&i(c,f),c}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var l=function(){function c(u){var f=u.data,h=u.config,p=u.api,E=u.readOnly;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.api=p,this.readOnly=E,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=h.placeholder?h.placeholder:c.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=h.preserveBlank!==void 0&&h.preserveBlank,this.data=f}return s(c,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(c,[{key:"onKeyUp",value:function(u){u.code!=="Backspace"&&u.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var u=document.createElement("DIV");return u.classList.add(this._CSS.wrapper,this._CSS.block),u.contentEditable=!1,u.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(u.contentEditable=!0,u.addEventListener("keyup",this.onKeyUp)),u}},{key:"render",value:function(){return this._element===null&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(u){var f={text:this.data.text+u.text};this.data=f}},{key:"validate",value:function(u){return!(u.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(u){return{text:u.innerHTML}}},{key:"onPaste",value:function(u){var f={text:u.detail.data.innerHTML};this.data=f}},{key:"hydrate",value:function(){var u=this;window.requestAnimationFrame(function(){u._element.innerHTML=u._data.text||""})}},{key:"data",get:function(){if(this._element!==null){var u=this._element.innerHTML;this._data.text=u}return this._data},set:function(u){this._data=u||{},this._element!==null&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),c}()}]).default})})($b);const Wb=ps(Za);class _l{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=ub,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}_l.isInline=!0;_l.title="Bold";class Cl{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=pb,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Cl.isInline=!0;Cl.title="Italic";class Tl{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new Te}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=vu,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const t=this.selection.findParentTag("A");if(t){this.selection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=bb,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value=t!=="null"?t:"",this.selection.save()}else this.nodes.button.innerHTML=vu,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const t=new Te;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";if(!t.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(t)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ct("Incorrect Link pasted","warn",t);return}t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!t&&!r&&!o&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Tl.isInline=!0;Tl.title="Link";class eh{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=X.make("div",this.CSS.wrapper),t=yb,r=X.make("div",this.CSS.info),o=X.make("div",this.CSS.title,{textContent:this.title}),i=X.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=t,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}eh.isReadOnlySupported=!0;class qb extends Sl{constructor(){super(...arguments),this.type=ms.Inline}get title(){return this.constructable[El.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class zb extends Sl{constructor(){super(...arguments),this.type=ms.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class Jt extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new Jt(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new Jt(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new Jt(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new Jt(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new Jt(e)}}var Yb=Object.defineProperty,Xb=Object.getOwnPropertyDescriptor,th=(n,e,t,r)=>{for(var o=r>1?void 0:r?Xb(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Yb(e,t,o),o};class Ol extends Sl{constructor(){super(...arguments),this.type=ms.Block,this.inlineTools=new Jt,this.tunes=new Jt}create(e,t,r){return new this.constructable({data:e,block:t,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[to.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[to.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[to.Toolbox],t=this.config[Gi.Toolbox];if(!_n(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[to.ConversionConfig]}get enabledInlineTools(){return this.config[Gi.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Gi.EnabledBlockTunes]}get pasteConfig(){return this.constructable[to.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(_n(e))return t;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Kt(i)?r[o]=Object.assign({},t,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}th([yo],Ol.prototype,"sanitizeConfig",1);th([yo],Ol.prototype,"baseSanitizeConfig",1);class Kb{constructor(e,t,r){this.api=r,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(t);return new i({name:e,constructable:t,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[El.IsInline]:return qb;case e[Jd.IsTune]:return zb;default:return Ol}}}class nh{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:zd,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const r=t.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}nh.isTune=!0;class rh{constructor({api:e}){this.api=e}render(){return{icon:hb,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}rh.isTune=!0;class oh{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:db,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!t||!r)throw new Error("Unable to move Block up since it is already the first");const o=t.holder,i=r.holder,s=o.getBoundingClientRect(),l=i.getBoundingClientRect();let c;l.top>0?c=Math.abs(s.top)-Math.abs(l.top):c=Math.abs(s.top)+l.height,window.scrollBy(0,-1*c),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}oh.isTune=!0;var Vb=Object.defineProperty,Gb=Object.getOwnPropertyDescriptor,Jb=(n,e,t,r)=>{for(var o=r>1?void 0:r?Gb(e,t):e,i=n.length-1,s;i>=0;i--)(s=n[i])&&(o=(r?s(e,t,o):s(o))||o);return r&&o&&Vb(e,t,o),o};class ih extends et{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Jt,this.toolsUnavailable=new Jt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=za({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new Kb(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();await wv(t,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{vt(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:_l,isInternal:!0},italic:{class:Cl,isInternal:!0},link:{class:Tl,isInternal:!0},paragraph:{class:Wb,inlineToolbar:!0,isInternal:!0},stub:{class:eh,isInternal:!0},moveUp:{class:oh,isInternal:!0},delete:{class:rh,isInternal:!0},moveDown:{class:nh,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const r=["render","surround","checkState"].filter(o=>!t.create()[o]);if(r.length){ct(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([r,o])=>{t.push({function:vt(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Jt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Jt(e.enabledInlineTools.map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const t=new Jt(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Jt([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const t=new Jt(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Jt([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!vt(t)&&!vt(t.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const t in this.config.tools)Kt(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}Jb([yo],ih.prototype,"getAllInlineToolsSanitizeConfig",1);const Zb=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class Qb extends et{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=Ev(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Rt.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return t.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof zn).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:r,ConversionToolbar:o}=this.Editor;t.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<Dd}make(){this.nodes.holder=X.getHolder(this.config.holder),this.nodes.wrapper=X.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=X.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(X.get(e))return;const t=X.make("style",null,{id:e,textContent:Zb.toString()});X.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",qa(t=>{const r=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(Vd,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case Fe.ENTER:this.enterPressed(e);break;case Fe.BACKSPACE:case Fe.DELETE:this.backspacePressed(e);break;case Fe.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||t&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:t,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!Te.isSelectionExists){const i=t.removeSelectedBlocks();o.setToBlock(t.insertDefaultBlockAtIndex(i,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:r}=this.Editor,o=t.currentBlockIndex>=0;if(r.anyBlockSelected&&!Te.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const t=e.target;this.nodes.holder.contains(t)||Te.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(t),o=this.Editor.Toolbar.nodes.settingsToggler.contains(t),i=r||o;if(this.Editor.BlockSettings.opened&&!i){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(t);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:t}=this.Editor;if(!Te.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,i=e.metaKey||e.ctrlKey;if(X.isAnchor(o)&&i){r();const u=o.getAttribute("href"),f=_v(u);Tv(f);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),l=X.offset(s.holder).bottom,c=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!t.anyBlockSelected&&l<c){r();const{BlockManager:u,Caret:f,Toolbar:h}=this.Editor;(!u.lastBlock.tool.isDefault||!u.lastBlock.isEmpty)&&u.insertAtEnd(),f.setToTheLastBlock(),h.moveAndOpen(u.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,r=Te.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&Te.get().removeAllRanges(),!r){Te.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${Rt.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const ey={BlocksAPI:Dv,CaretAPI:jv,EventsAPI:Fv,I18nAPI:bl,API:Hv,InlineToolbarAPI:Uv,ListenersAPI:$v,NotifierAPI:Yv,ReadOnlyAPI:Xv,SanitizerAPI:eb,SaverAPI:tb,SelectionAPI:nb,StylesAPI:rb,ToolbarAPI:ob,TooltipAPI:ab,UiAPI:lb,BlockSettings:Eb,ConversionToolbar:pn,Toolbar:Bb,InlineToolbar:Ab,BlockEvents:Lb,BlockManager:Rb,BlockSelection:Nb,Caret:rs,CrossBlockSelection:Pb,DragNDrop:Db,ModificationsObserver:jb,Paste:Qd,ReadOnly:Fb,RectangleSelection:ei,Renderer:Hb,Saver:Ub,Tools:ih,UI:Qb};class ty{constructor(e){this.moduleInstances={},this.eventsDispatcher=new gs;let t,r;this.isReady=new Promise((o,i)=>{t=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:l}=this.moduleInstances;s.checkEmptiness(),l.enable(),this.configuration.autofocus&&(i.setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()),t()}).catch(o=>{ct(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var t,r;Kt(e)?this.config={...e}:this.config={holder:e},Ya(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Rd.VERBOSE),bv(this.config.logLevel),Ya(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(_n(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&sn.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("holderId and holder param can't assign at the same time.");if(sr(t)&&!X.get(t))throw Error(`element with ID ${t} is missing. Pass correct holder's ID.`);if(t&&Kt(t)&&!X.isElement(t))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(async()=>{try{await this.moduleInstances[t].prepare()}catch(r){if(r instanceof Fd)throw new Error(r.message);ct(`Module ${t} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(ey).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){ct("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const r in this.moduleInstances)r!==e&&(t[r]=this.moduleInstances[r]);return t}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class ny{static get version(){return"2.28.2"}constructor(e){let t=()=>{};Kt(e)&&vt(e.onReady)&&(t=e.onReady);const r=new ty(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),t()})}exportAPI(e){const t=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{vt(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};t.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,l])=>{this[l]=e.moduleInstances.API.methods[o][s]})})}}var sh={exports:{}};/*!
 * Image tool
 * 
 * @version 2.8.2
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=9)}([function(t,r){function o(i,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}t.exports=function(i,s,l){return s&&o(i.prototype,s),l&&o(i,l),i}},function(t,r,o){t.exports=function(i){var s={};function l(c){if(s[c])return s[c].exports;var u=s[c]={i:c,l:!1,exports:{}};return i[c].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=i,l.c=s,l.d=function(c,u,f){l.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:f})},l.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},l.t=function(c,u){if(1&u&&(c=l(c)),8&u||4&u&&typeof c=="object"&&c&&c.__esModule)return c;var f=Object.create(null);if(l.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:c}),2&u&&typeof c!="string")for(var h in c)l.d(f,h,(function(p){return c[p]}).bind(null,h));return f},l.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return l.d(u,"a",u),u},l.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},l.p="",l(l.s=3)}([function(i,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}i.exports=l},function(i,s,l){(function(c){var u=l(2),f=setTimeout;function h(){}function p(m){if(!(this instanceof p))throw new TypeError("Promises must be constructed via new");if(typeof m!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],S(m,this)}function E(m,k){for(;m._state===3;)m=m._value;m._state!==0?(m._handled=!0,p._immediateFn(function(){var x=m._state===1?k.onFulfilled:k.onRejected;if(x!==null){var A;try{A=x(m._value)}catch(O){return void y(k.promise,O)}g(k.promise,A)}else(m._state===1?g:y)(k.promise,m._value)})):m._deferreds.push(k)}function g(m,k){try{if(k===m)throw new TypeError("A promise cannot be resolved with itself.");if(k&&(typeof k=="object"||typeof k=="function")){var x=k.then;if(k instanceof p)return m._state=3,m._value=k,void C(m);if(typeof x=="function")return void S((A=x,O=k,function(){A.apply(O,arguments)}),m)}m._state=1,m._value=k,C(m)}catch(b){y(m,b)}var A,O}function y(m,k){m._state=2,m._value=k,C(m)}function C(m){m._state===2&&m._deferreds.length===0&&p._immediateFn(function(){m._handled||p._unhandledRejectionFn(m._value)});for(var k=0,x=m._deferreds.length;k<x;k++)E(m,m._deferreds[k]);m._deferreds=null}function L(m,k,x){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof k=="function"?k:null,this.promise=x}function S(m,k){var x=!1;try{m(function(A){x||(x=!0,g(k,A))},function(A){x||(x=!0,y(k,A))})}catch(A){if(x)return;x=!0,y(k,A)}}p.prototype.catch=function(m){return this.then(null,m)},p.prototype.then=function(m,k){var x=new this.constructor(h);return E(this,new L(m,k,x)),x},p.prototype.finally=u.a,p.all=function(m){return new p(function(k,x){if(!m||m.length===void 0)throw new TypeError("Promise.all accepts an array");var A=Array.prototype.slice.call(m);if(A.length===0)return k([]);var O=A.length;function b(B,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var R=_.then;if(typeof R=="function")return void R.call(_,function(D){b(B,D)},x)}A[B]=_,--O==0&&k(A)}catch(D){x(D)}}for(var v=0;v<A.length;v++)b(v,A[v])})},p.resolve=function(m){return m&&typeof m=="object"&&m.constructor===p?m:new p(function(k){k(m)})},p.reject=function(m){return new p(function(k,x){x(m)})},p.race=function(m){return new p(function(k,x){for(var A=0,O=m.length;A<O;A++)m[A].then(k,x)})},p._immediateFn=typeof c=="function"&&function(m){c(m)}||function(m){f(m,0)},p._unhandledRejectionFn=function(m){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",m)},s.a=p}).call(this,l(5).setImmediate)},function(i,s,l){s.a=function(c){var u=this.constructor;return this.then(function(f){return u.resolve(c()).then(function(){return f})},function(f){return u.resolve(c()).then(function(){return u.reject(f)})})}},function(i,s,l){function c(S){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(S)}l(4);var u,f,h,p,E,g,y,C=l(8),L=(f=function(S){return new Promise(function(m,k){S=p(S),(S=E(S)).beforeSend&&S.beforeSend();var x=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");x.open(S.method,S.url),x.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(S.headers).forEach(function(O){var b=S.headers[O];x.setRequestHeader(O,b)});var A=S.ratio;x.upload.addEventListener("progress",function(O){var b=Math.round(O.loaded/O.total*100),v=Math.ceil(b*A/100);S.progress(Math.min(v,100))},!1),x.addEventListener("progress",function(O){var b=Math.round(O.loaded/O.total*100),v=Math.ceil(b*(100-A)/100)+A;S.progress(Math.min(v,100))},!1),x.onreadystatechange=function(){if(x.readyState===4){var O=x.response;try{O=JSON.parse(O)}catch{}var b=C.parseHeaders(x.getAllResponseHeaders()),v={body:O,code:x.status,headers:b};y(x.status)?m(v):k(v)}},x.send(S.data)})},h=function(S){return S.method="POST",f(S)},p=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(S.url&&typeof S.url!="string")throw new Error("Url must be a string");if(S.url=S.url||"",S.method&&typeof S.method!="string")throw new Error("`method` must be a string or null");if(S.method=S.method?S.method.toUpperCase():"GET",S.headers&&c(S.headers)!=="object")throw new Error("`headers` must be an object or null");if(S.headers=S.headers||{},S.type&&(typeof S.type!="string"||!Object.values(u).includes(S.type)))throw new Error("`type` must be taken from module's contentType library");if(S.progress&&typeof S.progress!="function")throw new Error("`progress` must be a function or null");if(S.progress=S.progress||function(m){},S.beforeSend=S.beforeSend||function(m){},S.ratio&&typeof S.ratio!="number")throw new Error("`ratio` must be a number");if(S.ratio<0||S.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(S.ratio=S.ratio||90,S.accept&&typeof S.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(S.accept=S.accept||"*/*",S.multiple&&typeof S.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(S.multiple=S.multiple||!1,S.fieldName&&typeof S.fieldName!="string")throw new Error("`fieldName` must be a string");return S.fieldName=S.fieldName||"files",S},E=function(S){switch(S.method){case"GET":var m=g(S.data,u.URLENCODED);delete S.data,S.url=/\?/.test(S.url)?S.url+"&"+m:S.url+"?"+m;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var k=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||u.JSON}(S);(C.isFormData(S.data)||C.isFormElement(S.data))&&(k=u.FORM),S.data=g(S.data,k),k!==L.contentType.FORM&&(S.headers["content-type"]=k)}return S},g=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case u.URLENCODED:return C.urlEncode(S);case u.JSON:return C.jsonEncode(S);case u.FORM:return C.formEncode(S);default:return S}},y=function(S){return S>=200&&S<300},{contentType:u={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(S){return S.method="GET",f(S)},post:h,transport:function(S){return S=p(S),C.selectFiles(S).then(function(m){for(var k=new FormData,x=0;x<m.length;x++)k.append(S.fieldName,m[x],m[x].name);C.isObject(S.data)&&Object.keys(S.data).forEach(function(O){var b=S.data[O];k.append(O,b)});var A=S.beforeSend;return S.beforeSend=function(){return A(m)},S.data=k,h(S)})},selectFiles:function(S){return delete(S=p(S)).beforeSend,C.selectFiles(S)}});i.exports=L},function(i,s,l){l.r(s);var c=l(1);window.Promise=window.Promise||c.a},function(i,s,l){(function(c){var u=c!==void 0&&c||typeof self<"u"&&self||window,f=Function.prototype.apply;function h(p,E){this._id=p,this._clearFn=E}s.setTimeout=function(){return new h(f.call(setTimeout,u,arguments),clearTimeout)},s.setInterval=function(){return new h(f.call(setInterval,u,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(p){p&&p.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(u,this._id)},s.enroll=function(p,E){clearTimeout(p._idleTimeoutId),p._idleTimeout=E},s.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},s._unrefActive=s.active=function(p){clearTimeout(p._idleTimeoutId);var E=p._idleTimeout;E>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},E))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||c!==void 0&&c.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||c!==void 0&&c.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(i,s,l){(function(c,u){(function(f,h){if(!f.setImmediate){var p,E,g,y,C,L=1,S={},m=!1,k=f.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(f);x=x&&x.setTimeout?x:f,{}.toString.call(f.process)==="[object process]"?p=function(b){u.nextTick(function(){O(b)})}:function(){if(f.postMessage&&!f.importScripts){var b=!0,v=f.onmessage;return f.onmessage=function(){b=!1},f.postMessage("","*"),f.onmessage=v,b}}()?(y="setImmediate$"+Math.random()+"$",C=function(b){b.source===f&&typeof b.data=="string"&&b.data.indexOf(y)===0&&O(+b.data.slice(y.length))},f.addEventListener?f.addEventListener("message",C,!1):f.attachEvent("onmessage",C),p=function(b){f.postMessage(y+b,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(b){O(b.data)},p=function(b){g.port2.postMessage(b)}):k&&"onreadystatechange"in k.createElement("script")?(E=k.documentElement,p=function(b){var v=k.createElement("script");v.onreadystatechange=function(){O(b),v.onreadystatechange=null,E.removeChild(v),v=null},E.appendChild(v)}):p=function(b){setTimeout(O,0,b)},x.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var v=new Array(arguments.length-1),B=0;B<v.length;B++)v[B]=arguments[B+1];var _={callback:b,args:v};return S[L]=_,p(L),L++},x.clearImmediate=A}function A(b){delete S[b]}function O(b){if(m)setTimeout(O,0,b);else{var v=S[b];if(v){m=!0;try{(function(B){var _=B.callback,R=B.args;switch(R.length){case 0:_();break;case 1:_(R[0]);break;case 2:_(R[0],R[1]);break;case 3:_(R[0],R[1],R[2]);break;default:_.apply(void 0,R)}})(v)}finally{A(b),m=!1}}}}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,l(0),l(7))},function(i,s){var l,c,u=i.exports={};function f(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function p(x){if(l===setTimeout)return setTimeout(x,0);if((l===f||!l)&&setTimeout)return l=setTimeout,setTimeout(x,0);try{return l(x,0)}catch{try{return l.call(null,x,0)}catch{return l.call(this,x,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:f}catch{l=f}try{c=typeof clearTimeout=="function"?clearTimeout:h}catch{c=h}})();var E,g=[],y=!1,C=-1;function L(){y&&E&&(y=!1,E.length?g=E.concat(g):C=-1,g.length&&S())}function S(){if(!y){var x=p(L);y=!0;for(var A=g.length;A;){for(E=g,g=[];++C<A;)E&&E[C].run();C=-1,A=g.length}E=null,y=!1,function(O){if(c===clearTimeout)return clearTimeout(O);if((c===h||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(O);try{c(O)}catch{try{return c.call(null,O)}catch{return c.call(this,O)}}}(x)}}function m(x,A){this.fun=x,this.array=A}function k(){}u.nextTick=function(x){var A=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)A[O-1]=arguments[O];g.push(new m(x,A)),g.length!==1||y||p(S)},m.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=k,u.addListener=k,u.once=k,u.off=k,u.removeListener=k,u.removeAllListeners=k,u.emit=k,u.prependListener=k,u.prependOnceListener=k,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(i,s,l){function c(f,h){for(var p=0;p<h.length;p++){var E=h[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(f,E.key,E)}}var u=l(9);i.exports=function(){function f(){(function(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f)}var h,p;return h=f,(p=[{key:"urlEncode",value:function(E){return u(E)}},{key:"jsonEncode",value:function(E){return JSON.stringify(E)}},{key:"formEncode",value:function(E){if(this.isFormData(E))return E;if(this.isFormElement(E))return new FormData(E);if(this.isObject(E)){var g=new FormData;return Object.keys(E).forEach(function(y){var C=E[y];g.append(y,C)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(E){return Object.prototype.toString.call(E)==="[object Object]"}},{key:"isFormData",value:function(E){return E instanceof FormData}},{key:"isFormElement",value:function(E){return E instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,y){var C=document.createElement("INPUT");C.type="file",E.multiple&&C.setAttribute("multiple","multiple"),E.accept&&C.setAttribute("accept",E.accept),C.style.display="none",document.body.appendChild(C),C.addEventListener("change",function(L){var S=L.target.files;g(S),document.body.removeChild(C)},!1),C.click()})}},{key:"parseHeaders",value:function(E){var g=E.trim().split(/[\r\n]+/),y={};return g.forEach(function(C){var L=C.split(": "),S=L.shift(),m=L.join(": ");S&&(y[S]=m)}),y}}])&&c(h,p),f}()},function(i,s){var l=function(u){return encodeURIComponent(u).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},c=function(u,f,h,p){return f=f||null,h=h||"&",p=p||null,u?function(E){for(var g=new Array,y=0;y<E.length;y++)E[y]&&g.push(E[y]);return g}(Object.keys(u).map(function(E){var g,y,C=E;if(p&&(C=p+"["+C+"]"),typeof u[E]=="object"&&u[E]!==null)g=c(u[E],null,h,C);else{f&&(y=C,C=!isNaN(parseFloat(y))&&isFinite(y)?f+Number(C):C);var L=u[E];L=(L=(L=(L=L===!0?"1":L)===!1?"0":L)===0?"0":L)||"",g=l(C)+"="+l(L)}return g})).join(h).replace(/[!'()*]/g,""):""};i.exports=c}])},function(t,r){t.exports=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}},function(t,r,o){t.exports=o(10)},function(t,r){t.exports=function(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,l=new Array(i);s<i;s++)l[s]=o[s];return l}},function(t,r,o){var i=o(4);t.exports=function(s,l){if(s){if(typeof s=="string")return i(s,l);var c=Object.prototype.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(c):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?i(s,l):void 0}}},function(t,r){function o(i,s,l,c,u,f,h){try{var p=i[f](h),E=p.value}catch(g){return void l(g)}p.done?s(E):Promise.resolve(E).then(c,u)}t.exports=function(i){return function(){var s=this,l=arguments;return new Promise(function(c,u){var f=i.apply(s,l);function h(E){o(f,c,u,h,p,"next",E)}function p(E){o(f,c,u,h,p,"throw",E)}h(void 0)})}}},function(t,r,o){var i=o(15),s=o(16),l=o(5),c=o(17);t.exports=function(u){return i(u)||s(u)||l(u)||c()}},function(t,r,o){var i=o(18),s=o(19),l=o(5),c=o(20);t.exports=function(u,f){return i(u)||s(u,f)||l(u,f)||c()}},function(t,r,o){t.exports=o(21)},function(t,r,o){var i=function(s){var l=Object.prototype,c=l.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",p=u.toStringTag||"@@toStringTag";function E(N,U,ee,J){var le=U&&U.prototype instanceof C?U:C,Ue=Object.create(le.prototype),me=new R(J||[]);return Ue._invoke=function(he,Ne,ue){var we="suspendedStart";return function(fe,Ve){if(we==="executing")throw new Error("Generator is already running");if(we==="completed"){if(fe==="throw")throw Ve;return z()}for(ue.method=fe,ue.arg=Ve;;){var ie=ue.delegate;if(ie){var ge=v(ie,ue);if(ge){if(ge===y)continue;return ge}}if(ue.method==="next")ue.sent=ue._sent=ue.arg;else if(ue.method==="throw"){if(we==="suspendedStart")throw we="completed",ue.arg;ue.dispatchException(ue.arg)}else ue.method==="return"&&ue.abrupt("return",ue.arg);we="executing";var ke=g(he,Ne,ue);if(ke.type==="normal"){if(we=ue.done?"completed":"suspendedYield",ke.arg===y)continue;return{value:ke.arg,done:ue.done}}ke.type==="throw"&&(we="completed",ue.method="throw",ue.arg=ke.arg)}}}(N,ee,me),Ue}function g(N,U,ee){try{return{type:"normal",arg:N.call(U,ee)}}catch(J){return{type:"throw",arg:J}}}s.wrap=E;var y={};function C(){}function L(){}function S(){}var m={};m[f]=function(){return this};var k=Object.getPrototypeOf,x=k&&k(k(D([])));x&&x!==l&&c.call(x,f)&&(m=x);var A=S.prototype=C.prototype=Object.create(m);function O(N){["next","throw","return"].forEach(function(U){N[U]=function(ee){return this._invoke(U,ee)}})}function b(N,U){var ee;this._invoke=function(J,le){function Ue(){return new U(function(me,he){(function Ne(ue,we,fe,Ve){var ie=g(N[ue],N,we);if(ie.type!=="throw"){var ge=ie.arg,ke=ge.value;return ke&&typeof ke=="object"&&c.call(ke,"__await")?U.resolve(ke.__await).then(function($e){Ne("next",$e,fe,Ve)},function($e){Ne("throw",$e,fe,Ve)}):U.resolve(ke).then(function($e){ge.value=$e,fe(ge)},function($e){return Ne("throw",$e,fe,Ve)})}Ve(ie.arg)})(J,le,me,he)})}return ee=ee?ee.then(Ue,Ue):Ue()}}function v(N,U){var ee=N.iterator[U.method];if(ee===void 0){if(U.delegate=null,U.method==="throw"){if(N.iterator.return&&(U.method="return",U.arg=void 0,v(N,U),U.method==="throw"))return y;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var J=g(ee,N.iterator,U.arg);if(J.type==="throw")return U.method="throw",U.arg=J.arg,U.delegate=null,y;var le=J.arg;return le?le.done?(U[N.resultName]=le.value,U.next=N.nextLoc,U.method!=="return"&&(U.method="next",U.arg=void 0),U.delegate=null,y):le:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,y)}function B(N){var U={tryLoc:N[0]};1 in N&&(U.catchLoc=N[1]),2 in N&&(U.finallyLoc=N[2],U.afterLoc=N[3]),this.tryEntries.push(U)}function _(N){var U=N.completion||{};U.type="normal",delete U.arg,N.completion=U}function R(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(B,this),this.reset(!0)}function D(N){if(N){var U=N[f];if(U)return U.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var ee=-1,J=function le(){for(;++ee<N.length;)if(c.call(N,ee))return le.value=N[ee],le.done=!1,le;return le.value=void 0,le.done=!0,le};return J.next=J}}return{next:z}}function z(){return{value:void 0,done:!0}}return L.prototype=A.constructor=S,S.constructor=L,S[p]=L.displayName="GeneratorFunction",s.isGeneratorFunction=function(N){var U=typeof N=="function"&&N.constructor;return!!U&&(U===L||(U.displayName||U.name)==="GeneratorFunction")},s.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,S):(N.__proto__=S,p in N||(N[p]="GeneratorFunction")),N.prototype=Object.create(A),N},s.awrap=function(N){return{__await:N}},O(b.prototype),b.prototype[h]=function(){return this},s.AsyncIterator=b,s.async=function(N,U,ee,J,le){le===void 0&&(le=Promise);var Ue=new b(E(N,U,ee,J),le);return s.isGeneratorFunction(U)?Ue:Ue.next().then(function(me){return me.done?me.value:Ue.next()})},O(A),A[p]="Generator",A[f]=function(){return this},A.toString=function(){return"[object Generator]"},s.keys=function(N){var U=[];for(var ee in N)U.push(ee);return U.reverse(),function J(){for(;U.length;){var le=U.pop();if(le in N)return J.value=le,J.done=!1,J}return J.done=!0,J}},s.values=D,R.prototype={constructor:R,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!N)for(var U in this)U.charAt(0)==="t"&&c.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var U=this;function ee(Ne,ue){return Ue.type="throw",Ue.arg=N,U.next=Ne,ue&&(U.method="next",U.arg=void 0),!!ue}for(var J=this.tryEntries.length-1;J>=0;--J){var le=this.tryEntries[J],Ue=le.completion;if(le.tryLoc==="root")return ee("end");if(le.tryLoc<=this.prev){var me=c.call(le,"catchLoc"),he=c.call(le,"finallyLoc");if(me&&he){if(this.prev<le.catchLoc)return ee(le.catchLoc,!0);if(this.prev<le.finallyLoc)return ee(le.finallyLoc)}else if(me){if(this.prev<le.catchLoc)return ee(le.catchLoc,!0)}else{if(!he)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return ee(le.finallyLoc)}}}},abrupt:function(N,U){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var J=this.tryEntries[ee];if(J.tryLoc<=this.prev&&c.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var le=J;break}}le&&(N==="break"||N==="continue")&&le.tryLoc<=U&&U<=le.finallyLoc&&(le=null);var Ue=le?le.completion:{};return Ue.type=N,Ue.arg=U,le?(this.method="next",this.next=le.finallyLoc,y):this.complete(Ue)},complete:function(N,U){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&U&&(this.next=U),y},finish:function(N){for(var U=this.tryEntries.length-1;U>=0;--U){var ee=this.tryEntries[U];if(ee.finallyLoc===N)return this.complete(ee.completion,ee.afterLoc),_(ee),y}},catch:function(N){for(var U=this.tryEntries.length-1;U>=0;--U){var ee=this.tryEntries[U];if(ee.tryLoc===N){var J=ee.completion;if(J.type==="throw"){var le=J.arg;_(ee)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(N,U,ee){return this.delegate={iterator:D(N),resultName:U,nextLoc:ee},this.method==="next"&&(this.arg=void 0),y}},s}(t.exports);try{regeneratorRuntime=i}catch{Function("r","regeneratorRuntime = r")(i)}},function(t,r,o){var i=o(12),s=o(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[t.i,s,""]]);var l={insert:"head",singleton:!1},c=(i(s,l),s.locals?s.locals:{});t.exports=c},function(t,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},l=function(){var m={};return function(k){if(m[k]===void 0){var x=document.querySelector(k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}m[k]=x}return m[k]}}(),c=[];function u(m){for(var k=-1,x=0;x<c.length;x++)if(c[x].identifier===m){k=x;break}return k}function f(m,k){for(var x={},A=[],O=0;O<m.length;O++){var b=m[O],v=k.base?b[0]+k.base:b[0],B=x[v]||0,_="".concat(v," ").concat(B);x[v]=B+1;var R=u(_),D={css:b[1],media:b[2],sourceMap:b[3]};R!==-1?(c[R].references++,c[R].updater(D)):c.push({identifier:_,updater:S(D,k),references:1}),A.push(_)}return A}function h(m){var k=document.createElement("style"),x=m.attributes||{};if(x.nonce===void 0){var A=o.nc;A&&(x.nonce=A)}if(Object.keys(x).forEach(function(b){k.setAttribute(b,x[b])}),typeof m.insert=="function")m.insert(k);else{var O=l(m.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(k)}return k}var p,E=(p=[],function(m,k){return p[m]=k,p.filter(Boolean).join(`
`)});function g(m,k,x,A){var O=x?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(m.styleSheet)m.styleSheet.cssText=E(k,O);else{var b=document.createTextNode(O),v=m.childNodes;v[k]&&m.removeChild(v[k]),v.length?m.insertBefore(b,v[k]):m.appendChild(b)}}function y(m,k,x){var A=x.css,O=x.media,b=x.sourceMap;if(O?m.setAttribute("media",O):m.removeAttribute("media"),b&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),m.styleSheet)m.styleSheet.cssText=A;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(A))}}var C=null,L=0;function S(m,k){var x,A,O;if(k.singleton){var b=L++;x=C||(C=h(k)),A=g.bind(null,x,b,!1),O=g.bind(null,x,b,!0)}else x=h(k),A=y.bind(null,x,k),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(x)};return A(m),function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap)return;A(m=v)}else O()}}t.exports=function(m,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=s());var x=f(m=m||[],k);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var O=0;O<x.length;O++){var b=u(x[O]);c[b].references--}for(var v=f(A,k),B=0;B<x.length;B++){var _=u(x[B]);c[_].references===0&&(c[_].updater(),c.splice(_,1))}x=v}}}},function(t,r,o){(r=o(14)(!1)).push([t.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),t.exports=r},function(t,r,o){t.exports=function(i){var s=[];return s.toString=function(){return this.map(function(l){var c=function(u,f){var h=u[1]||"",p=u[3];if(!p)return h;if(f&&typeof btoa=="function"){var E=(y=p,C=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),L="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),"/*# ".concat(L," */")),g=p.sources.map(function(S){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(S," */")});return[h].concat(g).concat([E]).join(`
`)}var y,C,L;return[h].join(`
`)}(l,i);return l[2]?"@media ".concat(l[2]," {").concat(c,"}"):c}).join("")},s.i=function(l,c,u){typeof l=="string"&&(l=[[null,l,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var p=this[h][0];p!=null&&(f[p]=!0)}for(var E=0;E<l.length;E++){var g=[].concat(l[E]);u&&f[g[0]]||(c&&(g[2]?g[2]="".concat(c," and ").concat(g[2]):g[2]=c),s.push(g))}},s}},function(t,r,o){var i=o(4);t.exports=function(s){if(Array.isArray(s))return i(s)}},function(t,r){t.exports=function(o){if(typeof Symbol<"u"&&Symbol.iterator in Object(o))return Array.from(o)}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r){t.exports=function(o){if(Array.isArray(o))return o}},function(t,r){t.exports=function(o,i){if(typeof Symbol<"u"&&Symbol.iterator in Object(o)){var s=[],l=!0,c=!1,u=void 0;try{for(var f,h=o[Symbol.iterator]();!(l=(f=h.next()).done)&&(s.push(f.value),!i||s.length!==i);l=!0);}catch(p){c=!0,u=p}finally{try{l||h.return==null||h.return()}finally{if(c)throw u}}return s}}},function(t,r){t.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(t,r,o){o.r(r),o.d(r,"default",function(){return b});var i=o(3),s=o.n(i),l=o(6),c=o.n(l),u=o(2),f=o.n(u),h=o(0),p=o.n(h);o(11);const E='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var g=o(7),y=o.n(g);function C(v){var B,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=document.createElement(v);Array.isArray(_)?(B=D.classList).add.apply(B,y()(_)):_&&D.classList.add(_);for(var z in R)D[z]=R[z];return D}var L=function(){function v(B){var _=B.api,R=B.config,D=B.onSelectFile,z=B.readOnly;f()(this,v),this.api=_,this.config=R,this.onSelectFile=D,this.readOnly=z,this.nodes={wrapper:C("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:C("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:C("div",this.CSS.imagePreloader),caption:C("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return p()(v,[{key:"render",value:function(B){return B.file&&Object.keys(B.file).length!==0?this.toggleStatus(v.status.UPLOADING):this.toggleStatus(v.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var B=this,_=C("div",[this.CSS.button]);return _.innerHTML=this.config.buttonContent||"".concat(E," ").concat(this.api.i18n.t("Select an Image")),_.addEventListener("click",function(){B.onSelectFile()}),_}},{key:"showPreloader",value:function(B){this.nodes.imagePreloader.style.backgroundImage="url(".concat(B,")"),this.toggleStatus(v.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(v.status.EMPTY)}},{key:"fillImage",value:function(B){var _=this,R=/\.mp4$/.test(B)?"VIDEO":"IMG",D={src:B},z="load";R==="VIDEO"&&(D.autoplay=!0,D.loop=!0,D.muted=!0,D.playsinline=!0,z="loadeddata"),this.nodes.imageEl=C(R,this.CSS.imageEl,D),this.nodes.imageEl.addEventListener(z,function(){_.toggleStatus(v.status.FILLED),_.nodes.imagePreloader&&(_.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(B){this.nodes.caption&&(this.nodes.caption.innerHTML=B)}},{key:"toggleStatus",value:function(B){for(var _ in v.status)Object.prototype.hasOwnProperty.call(v.status,_)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(v.status[_]),B===v.status[_])}},{key:"applyTune",value:function(B,_){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(B),_)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),v}(),S=o(8),m=o.n(S),k=o(1),x=o.n(k);function A(v){return v&&typeof v.then=="function"}var O=function(){function v(B){var _=B.config,R=B.onUpload,D=B.onError;f()(this,v),this.config=_,this.onUpload=R,this.onError=D}return p()(v,[{key:"uploadSelectedFile",value:function(B){var _=this,R=B.onPreview,D=function(z){var N=new FileReader;N.readAsDataURL(z),N.onload=function(U){R(U.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?x.a.selectFiles({accept:this.config.types}).then(function(z){D(z[0]);var N=_.config.uploader.uploadByFile(z[0]);return A(N)||console.warn("Custom uploader method uploadByFile should return a Promise"),N}):x.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(z){D(z[0])},fieldName:this.config.field}).then(function(z){return z.body})).then(function(z){_.onUpload(z)}).catch(function(z){_.onError(z)})}},{key:"uploadByUrl",value:function(B){var _,R=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?A(_=this.config.uploader.uploadByUrl(B))||console.warn("Custom uploader method uploadByUrl should return a Promise"):_=x.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:B},this.config.additionalRequestData),type:x.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body}),_.then(function(D){R.onUpload(D)}).catch(function(D){R.onError(D)})}},{key:"uploadByFile",value:function(B,_){var R,D=this,z=_.onPreview,N=new FileReader;if(N.readAsDataURL(B),N.onload=function(ee){z(ee.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")A(R=this.config.uploader.uploadByFile(B))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var U=new FormData;U.append(this.config.field,B),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(ee){var J=m()(ee,2),le=J[0],Ue=J[1];U.append(le,Ue)}),R=x.a.post({url:this.config.endpoints.byFile,data:U,type:x.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(ee){return ee.body})}R.then(function(ee){D.onUpload(ee)}).catch(function(ee){D.onError(ee)})}}]),v}(),b=function(){function v(_){var R=this,D=_.data,z=_.config,N=_.api,U=_.readOnly,ee=_.block;f()(this,v),this.api=N,this.readOnly=U,this.block=ee,this.config={endpoints:z.endpoints||"",additionalRequestData:z.additionalRequestData||{},additionalRequestHeaders:z.additionalRequestHeaders||{},field:z.field||"image",types:z.types||"image/*",captionPlaceholder:this.api.i18n.t(z.captionPlaceholder||"Caption"),buttonContent:z.buttonContent||"",uploader:z.uploader||void 0,actions:z.actions||[]},this.uploader=new O({config:this.config,onUpload:function(J){return R.onUpload(J)},onError:function(J){return R.uploadingFailed(J)}}),this.ui=new L({api:N,config:this.config,onSelectFile:function(){R.uploader.uploadSelectedFile({onPreview:function(J){R.ui.showPreloader(J)}})},readOnly:U}),this._data={},this.data=D}var B;return p()(v,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:E,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),p()(v,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(_){return _.file&&_.file.url}},{key:"save",value:function(){var _=this.ui.nodes.caption;return this._data.caption=_.innerHTML,this.data}},{key:"renderSettings",value:function(){var _=this;return v.tunes.concat(this.config.actions).map(function(R){return{icon:R.icon,label:_.api.i18n.t(R.title),name:R.name,toggle:R.toggle,isActive:_.data[R.name],onActivate:function(){typeof R.action!="function"?_.tuneToggled(R.name):R.action(R.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(B=c()(s.a.mark(function _(R){var D,z,N,U,ee;return s.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:J.t0=R.type,J.next=J.t0==="tag"?3:J.t0==="pattern"?15:J.t0==="file"?18:21;break;case 3:if(D=R.detail.data,!/^blob:/.test(D.src)){J.next=13;break}return J.next=7,fetch(D.src);case 7:return z=J.sent,J.next=10,z.blob();case 10:return N=J.sent,this.uploadFile(N),J.abrupt("break",21);case 13:return this.uploadUrl(D.src),J.abrupt("break",21);case 15:return U=R.detail.data,this.uploadUrl(U),J.abrupt("break",21);case 18:return ee=R.detail.file,this.uploadFile(ee),J.abrupt("break",21);case 21:case"end":return J.stop()}},_,this)})),function(_){return B.apply(this,arguments)})},{key:"onUpload",value:function(_){_.success&&_.file?this.image=_.file:this.uploadingFailed("incorrect response: "+JSON.stringify(_))}},{key:"uploadingFailed",value:function(_){console.log("Image Tool: uploading failed because of",_),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(_){this.setTune(_,!this._data[_])}},{key:"setTune",value:function(_,R){var D=this;this._data[_]=R,this.ui.applyTune(_,R),_==="stretched"&&Promise.resolve().then(function(){D.block.stretched=R}).catch(function(z){console.error(z)})}},{key:"uploadFile",value:function(_){var R=this;this.uploader.uploadByFile(_,{onPreview:function(D){R.ui.showPreloader(D)}})}},{key:"uploadUrl",value:function(_){this.ui.showPreloader(_),this.uploader.uploadByUrl(_)}},{key:"data",set:function(_){var R=this;this.image=_.file,this._data.caption=_.caption||"",this.ui.fillCaption(this._data.caption),v.tunes.forEach(function(D){var z=D.name,N=_[z]!==void 0&&(_[z]===!0||_[z]==="true");R.setTune(z,N)})},get:function(){return this._data}},{key:"image",set:function(_){this._data.file=_||{},_&&_.url&&this.ui.fillImage(_.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),v}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(sh);var ry=sh.exports;const oy=vo(ry);(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ku='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',iy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';let sy=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:ku,title:"List"}}constructor({data:e,config:t,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:ku,default:t.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:iy,default:t.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[t,r]=[13,8];switch(e.keyCode){case t:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const t=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}toggleTune(e){const t=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}_make(e,t=null,r={}){const o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(t.length<2)return;const r=t[t.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=t[0];r&&t.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const t=window.getSelection(),r=t.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),t.removeAllRanges(),t.addRange(i)}pasteHandler(e){const{tagName:t}=e;let r;switch(t){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(t==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}.ce-header[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;display:none;cursor:text}.ce-header[contentEditable=true][data-placeholder]:empty:before{display:block}.ce-header[contentEditable=true][data-placeholder]:empty:focus:before{display:none}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const ay='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',ly='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',cy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',uy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',dy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',hy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',fy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */class py{constructor({data:e,config:t,api:r,readOnly:o}){this.api=r,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}normalizeData(e){const t={};return typeof e!="object"&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const t={text:this.data.text+e.text,level:this.data.level};this.data=t}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){const t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(t=>t.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find(t=>t.number===this._settings.defaultLevel);if(e)return e;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:ay},{number:2,tag:"H2",svg:ly},{number:3,tag:"H3",svg:cy},{number:4,tag:"H4",svg:uy},{number:5,tag:"H5",svg:dy},{number:6,tag:"H6",svg:hy}];return this._settings.levels?e.filter(t=>this._settings.levels.includes(t.number)):e}onPaste(e){const t=e.detail.data;let r=this.defaultLevel.number;switch(t.tagName){case"H1":r=1;break;case"H2":r=2;break;case"H3":r=3;break;case"H4":r=4;break;case"H5":r=5;break;case"H6":r=6;break}this._settings.levels&&(r=this._settings.levels.reduce((o,i)=>Math.abs(i-r)<Math.abs(o-r)?i:o)),this.data={level:r,text:t.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:fy,title:"Heading"}}}var ah={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(t,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[t.i,s,""]]);var l={insert:"head",singleton:!1};i(s,l),t.exports=s.locals||{}},function(t,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},l=function(){var m={};return function(k){if(m[k]===void 0){var x=document.querySelector(k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}m[k]=x}return m[k]}}(),c=[];function u(m){for(var k=-1,x=0;x<c.length;x++)if(c[x].identifier===m){k=x;break}return k}function f(m,k){for(var x={},A=[],O=0;O<m.length;O++){var b=m[O],v=k.base?b[0]+k.base:b[0],B=x[v]||0,_="".concat(v," ").concat(B);x[v]=B+1;var R=u(_),D={css:b[1],media:b[2],sourceMap:b[3]};R!==-1?(c[R].references++,c[R].updater(D)):c.push({identifier:_,updater:S(D,k),references:1}),A.push(_)}return A}function h(m){var k=document.createElement("style"),x=m.attributes||{};if(x.nonce===void 0){var A=o.nc;A&&(x.nonce=A)}if(Object.keys(x).forEach(function(b){k.setAttribute(b,x[b])}),typeof m.insert=="function")m.insert(k);else{var O=l(m.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(k)}return k}var p,E=(p=[],function(m,k){return p[m]=k,p.filter(Boolean).join(`
`)});function g(m,k,x,A){var O=x?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(m.styleSheet)m.styleSheet.cssText=E(k,O);else{var b=document.createTextNode(O),v=m.childNodes;v[k]&&m.removeChild(v[k]),v.length?m.insertBefore(b,v[k]):m.appendChild(b)}}function y(m,k,x){var A=x.css,O=x.media,b=x.sourceMap;if(O?m.setAttribute("media",O):m.removeAttribute("media"),b&&typeof btoa<"u"&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),m.styleSheet)m.styleSheet.cssText=A;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(A))}}var C=null,L=0;function S(m,k){var x,A,O;if(k.singleton){var b=L++;x=C||(C=h(k)),A=g.bind(null,x,b,!1),O=g.bind(null,x,b,!0)}else x=h(k),A=y.bind(null,x,k),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(x)};return A(m),function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap)return;A(m=v)}else O()}}t.exports=function(m,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=s());var x=f(m=m||[],k);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var O=0;O<x.length;O++){var b=u(x[O]);c[b].references--}for(var v=f(A,k),B=0;B<x.length;B++){var _=u(x[B]);c[_].references===0&&(c[_].updater(),c.splice(_,1))}x=v}}}},function(t,r,o){(r=o(3)(!1)).push([t.i,`.cdx-underline {
    text-decoration: underline;
}
`,""]),t.exports=r},function(t,r,o){t.exports=function(i){var s=[];return s.toString=function(){return this.map(function(l){var c=function(u,f){var h=u[1]||"",p=u[3];if(!p)return h;if(f&&typeof btoa=="function"){var E=(y=p,C=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),L="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),"/*# ".concat(L," */")),g=p.sources.map(function(S){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(S," */")});return[h].concat(g).concat([E]).join(`
`)}var y,C,L;return[h].join(`
`)}(l,i);return l[2]?"@media ".concat(l[2]," {").concat(c,"}"):c}).join("")},s.i=function(l,c,u){typeof l=="string"&&(l=[[null,l,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var p=this[h][0];p!=null&&(f[p]=!0)}for(var E=0;E<l.length;E++){var g=[].concat(l[E]);u&&f[g[0]]||(c&&(g[2]?g[2]="".concat(c," and ").concat(g[2]):g[2]=c),s.push(g))}},s}},function(t,r,o){o.r(r),o.d(r,"default",function(){return l}),o(0);function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function s(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,(p=h.key,E=void 0,E=function(g,y){if(i(g)!=="object"||g===null)return g;var C=g[Symbol.toPrimitive];if(C!==void 0){var L=C.call(g,y||"default");if(i(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}(p,"string"),i(E)==="symbol"?E:String(E)),h)}var p,E}var l=function(){function c(p){var E=p.api;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.api=E,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var u,f,h;return u=c,h=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:c.CSS}}}}],(f=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(p){if(p){var E=this.api.selection.findParentTag(this.tag,c.CSS);E?this.unwrap(E):this.wrap(p)}}},{key:"wrap",value:function(p){var E=document.createElement(this.tag);E.classList.add(c.CSS),E.appendChild(p.extractContents()),p.insertNode(E),this.api.selection.expandToTag(E)}},{key:"unwrap",value:function(p){this.api.selection.expandToTag(p);var E=window.getSelection(),g=E.getRangeAt(0),y=g.extractContents();p.parentNode.removeChild(p),g.insertNode(y),E.removeAllRanges(),E.addRange(g)}},{key:"checkState",value:function(){var p=this.api.selection.findParentTag(this.tag,c.CSS);this.button.classList.toggle(this.iconClasses.active,!!p)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&s(u.prototype,f),h&&s(u,h),Object.defineProperty(u,"prototype",{writable:!1}),c}()}]).default})})(ah);var gy=ah.exports;const my=vo(gy);var lh={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(t,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[t.i,s,""]]);var l={insert:"head",singleton:!1};i(s,l),t.exports=s.locals||{}},function(t,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},l=function(){var m={};return function(k){if(m[k]===void 0){var x=document.querySelector(k);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}m[k]=x}return m[k]}}(),c=[];function u(m){for(var k=-1,x=0;x<c.length;x++)if(c[x].identifier===m){k=x;break}return k}function f(m,k){for(var x={},A=[],O=0;O<m.length;O++){var b=m[O],v=k.base?b[0]+k.base:b[0],B=x[v]||0,_="".concat(v," ").concat(B);x[v]=B+1;var R=u(_),D={css:b[1],media:b[2],sourceMap:b[3]};R!==-1?(c[R].references++,c[R].updater(D)):c.push({identifier:_,updater:S(D,k),references:1}),A.push(_)}return A}function h(m){var k=document.createElement("style"),x=m.attributes||{};if(x.nonce===void 0){var A=o.nc;A&&(x.nonce=A)}if(Object.keys(x).forEach(function(b){k.setAttribute(b,x[b])}),typeof m.insert=="function")m.insert(k);else{var O=l(m.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(k)}return k}var p,E=(p=[],function(m,k){return p[m]=k,p.filter(Boolean).join(`
`)});function g(m,k,x,A){var O=x?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(m.styleSheet)m.styleSheet.cssText=E(k,O);else{var b=document.createTextNode(O),v=m.childNodes;v[k]&&m.removeChild(v[k]),v.length?m.insertBefore(b,v[k]):m.appendChild(b)}}function y(m,k,x){var A=x.css,O=x.media,b=x.sourceMap;if(O?m.setAttribute("media",O):m.removeAttribute("media"),b&&btoa&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),m.styleSheet)m.styleSheet.cssText=A;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(A))}}var C=null,L=0;function S(m,k){var x,A,O;if(k.singleton){var b=L++;x=C||(C=h(k)),A=g.bind(null,x,b,!1),O=g.bind(null,x,b,!0)}else x=h(k),A=y.bind(null,x,k),O=function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(x)};return A(m),function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap)return;A(m=v)}else O()}}t.exports=function(m,k){(k=k||{}).singleton||typeof k.singleton=="boolean"||(k.singleton=s());var x=f(m=m||[],k);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var O=0;O<x.length;O++){var b=u(x[O]);c[b].references--}for(var v=f(A,k),B=0;B<x.length;B++){var _=u(x[B]);c[_].references===0&&(c[_].updater(),c.splice(_,1))}x=v}}}},function(t,r,o){(r=o(3)(!1)).push([t.i,`.ce-code__textarea {
    min-height: 200px;
    font-family: Menlo, Monaco, Consolas, Courier New, monospace;
    color: #41314e;
    line-height: 1.6em;
    font-size: 12px;
    background: #f8f7fa;
    border: 1px solid #f1f1f4;
    box-shadow: none;
    white-space: pre;
    word-wrap: normal;
    overflow-x: auto;
    resize: vertical;
}
`,""]),t.exports=r},function(t,r,o){t.exports=function(i){var s=[];return s.toString=function(){return this.map(function(l){var c=function(u,f){var h=u[1]||"",p=u[3];if(!p)return h;if(f&&typeof btoa=="function"){var E=(y=p,C=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),L="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),"/*# ".concat(L," */")),g=p.sources.map(function(S){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(S," */")});return[h].concat(g).concat([E]).join(`
`)}var y,C,L;return[h].join(`
`)}(l,i);return l[2]?"@media ".concat(l[2]," {").concat(c,"}"):c}).join("")},s.i=function(l,c,u){typeof l=="string"&&(l=[[null,l,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var p=this[h][0];p!=null&&(f[p]=!0)}for(var E=0;E<l.length;E++){var g=[].concat(l[E]);u&&f[g[0]]||(c&&(g[2]?g[2]="".concat(c," and ").concat(g[2]):g[2]=c),s.push(g))}},s}},function(t,r,o){o.r(r),o.d(r,"default",function(){return l}),o(0);function i(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function s(c,u,f){return u&&i(c.prototype,u),f&&i(c,f),c}/**
 * CodeTool for Editor.js
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function c(u){var f=u.data,h=u.config,p=u.api,E=u.readOnly;(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,c),this.api=p,this.readOnly=E,this.placeholder=this.api.i18n.t(h.placeholder||c.DEFAULT_PLACEHOLDER),this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-code",textarea:"ce-code__textarea"},this.nodes={holder:null,textarea:null},this.data={code:f.code||""},this.nodes.holder=this.drawView()}return s(c,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}}]),s(c,[{key:"drawView",value:function(){var u=this,f=document.createElement("div"),h=document.createElement("textarea");return f.classList.add(this.CSS.baseClass,this.CSS.wrapper),h.classList.add(this.CSS.textarea,this.CSS.input),h.textContent=this.data.code,h.placeholder=this.placeholder,this.readOnly&&(h.disabled=!0),f.appendChild(h),h.addEventListener("keydown",function(p){switch(p.code){case"Tab":u.tabHandler(p)}}),this.nodes.textarea=h,f}},{key:"render",value:function(){return this.nodes.holder}},{key:"save",value:function(u){return{code:u.querySelector("textarea").value}}},{key:"onPaste",value:function(u){var f=u.detail.data;this.data={code:f.textContent}}},{key:"tabHandler",value:function(u){u.stopPropagation(),u.preventDefault();var f,h=u.target,p=u.shiftKey,E=h.selectionStart,g=h.value;if(p){var y=function(C,L){for(var S="";S!==`
`&&L>0;)L-=1,S=C.substr(L,1);return S===`
`&&(L+=1),L}(g,E);if(g.substr(y,2)!=="  ")return;h.value=g.substring(0,y)+g.substring(y+2),f=E-2}else f=E+2,h.value=g.substring(0,E)+"  "+g.substring(E);h.setSelectionRange(f,f)}},{key:"data",get:function(){return this._data},set:function(u){this._data=u,this.nodes.textarea&&(this.nodes.textarea.textContent=u.code)}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>',title:"Code"}}},{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter a code"}},{key:"pasteConfig",get:function(){return{tags:["pre"]}}},{key:"sanitize",get:function(){return{code:!0}}}]),c}()}]).default})})(lh);var vy=lh.exports;const by=vo(vy);var ch={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(t,r,o){var i=o(1);typeof i=="string"&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(t.exports=i.locals)},function(t,r,o){(t.exports=o(2)(!1)).push([t.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(t,r){t.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var p=(g=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),E=h.sources.map(function(y){return"/*# sourceURL="+h.sourceRoot+y+" */"});return[f].concat(E).concat([p]).join(`
`)}var g;return[f].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},i.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},u=0;u<this.length;u++){var f=this[u][0];typeof f=="number"&&(c[f]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&c[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),i.push(h))}},i}},function(t,r,o){var i,s,l={},c=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),u=function(b){var v={};return function(B){if(typeof B=="function")return B();if(v[B]===void 0){var _=(function(R){return document.querySelector(R)}).call(this,B);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}v[B]=_}return v[B]}}(),f=null,h=0,p=[],E=o(4);function g(b,v){for(var B=0;B<b.length;B++){var _=b[B],R=l[_.id];if(R){R.refs++;for(var D=0;D<R.parts.length;D++)R.parts[D](_.parts[D]);for(;D<_.parts.length;D++)R.parts.push(k(_.parts[D],v))}else{var z=[];for(D=0;D<_.parts.length;D++)z.push(k(_.parts[D],v));l[_.id]={id:_.id,refs:1,parts:z}}}}function y(b,v){for(var B=[],_={},R=0;R<b.length;R++){var D=b[R],z=v.base?D[0]+v.base:D[0],N={css:D[1],media:D[2],sourceMap:D[3]};_[z]?_[z].parts.push(N):B.push(_[z]={id:z,parts:[N]})}return B}function C(b,v){var B=u(b.insertInto);if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var _=p[p.length-1];if(b.insertAt==="top")_?_.nextSibling?B.insertBefore(v,_.nextSibling):B.appendChild(v):B.insertBefore(v,B.firstChild),p.push(v);else if(b.insertAt==="bottom")B.appendChild(v);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=u(b.insertInto+" "+b.insertAt.before);B.insertBefore(v,R)}}function L(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var v=p.indexOf(b);v>=0&&p.splice(v,1)}function S(b){var v=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),m(v,b.attrs),C(b,v),v}function m(b,v){Object.keys(v).forEach(function(B){b.setAttribute(B,v[B])})}function k(b,v){var B,_,R,D;if(v.transform&&b.css){if(!(D=v.transform(b.css)))return function(){};b.css=D}if(v.singleton){var z=h++;B=f||(f=S(v)),_=O.bind(null,B,z,!1),R=O.bind(null,B,z,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(B=function(N){var U=document.createElement("link");return N.attrs.type===void 0&&(N.attrs.type="text/css"),N.attrs.rel="stylesheet",m(U,N.attrs),C(N,U),U}(v),_=(function(N,U,ee){var J=ee.css,le=ee.sourceMap,Ue=U.convertToAbsoluteUrls===void 0&&le;(U.convertToAbsoluteUrls||Ue)&&(J=E(J)),le&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(le))))+" */");var me=new Blob([J],{type:"text/css"}),he=N.href;N.href=URL.createObjectURL(me),he&&URL.revokeObjectURL(he)}).bind(null,B,v),R=function(){L(B),B.href&&URL.revokeObjectURL(B.href)}):(B=S(v),_=(function(N,U){var ee=U.css,J=U.media;if(J&&N.setAttribute("media",J),N.styleSheet)N.styleSheet.cssText=ee;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(ee))}}).bind(null,B),R=function(){L(B)});return _(b),function(N){if(N){if(N.css===b.css&&N.media===b.media&&N.sourceMap===b.sourceMap)return;_(b=N)}else R()}}t.exports=function(b,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=c()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var B=y(b,v);return g(B,v),function(_){for(var R=[],D=0;D<B.length;D++){var z=B[D];(N=l[z.id]).refs--,R.push(N)}for(_&&g(y(_,v),v),D=0;D<R.length;D++){var N;if((N=R[D]).refs===0){for(var U=0;U<N.parts.length;U++)N.parts[U]();delete l[N.id]}}}};var x,A=(x=[],function(b,v){return x[b]=v,x.filter(Boolean).join(`
`)});function O(b,v,B,_){var R=B?"":_.css;if(b.styleSheet)b.styleSheet.cssText=A(v,R);else{var D=document.createTextNode(R),z=b.childNodes;z[v]&&b.removeChild(z[v]),z.length?b.insertBefore(D,z[v]):b.appendChild(D)}}},function(t,r){t.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,l=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,u){var f,h=u.trim().replace(/^"(.*)"$/,function(p,E){return E}).replace(/^'(.*)'$/,function(p,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?c:(f=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(t,r,o){o.r(r),o(0);function i(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function s(c,u,f){return u&&i(c.prototype,u),f&&i(c,f),c}o.d(r,"default",function(){return l});var l=function(){function c(u){var f=u.api;(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,c),this.api=f,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(c,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(c,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(u){if(u){var f=this.api.selection.findParentTag(this.tag,c.CSS);f?this.unwrap(f):this.wrap(u)}}},{key:"wrap",value:function(u){var f=document.createElement(this.tag);f.classList.add(c.CSS),f.appendChild(u.extractContents()),u.insertNode(f),this.api.selection.expandToTag(f)}},{key:"unwrap",value:function(u){this.api.selection.expandToTag(u);var f=window.getSelection(),h=f.getRangeAt(0),p=h.extractContents();u.parentNode.removeChild(u),h.insertNode(p),f.removeAllRanges(),f.addRange(h)}},{key:"checkState",value:function(){var u=this.api.selection.findParentTag(this.tag,c.CSS);this.button.classList.toggle(this.iconClasses.active,!!u)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:c.CSS}}}}]),c}()}]).default})})(ch);var yy=ch.exports;const wy=vo(yy);var uh={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(window,function(){return function(t){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=t,o.c=r,o.d=function(i,s,l){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:l})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)o.d(l,c,(function(u){return i[u]}).bind(null,c));return l},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(t,r,o){var i=o(1);typeof i=="string"&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(t.exports=i.locals)},function(t,r,o){(t.exports=o(2)(!1)).push([t.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(t,r){t.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var l=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var p=(g=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),E=h.sources.map(function(y){return"/*# sourceURL="+h.sourceRoot+y+" */"});return[f].concat(E).concat([p]).join(`
`)}var g;return[f].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},i.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var c={},u=0;u<this.length;u++){var f=this[u][0];typeof f=="number"&&(c[f]=!0)}for(u=0;u<s.length;u++){var h=s[u];typeof h[0]=="number"&&c[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),i.push(h))}},i}},function(t,r,o){var i,s,l={},c=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),u=function(b){var v={};return function(B){if(typeof B=="function")return B();if(v[B]===void 0){var _=(function(R){return document.querySelector(R)}).call(this,B);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}v[B]=_}return v[B]}}(),f=null,h=0,p=[],E=o(4);function g(b,v){for(var B=0;B<b.length;B++){var _=b[B],R=l[_.id];if(R){R.refs++;for(var D=0;D<R.parts.length;D++)R.parts[D](_.parts[D]);for(;D<_.parts.length;D++)R.parts.push(k(_.parts[D],v))}else{var z=[];for(D=0;D<_.parts.length;D++)z.push(k(_.parts[D],v));l[_.id]={id:_.id,refs:1,parts:z}}}}function y(b,v){for(var B=[],_={},R=0;R<b.length;R++){var D=b[R],z=v.base?D[0]+v.base:D[0],N={css:D[1],media:D[2],sourceMap:D[3]};_[z]?_[z].parts.push(N):B.push(_[z]={id:z,parts:[N]})}return B}function C(b,v){var B=u(b.insertInto);if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var _=p[p.length-1];if(b.insertAt==="top")_?_.nextSibling?B.insertBefore(v,_.nextSibling):B.appendChild(v):B.insertBefore(v,B.firstChild),p.push(v);else if(b.insertAt==="bottom")B.appendChild(v);else{if(typeof b.insertAt!="object"||!b.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=u(b.insertInto+" "+b.insertAt.before);B.insertBefore(v,R)}}function L(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b);var v=p.indexOf(b);v>=0&&p.splice(v,1)}function S(b){var v=document.createElement("style");return b.attrs.type===void 0&&(b.attrs.type="text/css"),m(v,b.attrs),C(b,v),v}function m(b,v){Object.keys(v).forEach(function(B){b.setAttribute(B,v[B])})}function k(b,v){var B,_,R,D;if(v.transform&&b.css){if(!(D=v.transform(b.css)))return function(){};b.css=D}if(v.singleton){var z=h++;B=f||(f=S(v)),_=O.bind(null,B,z,!1),R=O.bind(null,B,z,!0)}else b.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(B=function(N){var U=document.createElement("link");return N.attrs.type===void 0&&(N.attrs.type="text/css"),N.attrs.rel="stylesheet",m(U,N.attrs),C(N,U),U}(v),_=(function(N,U,ee){var J=ee.css,le=ee.sourceMap,Ue=U.convertToAbsoluteUrls===void 0&&le;(U.convertToAbsoluteUrls||Ue)&&(J=E(J)),le&&(J+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(le))))+" */");var me=new Blob([J],{type:"text/css"}),he=N.href;N.href=URL.createObjectURL(me),he&&URL.revokeObjectURL(he)}).bind(null,B,v),R=function(){L(B),B.href&&URL.revokeObjectURL(B.href)}):(B=S(v),_=(function(N,U){var ee=U.css,J=U.media;if(J&&N.setAttribute("media",J),N.styleSheet)N.styleSheet.cssText=ee;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(ee))}}).bind(null,B),R=function(){L(B)});return _(b),function(N){if(N){if(N.css===b.css&&N.media===b.media&&N.sourceMap===b.sourceMap)return;_(b=N)}else R()}}t.exports=function(b,v){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(v=v||{}).attrs=typeof v.attrs=="object"?v.attrs:{},v.singleton||typeof v.singleton=="boolean"||(v.singleton=c()),v.insertInto||(v.insertInto="head"),v.insertAt||(v.insertAt="bottom");var B=y(b,v);return g(B,v),function(_){for(var R=[],D=0;D<B.length;D++){var z=B[D];(N=l[z.id]).refs--,R.push(N)}for(_&&g(y(_,v),v),D=0;D<R.length;D++){var N;if((N=R[D]).refs===0){for(var U=0;U<N.parts.length;U++)N.parts[U]();delete l[N.id]}}}};var x,A=(x=[],function(b,v){return x[b]=v,x.filter(Boolean).join(`
`)});function O(b,v,B,_){var R=B?"":_.css;if(b.styleSheet)b.styleSheet.cssText=A(v,R);else{var D=document.createTextNode(R),z=b.childNodes;z[v]&&b.removeChild(z[v]),z.length?b.insertBefore(D,z[v]):b.appendChild(D)}}},function(t,r){t.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,l=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(c,u){var f,h=u.trim().replace(/^"(.*)"$/,function(p,E){return E}).replace(/^'(.*)'$/,function(p,E){return E});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?c:(f=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(t,r,o){o.r(r),o(0);function i(u){return function(f){if(Array.isArray(f)){for(var h=0,p=new Array(f.length);h<f.length;h++)p[h]=f[h];return p}}(u)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(u,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function l(u,f,h){return f&&s(u.prototype,f),h&&s(u,h),u}o.d(r,"default",function(){return c});var c=function(){function u(f){var h=f.data,p=f.config,E=f.api,g=f.readOnly;(function(L,S){if(!(L instanceof S))throw new TypeError("Cannot call a class as a function")})(this,u);var y=u.ALIGNMENTS,C=u.DEFAULT_ALIGNMENT;this.api=E,this.readOnly=g,this.quotePlaceholder=p.quotePlaceholder||u.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=p.captionPlaceholder||u.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:h.text||"",caption:h.caption||"",alignment:Object.values(y).includes(h.alignment)&&h.alignment||p.defaultAlignment||C}}return l(u,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return u.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(f){return f.caption?"".concat(f.text,"  ").concat(f.caption):f.text}}}}]),l(u,[{key:"render",value:function(){var f=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),h=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),p=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return h.dataset.placeholder=this.quotePlaceholder,p.dataset.placeholder=this.captionPlaceholder,f.appendChild(h),f.appendChild(p),f}},{key:"save",value:function(f){var h=f.querySelector(".".concat(this.CSS.text)),p=f.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:h.innerHTML,caption:p.innerHTML})}},{key:"renderSettings",value:function(){var f=this;return this.settings.map(function(h){return{icon:h.icon,label:f.api.i18n.t("Align ".concat((p=h.name,p[0].toUpperCase()+p.substr(1)))),onActivate:function(){return f._toggleTune(h.name)},isActive:f.data.alignment===h.name,closeOnActivate:!0};var p})}},{key:"_toggleTune",value:function(f){this.data.alignment=f}},{key:"_make",value:function(f){var h,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(f);Array.isArray(p)?(h=g.classList).add.apply(h,i(p)):p&&g.classList.add(p);for(var y in E)g[y]=E[y];return g}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),u}()}]).default})})(uh);var ky=uh.exports;const xy=vo(ky);window.editorInstance=function(n,e,t,r,o){return{instance:null,data:null,initEditor(){this.data=this.$wire.get(n),this.instance=new ny({holder:e,readOnly:t,placeholder:r,logLevel:o,tools:{image:{class:oy,config:{uploader:{uploadByFile:i=>new Promise(s=>{this.$wire.upload("uploads",i,l=>{const c=`fileupload:${l.substr(0,20)}`,u=f=>{s({success:1,file:{url:f.detail.url}}),window.removeEventListener(c,u)};window.addEventListener(c,u),this.$wire.call("completedImageUpload",l,c)})}),uploadByUrl:i=>this.$wire.loadImageFromUrl(i).then(s=>({success:1,file:{url:s}}))}}},list:sy,header:py,underline:my,code:by,"inline-code":wy,quote:xy},data:this.data,onChange:()=>{this.instance.save().then(i=>{this.$wire.set(n,i),this.$wire.call("save")}).catch(i=>{console.log("Saving failed: ",i)})}})}}};/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Rn(n){return getComputedStyle(n)}function on(n,e){for(var t in e){var r=e[t];typeof r=="number"&&(r=r+"px"),n.style[t]=r}return n}function Hi(n){var e=document.createElement("div");return e.className=n,e}var xu=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function or(n,e){if(!xu)throw new Error("No element matching method supported");return xu.call(n,e)}function ao(n){n.remove?n.remove():n.parentNode&&n.parentNode.removeChild(n)}function Eu(n,e){return Array.prototype.filter.call(n.children,function(t){return or(t,e)})}var Mt={main:"ps",rtl:"ps__rtl",element:{thumb:function(n){return"ps__thumb-"+n},rail:function(n){return"ps__rail-"+n},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(n){return"ps--active-"+n},scrolling:function(n){return"ps--scrolling-"+n}}},dh={x:null,y:null};function hh(n,e){var t=n.element.classList,r=Mt.state.scrolling(e);t.contains(r)?clearTimeout(dh[e]):t.add(r)}function fh(n,e){dh[e]=setTimeout(function(){return n.isAlive&&n.element.classList.remove(Mt.state.scrolling(e))},n.settings.scrollingThreshold)}function Ey(n,e){hh(n,e),fh(n,e)}var ai=function(e){this.element=e,this.handlers={}},ph={isEmpty:{configurable:!0}};ai.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)};ai.prototype.unbind=function(e,t){var r=this;this.handlers[e]=this.handlers[e].filter(function(o){return t&&o!==t?!0:(r.element.removeEventListener(e,o,!1),!1)})};ai.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};ph.isEmpty.get=function(){var n=this;return Object.keys(this.handlers).every(function(e){return n.handlers[e].length===0})};Object.defineProperties(ai.prototype,ph);var wo=function(){this.eventElements=[]};wo.prototype.eventElement=function(e){var t=this.eventElements.filter(function(r){return r.element===e})[0];return t||(t=new ai(e),this.eventElements.push(t)),t};wo.prototype.bind=function(e,t,r){this.eventElement(e).bind(t,r)};wo.prototype.unbind=function(e,t,r){var o=this.eventElement(e);o.unbind(t,r),o.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(o),1)};wo.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};wo.prototype.once=function(e,t,r){var o=this.eventElement(e),i=function(s){o.unbind(t,i),r(s)};o.bind(t,i)};function Ui(n){if(typeof window.CustomEvent=="function")return new CustomEvent(n);var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!1,!1,void 0),e}function os(n,e,t,r,o){r===void 0&&(r=!0),o===void 0&&(o=!1);var i;if(e==="top")i=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")i=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");Sy(n,t,i,r,o)}function Sy(n,e,t,r,o){var i=t[0],s=t[1],l=t[2],c=t[3],u=t[4],f=t[5];r===void 0&&(r=!0),o===void 0&&(o=!1);var h=n.element;n.reach[c]=null,h[l]<1&&(n.reach[c]="start"),h[l]>n[i]-n[s]-1&&(n.reach[c]="end"),e&&(h.dispatchEvent(Ui("ps-scroll-"+c)),e<0?h.dispatchEvent(Ui("ps-scroll-"+u)):e>0&&h.dispatchEvent(Ui("ps-scroll-"+f)),r&&Ey(n,c)),n.reach[c]&&(e||o)&&h.dispatchEvent(Ui("ps-"+c+"-reach-"+n.reach[c]))}function _t(n){return parseInt(n,10)||0}function _y(n){return or(n,"input,[contenteditable]")||or(n,"select,[contenteditable]")||or(n,"textarea,[contenteditable]")||or(n,"button,[contenteditable]")}function Cy(n){var e=Rn(n);return _t(e.width)+_t(e.paddingLeft)+_t(e.paddingRight)+_t(e.borderLeftWidth)+_t(e.borderRightWidth)}var no={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Yn(n){var e=n.element,t=Math.floor(e.scrollTop),r=e.getBoundingClientRect();n.containerWidth=Math.round(r.width),n.containerHeight=Math.round(r.height),n.contentWidth=e.scrollWidth,n.contentHeight=e.scrollHeight,e.contains(n.scrollbarXRail)||(Eu(e,Mt.element.rail("x")).forEach(function(o){return ao(o)}),e.appendChild(n.scrollbarXRail)),e.contains(n.scrollbarYRail)||(Eu(e,Mt.element.rail("y")).forEach(function(o){return ao(o)}),e.appendChild(n.scrollbarYRail)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=Su(n,_t(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=_t((n.negativeScrollAdjustment+e.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=Su(n,_t(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=_t(t*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),Ty(e,n),n.scrollbarXActive?e.classList.add(Mt.state.active("x")):(e.classList.remove(Mt.state.active("x")),n.scrollbarXWidth=0,n.scrollbarXLeft=0,e.scrollLeft=n.isRtl===!0?n.contentWidth:0),n.scrollbarYActive?e.classList.add(Mt.state.active("y")):(e.classList.remove(Mt.state.active("y")),n.scrollbarYHeight=0,n.scrollbarYTop=0,e.scrollTop=0)}function Su(n,e){return n.settings.minScrollbarLength&&(e=Math.max(e,n.settings.minScrollbarLength)),n.settings.maxScrollbarLength&&(e=Math.min(e,n.settings.maxScrollbarLength)),e}function Ty(n,e){var t={width:e.railXWidth},r=Math.floor(n.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+n.scrollLeft+e.containerWidth-e.contentWidth:t.left=n.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-r:t.top=e.scrollbarXTop+r,on(e.scrollbarXRail,t);var o={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+n.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:o.right=e.scrollbarYRight-n.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+n.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+n.scrollLeft,on(e.scrollbarYRail,o),on(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),on(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function Oy(n){n.element,n.event.bind(n.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-n.scrollbarYRail.getBoundingClientRect().top,r=t>n.scrollbarYTop?1:-1;n.element.scrollTop+=r*n.containerHeight,Yn(n),e.stopPropagation()}),n.event.bind(n.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),n.event.bind(n.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-n.scrollbarXRail.getBoundingClientRect().left,r=t>n.scrollbarXLeft?1:-1;n.element.scrollLeft+=r*n.containerWidth,Yn(n),e.stopPropagation()})}function By(n){_u(n,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),_u(n,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function _u(n,e){var t=e[0],r=e[1],o=e[2],i=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=n.element,p=null,E=null,g=null;function y(S){S.touches&&S.touches[0]&&(S[o]=S.touches[0].pageY),h[c]=p+g*(S[o]-E),hh(n,u),Yn(n),S.stopPropagation(),S.type.startsWith("touch")&&S.changedTouches.length>1&&S.preventDefault()}function C(){fh(n,u),n[f].classList.remove(Mt.state.clicking),n.event.unbind(n.ownerDocument,"mousemove",y)}function L(S,m){p=h[c],m&&S.touches&&(S[o]=S.touches[0].pageY),E=S[o],g=(n[r]-n[t])/(n[i]-n[l]),m?n.event.bind(n.ownerDocument,"touchmove",y):(n.event.bind(n.ownerDocument,"mousemove",y),n.event.once(n.ownerDocument,"mouseup",C),S.preventDefault()),n[f].classList.add(Mt.state.clicking),S.stopPropagation()}n.event.bind(n[s],"mousedown",function(S){L(S)}),n.event.bind(n[s],"touchstart",function(S){L(S,!0)})}function Ay(n){var e=n.element,t=function(){return or(e,":hover")},r=function(){return or(n.scrollbarX,":focus")||or(n.scrollbarY,":focus")};function o(i,s){var l=Math.floor(e.scrollTop);if(i===0){if(!n.scrollbarYActive)return!1;if(l===0&&s>0||l>=n.contentHeight-n.containerHeight&&s<0)return!n.settings.wheelPropagation}var c=e.scrollLeft;if(s===0){if(!n.scrollbarXActive)return!1;if(c===0&&i<0||c>=n.contentWidth-n.containerWidth&&i>0)return!n.settings.wheelPropagation}return!0}n.event.bind(n.ownerDocument,"keydown",function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&!(!t()&&!r())){var s=document.activeElement?document.activeElement:n.ownerDocument.activeElement;if(s){if(s.tagName==="IFRAME")s=s.contentDocument.activeElement;else for(;s.shadowRoot;)s=s.shadowRoot.activeElement;if(_y(s))return}var l=0,c=0;switch(i.which){case 37:i.metaKey?l=-n.contentWidth:i.altKey?l=-n.containerWidth:l=-30;break;case 38:i.metaKey?c=n.contentHeight:i.altKey?c=n.containerHeight:c=30;break;case 39:i.metaKey?l=n.contentWidth:i.altKey?l=n.containerWidth:l=30;break;case 40:i.metaKey?c=-n.contentHeight:i.altKey?c=-n.containerHeight:c=-30;break;case 32:i.shiftKey?c=n.containerHeight:c=-n.containerHeight;break;case 33:c=n.containerHeight;break;case 34:c=-n.containerHeight;break;case 36:c=n.contentHeight;break;case 35:c=-n.contentHeight;break;default:return}n.settings.suppressScrollX&&l!==0||n.settings.suppressScrollY&&c!==0||(e.scrollTop-=c,e.scrollLeft+=l,Yn(n),o(l,c)&&i.preventDefault())}})}function Ly(n){var e=n.element;function t(s,l){var c=Math.floor(e.scrollTop),u=e.scrollTop===0,f=c+e.offsetHeight===e.scrollHeight,h=e.scrollLeft===0,p=e.scrollLeft+e.offsetWidth===e.scrollWidth,E;return Math.abs(l)>Math.abs(s)?E=u||f:E=h||p,E?!n.settings.wheelPropagation:!0}function r(s){var l=s.deltaX,c=-1*s.deltaY;return(typeof l>"u"||typeof c>"u")&&(l=-1*s.wheelDeltaX/6,c=s.wheelDeltaY/6),s.deltaMode&&s.deltaMode===1&&(l*=10,c*=10),l!==l&&c!==c&&(l=0,c=s.wheelDelta),s.shiftKey?[-c,-l]:[l,c]}function o(s,l,c){if(!no.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(s))return!1;for(var u=s;u&&u!==e;){if(u.classList.contains(Mt.element.consuming))return!0;var f=Rn(u);if(c&&f.overflowY.match(/(scroll|auto)/)){var h=u.scrollHeight-u.clientHeight;if(h>0&&(u.scrollTop>0&&c<0||u.scrollTop<h&&c>0))return!0}if(l&&f.overflowX.match(/(scroll|auto)/)){var p=u.scrollWidth-u.clientWidth;if(p>0&&(u.scrollLeft>0&&l<0||u.scrollLeft<p&&l>0))return!0}u=u.parentNode}return!1}function i(s){var l=r(s),c=l[0],u=l[1];if(!o(s.target,c,u)){var f=!1;n.settings.useBothWheelAxes?n.scrollbarYActive&&!n.scrollbarXActive?(u?e.scrollTop-=u*n.settings.wheelSpeed:e.scrollTop+=c*n.settings.wheelSpeed,f=!0):n.scrollbarXActive&&!n.scrollbarYActive&&(c?e.scrollLeft+=c*n.settings.wheelSpeed:e.scrollLeft-=u*n.settings.wheelSpeed,f=!0):(e.scrollTop-=u*n.settings.wheelSpeed,e.scrollLeft+=c*n.settings.wheelSpeed),Yn(n),f=f||t(c,u),f&&!s.ctrlKey&&(s.stopPropagation(),s.preventDefault())}}typeof window.onwheel<"u"?n.event.bind(e,"wheel",i):typeof window.onmousewheel<"u"&&n.event.bind(e,"mousewheel",i)}function My(n){if(!no.supportsTouch&&!no.supportsIePointer)return;var e=n.element;function t(g,y){var C=Math.floor(e.scrollTop),L=e.scrollLeft,S=Math.abs(g),m=Math.abs(y);if(m>S){if(y<0&&C===n.contentHeight-n.containerHeight||y>0&&C===0)return window.scrollY===0&&y>0&&no.isChrome}else if(S>m&&(g<0&&L===n.contentWidth-n.containerWidth||g>0&&L===0))return!0;return!0}function r(g,y){e.scrollTop-=y,e.scrollLeft-=g,Yn(n)}var o={},i=0,s={},l=null;function c(g){return g.targetTouches?g.targetTouches[0]:g}function u(g){return g.pointerType&&g.pointerType==="pen"&&g.buttons===0?!1:!!(g.targetTouches&&g.targetTouches.length===1||g.pointerType&&g.pointerType!=="mouse"&&g.pointerType!==g.MSPOINTER_TYPE_MOUSE)}function f(g){if(u(g)){var y=c(g);o.pageX=y.pageX,o.pageY=y.pageY,i=new Date().getTime(),l!==null&&clearInterval(l)}}function h(g,y,C){if(!e.contains(g))return!1;for(var L=g;L&&L!==e;){if(L.classList.contains(Mt.element.consuming))return!0;var S=Rn(L);if(C&&S.overflowY.match(/(scroll|auto)/)){var m=L.scrollHeight-L.clientHeight;if(m>0&&(L.scrollTop>0&&C<0||L.scrollTop<m&&C>0))return!0}if(y&&S.overflowX.match(/(scroll|auto)/)){var k=L.scrollWidth-L.clientWidth;if(k>0&&(L.scrollLeft>0&&y<0||L.scrollLeft<k&&y>0))return!0}L=L.parentNode}return!1}function p(g){if(u(g)){var y=c(g),C={pageX:y.pageX,pageY:y.pageY},L=C.pageX-o.pageX,S=C.pageY-o.pageY;if(h(g.target,L,S))return;r(L,S),o=C;var m=new Date().getTime(),k=m-i;k>0&&(s.x=L/k,s.y=S/k,i=m),t(L,S)&&g.preventDefault()}}function E(){n.settings.swipeEasing&&(clearInterval(l),l=setInterval(function(){if(n.isInitialized){clearInterval(l);return}if(!s.x&&!s.y){clearInterval(l);return}if(Math.abs(s.x)<.01&&Math.abs(s.y)<.01){clearInterval(l);return}if(!n.element){clearInterval(l);return}r(s.x*30,s.y*30),s.x*=.8,s.y*=.8},10))}no.supportsTouch?(n.event.bind(e,"touchstart",f),n.event.bind(e,"touchmove",p),n.event.bind(e,"touchend",E)):no.supportsIePointer&&(window.PointerEvent?(n.event.bind(e,"pointerdown",f),n.event.bind(e,"pointermove",p),n.event.bind(e,"pointerup",E)):window.MSPointerEvent&&(n.event.bind(e,"MSPointerDown",f),n.event.bind(e,"MSPointerMove",p),n.event.bind(e,"MSPointerUp",E)))}var Iy=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},Ry={"click-rail":Oy,"drag-thumb":By,keyboard:Ay,wheel:Ly,touch:My},li=function(e,t){var r=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(Mt.main),this.settings=Iy();for(var o in t)this.settings[o]=t[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i=function(){return e.classList.add(Mt.state.focus)},s=function(){return e.classList.remove(Mt.state.focus)};this.isRtl=Rn(e).direction==="rtl",this.isRtl===!0&&e.classList.add(Mt.rtl),this.isNegativeScroll=function(){var u=e.scrollLeft,f=null;return e.scrollLeft=-1,f=e.scrollLeft<0,e.scrollLeft=u,f}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new wo,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=Hi(Mt.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=Hi(Mt.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=Rn(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=_t(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=_t(l.borderLeftWidth)+_t(l.borderRightWidth),on(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=_t(l.marginLeft)+_t(l.marginRight),on(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Hi(Mt.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=Hi(Mt.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=Rn(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=_t(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Cy(this.scrollbarY):null,this.railBorderYWidth=_t(c.borderTopWidth)+_t(c.borderBottomWidth),on(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=_t(c.marginTop)+_t(c.marginBottom),on(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(u){return Ry[u](r)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(u){return r.onScroll(u)}),Yn(this)};li.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,on(this.scrollbarXRail,{display:"block"}),on(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=_t(Rn(this.scrollbarXRail).marginLeft)+_t(Rn(this.scrollbarXRail).marginRight),this.railYMarginHeight=_t(Rn(this.scrollbarYRail).marginTop)+_t(Rn(this.scrollbarYRail).marginBottom),on(this.scrollbarXRail,{display:"none"}),on(this.scrollbarYRail,{display:"none"}),Yn(this),os(this,"top",0,!1,!0),os(this,"left",0,!1,!0),on(this.scrollbarXRail,{display:""}),on(this.scrollbarYRail,{display:""}))};li.prototype.onScroll=function(e){this.isAlive&&(Yn(this),os(this,"top",this.element.scrollTop-this.lastScrollTop),os(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};li.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ao(this.scrollbarX),ao(this.scrollbarY),ao(this.scrollbarXRail),ao(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};li.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};window.Sortable=je;window.PerfectScrollbar=li;$m.data("mainState",()=>{const n=i=>{document.body.dir=i?"rtl":"ltr"},e={pageLoaded:!1,showText:!1,init(){window.onload=()=>{this.pageLoaded=!0},this.animateCharge()},animateCharge(){setInterval(()=>{this.showText=!0,setTimeout(()=>{this.showText=!1},2e3)},4e3)}},t=()=>window.localStorage.getItem("dark")==="true"||!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,r=i=>{window.localStorage.setItem("dark",i)},o=i=>{globalThis.isSidebarOpen&&!i.target.closest(".sidebar")&&!i.target.closest(".sidebar-toggle")&&(globalThis.isSidebarOpen=!1)};return document.addEventListener("click",o),n(!1),{isRtl:!1,toggleRtl(){this.isRtl=!this.isRtl,n(this.isRtl),window.localStorage.setItem("rtl",this.isRtl)},loadingMask:e,isDarkMode:t(),toggleTheme(){this.isDarkMode=!this.isDarkMode,r(this.isDarkMode)},isSidebarOpen:sessionStorage.getItem("sidebarOpen")==="true",isRightSidebarOpen:sessionStorage.getItem("rightSidebarOpen")==="true",handleSidebarToggle(){this.isSidebarOpen=!this.isSidebarOpen,sessionStorage.setItem("sidebarOpen",this.isSidebarOpen.toString())},handleRightSidebarToggle(){this.isRightSidebarOpen=!this.isRightSidebarOpen,sessionStorage.setItem("rightSidebarOpen",this.isRightSidebarOpen.toString())},closeSidebarOnMobile(){window.innerWidth<1024&&(this.isSidebarOpen=!1,this.isRightSidebarOpen=!1)},isSidebarHovered:!1,handleSidebarHover(i){window.innerWidth<1024||(this.isSidebarHovered=i)},handleWindowResize(){window.innerWidth<=1024?(this.isSidebarOpen=!1,this.isRightSidebarOpen=!1):(this.isSidebarOpen=!0,this.isRightSidebarOpen=!1)},scrollingDown:!1,scrollingUp:!1}});hl.start();
